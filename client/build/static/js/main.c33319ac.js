/*! For license information please see main.c33319ac.js.LICENSE.txt */
(()=>{var e={902:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(T){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var s={},a={};function o(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=l(e,(0|e)<0?-1:0,!0),o&&(a[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=s[e])?r:(n=l(e,e<0?-1:0,!1),o&&(s[e]=n),n)}function i(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=p)return S}else{if(e<=-f)return k;if(e+1>=f)return x}return e<0?i(-e,t).neg():l(e%h|0,e/h|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=o,n.fromNumber=i,n.fromBits=l;var u=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var s=i(u(n,8)),a=g,o=0;o<e.length;o+=8){var l=Math.min(8,e.length-o),d=parseInt(e.substring(o,o+l),n);if(l<8){var h=i(u(n,l));a=a.mul(h).add(i(d))}else a=(a=a.mul(s)).add(i(d))}return a.unsigned=t,a}function d(e,t){return"number"===typeof e?i(e,t):"string"===typeof e?c(e,t):l(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=d;var h=4294967296,p=h*h,f=p/2,m=o(1<<24),g=o(0);n.ZERO=g;var y=o(0,!0);n.UZERO=y;var v=o(1);n.ONE=v;var b=o(1,!0);n.UONE=b;var w=o(-1);n.NEG_ONE=w;var x=l(-1,2147483647,!1);n.MAX_VALUE=x;var S=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=S;var k=l(0,-2147483648,!1);n.MIN_VALUE=k;var E=n.prototype;E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},E.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(k)){var t=i(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var s=i(u(e,6),this.unsigned),a=this,o="";;){var l=a.div(s),c=(a.sub(l.mul(s)).toInt()>>>0).toString(e);if((a=l).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},E.isZero=function(){return 0===this.high&&0===this.low},E.eqz=E.isZero,E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return 1===(1&this.low)},E.isEven=function(){return 0===(1&this.low)},E.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},E.eq=E.equals,E.notEquals=function(e){return!this.eq(e)},E.neq=E.notEquals,E.ne=E.notEquals,E.lessThan=function(e){return this.comp(e)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(e){return this.comp(e)<=0},E.lte=E.lessThanOrEqual,E.le=E.lessThanOrEqual,E.greaterThan=function(e){return this.comp(e)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(e){return this.comp(e)>=0},E.gte=E.greaterThanOrEqual,E.ge=E.greaterThanOrEqual,E.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(v)},E.neg=E.negate,E.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,s=this.low>>>16,a=65535&this.low,o=e.high>>>16,i=65535&e.high,u=e.low>>>16,c=0,h=0,p=0,f=0;return p+=(f+=a+(65535&e.low))>>>16,h+=(p+=s+u)>>>16,c+=(h+=n+i)>>>16,c+=t+o,l((p&=65535)<<16|(f&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},E.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},E.sub=E.subtract,E.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(k))return e.isOdd()?k:g;if(e.eq(k))return this.isOdd()?k:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return i(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,s=65535&this.high,a=this.low>>>16,o=65535&this.low,u=e.high>>>16,c=65535&e.high,h=e.low>>>16,p=65535&e.low,f=0,y=0,v=0,b=0;return v+=(b+=o*p)>>>16,y+=(v+=a*p)>>>16,v&=65535,y+=(v+=o*h)>>>16,f+=(y+=s*p)>>>16,y&=65535,f+=(y+=a*h)>>>16,y&=65535,f+=(y+=o*c)>>>16,f+=n*p+s*h+a*c+o*u,l((v&=65535)<<16|(b&=65535),(f&=65535)<<16|(y&=65535),this.unsigned)},E.mul=E.multiply,E.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,s,a;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return b;a=y}else{if(this.eq(k))return e.eq(v)||e.eq(w)?k:e.eq(k)?v:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?v:w:(s=this.sub(e.mul(n)),a=n.add(s.div(e)));if(e.eq(k))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=g}for(s=this;s.gte(e);){n=Math.max(1,Math.floor(s.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),c=o<=48?1:u(2,o-48),h=i(n),p=h.mul(e);p.isNegative()||p.gt(s);)p=(h=i(n-=c,this.unsigned)).mul(e);h.isZero()&&(h=v),a=a.add(h),s=s.sub(p)}return a},E.div=E.divide,E.modulo=function(e){return r(e)||(e=d(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},E.mod=E.modulo,E.rem=E.modulo,E.not=function(){return l(~this.low,~this.high,this.unsigned)},E.and=function(e){return r(e)||(e=d(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},E.or=function(e){return r(e)||(e=d(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},E.xor=function(e){return r(e)||(e=d(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},E.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.shr_u=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},E.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},E.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},63:(e,t,n)=>{"use strict";var r=n(908),s=n(54);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(i[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,s,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),_=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var $=!1;function B(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var s=u.stack.split("\n"),a=r.stack.split("\n"),o=s.length-1,i=a.length-1;1<=o&&0<=i&&s[o]!==a[i];)i--;for(;1<=o&&0<=i;o--,i--)if(s[o]!==a[i]){if(1!==o||1!==i)do{if(o--,0>--i||s[o]!==a[i]){var l="\n"+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=i);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case T:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ee=null;function Te(e){if(e=bs(e)){if("function"!==typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=xs(t),Se(e.stateNode,e.type,t))}}function Ne(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function _e(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Oe=!1;function Re(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ce(e,t,n)}finally{Oe=!1,(null!==ke||null!==Ee)&&(Ae(),_e())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xs(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(c)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){De=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ce){De=!1}function Me(e,t,n,r,s,a,o,i,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Le=!1,Fe=null,je=!1,$e=null,Be={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,s,a,o,i,l){Le=!1,Fe=null,Me.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(r=s.return)){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return We(s),e;if(o===r)return We(s),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=s.unstable_scheduleCallback,Ge=s.unstable_cancelCallback,Ye=s.unstable_shouldYield,Qe=s.unstable_requestPaint,Xe=s.unstable_now,Je=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var i=o&~s;0!==i?r=dt(i):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~s)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(a=t&-t)||16===s&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-ot(t)),r|=e[n],t&=~s;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,kt,Et,Tt,Nt=!1,_t=[],Ct=null,At=null,Ot=null,Rt=new Map,Pt=new Map,Dt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=bs(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Ft(e){var t=vs(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void Tt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bs(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function $t(e,t,n){jt(e)&&n.delete(t)}function Bt(){Nt=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Ot&&jt(Ot)&&(Ot=null),Rt.forEach($t),Pt.forEach($t)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<_t.length){zt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Ot&&zt(Ot,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var Ut=w.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,r){var s=bt,a=Ut.transition;Ut.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=s,Ut.transition=a}}function Ht(e,t,n,r){var s=bt,a=Ut.transition;Ut.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=s,Ut.transition=a}}function Kt(e,t,n,r){if(Wt){var s=Yt(e,t,n,r);if(null===s)Wr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,s),!0;case"dragenter":return At=Lt(At,e,t,n,r,s),!0;case"mouseover":return Ot=Lt(Ot,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==s;){var a=bs(s);if(null!==a&&xt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Gt,n),a===s)break;s=a}null!==s&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Gt=null;function Yt(e,t,n,r){if(Gt=null,null!==(e=vs(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,s="value"in Xt?Xt.value:Xt.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===s[a-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),dn=F({},un,{view:0,detail:0}),hn=sn(dn),pn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=sn(pn),mn=sn(F({},pn,{dataTransfer:0})),gn=sn(F({},dn,{relatedTarget:0})),yn=sn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(vn),wn=sn(F({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Tn(){return En}var Nn=F({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=sn(Nn),Cn=sn(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),On=sn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(Rn),Dn=[9,13,27,32],In=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Mn,Fn=c&&(!In||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),$n=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function qn(e,t,n,r){Ne(r),0<(t=Hr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Gn(e){jr(e,0)}function Yn(e){if(K(ws(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];qn(t,Kn,e,xe(e)),Re(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!d.call(t,s)||!ir(e[s],t[s]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=void 0===r.end?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=cr(n,a);var o=cr(n,r);s&&o&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Er={};function Tr(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Nr=Tr("animationend"),_r=Tr("animationiteration"),Cr=Tr("animationstart"),Ar=Tr("transitionend"),Or=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Or.set(e,t),l(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Ir=Rr[Dr];Pr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Pr(Nr,"onAnimationEnd"),Pr(_r,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,o,i,l,u){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var c=Fe;Le=!1,Fe=null,je||(je=!0,$e=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],l=i.instance,u=i.currentTarget;if(i=i.listener,l!==a&&s.isPropagationStopped())break e;Fr(s,i,u),a=l}else for(o=0;o<r.length;o++){if(l=(i=r[o]).instance,u=i.currentTarget,i=i.listener,l!==a&&s.isPropagationStopped())break e;Fr(s,i,u),a=l}}}if(je)throw e=$e,je=!1,$e=null,e}function $r(e,t){var n=t[ms];void 0===n&&(n=t[ms]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Qt(t)){case 1:var s=qt;break;case 4:s=Ht;break;default:s=Kt}n=s.bind(null,t,n,e),s=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,s){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var i=r.stateNode.containerInfo;if(i===s||8===i.nodeType&&i.parentNode===s)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;o=o.return}for(;null!==i;){if(null===(o=vs(i)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}i=i.parentNode}}r=r.return}Re((function(){var r=a,s=xe(n),o=[];e:{var i=Or.get(e);if(void 0!==i){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Nr:case _r:case Cr:l=yn;break;case Ar:l=On;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==i?i+"Capture":null:i;c=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Pe(f,h))&&c.push(qr(f,m,p)))),d)break;f=f.return}0<c.length&&(i=new l(i,u,null,n,s),o.push({event:i,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!vs(u)&&!u[fs])&&(l||i)&&(i=s.window===s?s:(i=s.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?vs(u):null)&&(u!==(d=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?i:ws(l),p=null==u?i:ws(u),(i=new c(m,f+"leave",l,n,s)).target=d,i.relatedTarget=p,m=null,vs(s)===r&&((c=new c(h,f+"enter",u,n,s)).target=p,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,f=0,p=c=l;p;p=Kr(p))f++;for(p=0,m=h;m;m=Kr(m))p++;for(;0<f-p;)c=Kr(c),f--;for(;0<p-f;)h=Kr(h),p--;for(;f--;){if(c===h||null!==h&&c===h.alternate)break e;c=Kr(c),h=Kr(h)}c=null}else c=null;null!==l&&Gr(o,i,l,c,!1),null!==u&&null!==d&&Gr(o,d,u,c,!0)}if("select"===(l=(i=r?ws(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Qn;else if(Wn(i))if(Xn)g=or;else{g=sr;var y=rr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=ar);switch(g&&(g=g(e,r))?qn(o,g,n,s):(y&&y(e,i,r),"focusout"===e&&(y=i._wrapperState)&&y.controlled&&"number"===i.type&&ee(i,"number",i.value)),y=r?ws(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,s);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,s)}var v;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(v=en()):(Jt="value"in(Xt=s)?Xt.value:Xt.textContent,Vn=!0)),0<(y=Hr(r,b)).length&&(b=new wn(b,e,null,n,s),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=zn(n))&&(b.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:($n=!0,jn);case"textInput":return(e=t.data)===jn&&$n?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!In&&Bn(e,t)?(e=en(),Zt=Jt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(s=new wn("onBeforeInput","beforeinput",null,n,s),o.push({event:s,listeners:r}),s.data=v))}jr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Pe(e,n))&&r.unshift(qr(e,a,s)),null!=(a=Pe(e,t))&&r.push(qr(e,a,s))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,s){for(var a=t._reactName,o=[];null!==n&&n!==r;){var i=n,l=i.alternate,u=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==u&&(i=u,s?null!=(l=Pe(n,a))&&o.unshift(qr(n,l,i)):s||null!=(l=Pe(n,a))&&o.push(qr(n,l,i))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,as="function"===typeof Promise?Promise:void 0,os="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof as?function(e){return as.resolve(null).then(e).catch(is)}:rs;function is(e){setTimeout((function(){throw e}))}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Vt(t)}function us(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cs(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),hs="__reactFiber$"+ds,ps="__reactProps$"+ds,fs="__reactContainer$"+ds,ms="__reactEvents$"+ds,gs="__reactListeners$"+ds,ys="__reactHandles$"+ds;function vs(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fs]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cs(e);null!==e;){if(n=e[hs])return n;e=cs(e)}return t}n=(e=n).parentNode}return null}function bs(e){return!(e=e[hs]||e[fs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ws(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xs(e){return e[ps]||null}var Ss=[],ks=-1;function Es(e){return{current:e}}function Ts(e){0>ks||(e.current=Ss[ks],Ss[ks]=null,ks--)}function Ns(e,t){ks++,Ss[ks]=e.current,e.current=t}var _s={},Cs=Es(_s),As=Es(!1),Os=_s;function Rs(e,t){var n=e.type.contextTypes;if(!n)return _s;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in n)a[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ps(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ds(){Ts(As),Ts(Cs)}function Is(e,t,n){if(Cs.current!==_s)throw Error(a(168));Ns(Cs,t),Ns(As,n)}function Ms(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(a(108,U(e)||"Unknown",s));return F({},n,r)}function Ls(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_s,Os=Cs.current,Ns(Cs,e),Ns(As,As.current),!0}function Fs(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ms(e,t,Os),r.__reactInternalMemoizedMergedChildContext=e,Ts(As),Ts(Cs),Ns(Cs,e)):Ts(As),Ns(As,n)}var js=null,$s=!1,Bs=!1;function zs(e){null===js?js=[e]:js.push(e)}function Vs(){if(!Bs&&null!==js){Bs=!0;var e=0,t=bt;try{var n=js;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}js=null,$s=!1}catch(s){throw null!==js&&(js=js.slice(e+1)),Ke(Ze,Vs),s}finally{bt=t,Bs=!1}}return null}var Us=[],Ws=0,qs=null,Hs=0,Ks=[],Gs=0,Ys=null,Qs=1,Xs="";function Js(e,t){Us[Ws++]=Hs,Us[Ws++]=qs,qs=e,Hs=t}function Zs(e,t,n){Ks[Gs++]=Qs,Ks[Gs++]=Xs,Ks[Gs++]=Ys,Ys=e;var r=Qs;e=Xs;var s=32-ot(r)-1;r&=~(1<<s),n+=1;var a=32-ot(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Qs=1<<32-ot(t)+s|n<<s|r,Xs=a+e}else Qs=1<<a|n<<s|r,Xs=e}function ea(e){null!==e.return&&(Js(e,1),Zs(e,1,0))}function ta(e){for(;e===qs;)qs=Us[--Ws],Us[Ws]=null,Hs=Us[--Ws],Us[Ws]=null;for(;e===Ys;)Ys=Ks[--Gs],Ks[Gs]=null,Xs=Ks[--Gs],Ks[Gs]=null,Qs=Ks[--Gs],Ks[Gs]=null}var na=null,ra=null,sa=!1,aa=null;function oa(e,t){var n=Ru(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ia(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=us(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ys?{id:Qs,overflow:Xs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ru(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(sa){var t=ra;if(t){var n=t;if(!ia(e,t)){if(la(e))throw Error(a(418));t=us(n.nextSibling);var r=na;t&&ia(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,sa=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,sa=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!sa)return ca(e),sa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=us(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=us(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?us(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=us(e.nextSibling)}function pa(){ra=na=null,sa=!1}function fa(e){null===aa?aa=[e]:aa.push(e)}var ma=w.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var s=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=s.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&va(a)===t.type)?((r=s(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=Iu(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ju(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,a)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Iu(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case S:return(t=ju(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mu(t,e.mode,n,null)).return=e,t;ya(e,t)}return null}function p(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===s?u(e,t,n,r):null;case S:return n.key===s?c(e,t,n,r):null;case P:return p(e,t,(s=n._init)(n._payload),r)}if(te(n)||M(n))return null!==s?null:d(e,t,n,r,null);ya(e,n)}return null}function f(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case P:return f(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,s,null);ya(t,r)}return null}function m(s,a,i,l){for(var u=null,c=null,d=a,m=a=0,g=null;null!==d&&m<i.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(s,d,i[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(s,d),a=o(y,a,m),null===c?u=y:c.sibling=y,c=y,d=g}if(m===i.length)return n(s,d),sa&&Js(s,m),u;if(null===d){for(;m<i.length;m++)null!==(d=h(s,i[m],l))&&(a=o(d,a,m),null===c?u=d:c.sibling=d,c=d);return sa&&Js(s,m),u}for(d=r(s,d);m<i.length;m++)null!==(g=f(d,s,m,i[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(s,e)})),sa&&Js(s,m),u}function g(s,i,l,u){var c=M(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,m=i,g=i=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=p(s,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(s,m),i=o(b,i,g),null===d?c=b:d.sibling=b,d=b,m=y}if(v.done)return n(s,m),sa&&Js(s,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(s,v.value,u))&&(i=o(v,i,g),null===d?c=v:d.sibling=v,d=v);return sa&&Js(s,g),c}for(m=r(s,m);!v.done;g++,v=l.next())null!==(v=f(m,s,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),i=o(v,i,g),null===d?c=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(s,e)})),sa&&Js(s,g),c}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===k){if(7===c.tag){n(r,c.sibling),(a=s(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&va(u)===c.type){n(r,c.sibling),(a=s(c,o.props)).ref=ga(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===k?((a=Mu(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Iu(o.type,o.key,o.props,null,r.mode,l)).ref=ga(r,a,o),l.return=r,r=l)}return i(r);case S:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=s(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=ju(o,r.mode,l)).return=r,r=a}return i(r);case P:return e(r,a,(c=o._init)(o._payload),l)}if(te(o))return m(r,a,o,l);if(M(o))return g(r,a,o,l);ya(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=s(a,o)).return=r,r=a):(n(r,a),(a=Fu(o,r.mode,l)).return=r,r=a),i(r)):n(r,a)}}var wa=ba(!0),xa=ba(!1),Sa=Es(null),ka=null,Ea=null,Ta=null;function Na(){Ta=Ea=ka=null}function _a(e){var t=Sa.current;Ts(Sa),e._currentValue=t}function Ca(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Aa(e,t){ka=e,Ta=Ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bi=!0),e.firstContext=null)}function Oa(e){var t=e._currentValue;if(Ta!==e)if(e={context:e,memoizedValue:t,next:null},null===Ea){if(null===ka)throw Error(a(308));Ea=e,ka.dependencies={lanes:0,firstContext:e}}else Ea=Ea.next=e;return t}var Ra=null;function Pa(e){null===Ra?Ra=[e]:Ra.push(e)}function Da(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Pa(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ia(e,r)}function Ia(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ma=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ja(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $a(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ia(e,n)}return null===(s=r.interleaved)?(t.next=t,Pa(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ia(e,n)}function Ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function za(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?s=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Va(e,t,n,r){var s=e.updateQueue;Ma=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,i=s.shared.pending;if(null!==i){s.shared.pending=null;var l=i,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((i=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===i?c.firstBaseUpdate=u:i.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=s.baseState;for(o=0,c=u=l=null,i=a;;){var h=i.lane,p=i.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var f=e,m=i;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=F({},d,h);break e;case 2:Ma=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[i]:h.push(i))}else p={eventTime:p,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,o|=h;if(null===(i=i.next)){if(null===(i=s.shared.pending))break;i=(h=i).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===c&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,null!==(t=s.shared.interleaved)){s=t;do{o|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=d}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(a(191,s));s.call(r)}}}var Wa={},qa=Es(Wa),Ha=Es(Wa),Ka=Es(Wa);function Ga(e){if(e===Wa)throw Error(a(174));return e}function Ya(e,t){switch(Ns(Ka,t),Ns(Ha,e),Ns(qa,Wa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ts(qa),Ns(qa,t)}function Qa(){Ts(qa),Ts(Ha),Ts(Ka)}function Xa(e){Ga(Ka.current);var t=Ga(qa.current),n=le(t,e.type);t!==n&&(Ns(Ha,e),Ns(qa,n))}function Ja(e){Ha.current===e&&(Ts(qa),Ts(Ha))}var Za=Es(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,so=w.ReactCurrentBatchConfig,ao=0,oo=null,io=null,lo=null,uo=!1,co=!1,ho=0,po=0;function fo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function go(e,t,n,r,s,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ei,e=n(r,s),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(a(301));o+=1,lo=io=null,t.updateQueue=null,ro.current=ti,e=n(r,s)}while(co)}if(ro.current=Jo,t=null!==io&&null!==io.next,ao=0,lo=io=oo=null,uo=!1,t)throw Error(a(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===io){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=io.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,io=e;else{if(null===e)throw Error(a(310));e={memoizedState:(io=e).memoizedState,baseState:io.baseState,baseQueue:io.baseQueue,queue:io.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=io,s=r.baseQueue,o=n.pending;if(null!==o){if(null!==s){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(null!==s){o=s.next,r=r.baseState;var l=i=null,u=null,c=o;do{var d=c.lane;if((ao&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,i=r):u=u.next=h,oo.lanes|=d,Ll|=d}c=c.next}while(null!==c&&c!==o);null===u?i=r:u.next=l,ir(r,t.memoizedState)||(bi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{o=s.lane,oo.lanes|=o,Ll|=o,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(null!==s){n.pending=null;var i=s=s.next;do{o=e(o,i.action),i=i.next}while(i!==s);ir(o,t.memoizedState)||(bi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ko(){}function Eo(e,t){var n=oo,r=bo(),s=t(),o=!ir(r.memoizedState,s);if(o&&(r.memoizedState=s,bi=!0),r=r.queue,Lo(_o.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Ro(9,No.bind(null,n,r,s,t),void 0,null),null===Al)throw Error(a(349));0!==(30&ao)||To(n,t,s)}return s}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Co(t)&&Ao(e)}function _o(e,t,n){return n((function(){Co(t)&&Ao(e)}))}function Co(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function Ao(e){var t=Ia(e,1);null!==t&&nu(t,e,1,-1)}function Oo(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,oo,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return bo().memoizedState}function Do(e,t,n,r){var s=vo();oo.flags|=e,s.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function Io(e,t,n,r){var s=bo();r=void 0===r?null:r;var a=void 0;if(null!==io){var o=io.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(s.memoizedState=Ro(t,n,a,r))}oo.flags|=e,s.memoizedState=Ro(1|t,n,a,r)}function Mo(e,t){return Do(8390656,8,e,t)}function Lo(e,t){return Io(2048,8,e,t)}function Fo(e,t){return Io(4,2,e,t)}function jo(e,t){return Io(4,4,e,t)}function $o(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Io(4,4,$o.bind(null,t,e),n)}function zo(){}function Vo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Uo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t,n){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,bi=!0),e.memoizedState=n):(ir(n,t)||(n=mt(),oo.lanes|=n,Ll|=n,e.baseState=!0),t)}function qo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{bt=n,so.transition=r}}function Ho(){return bo().memoizedState}function Ko(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))Qo(t,n);else if(null!==(n=Da(e,t,n,r))){nu(n,e,r,eu()),Xo(n,t,r)}}function Go(e,t,n){var r=tu(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Qo(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=a(o,n);if(s.hasEagerState=!0,s.eagerState=i,ir(i,o)){var l=t.interleaved;return null===l?(s.next=s,Pa(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(u){}null!==(n=Da(e,t,s,r))&&(nu(n,e,r,s=eu()),Xo(n,t,r))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Qo(e,t){co=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Jo={readContext:Oa,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Zo={readContext:Oa,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Oa,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,$o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Oo,useDebugValue:zo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Oo(!1),t=e[0];return e=qo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,s=vo();if(sa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Al)throw Error(a(349));0!==(30&ao)||To(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Mo(_o.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Al.identifierPrefix;if(sa){var n=Xs;t=":"+t+"R"+(n=(Qs&~(1<<32-ot(Qs)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Oa,useCallback:Vo,useContext:Oa,useEffect:Lo,useImperativeHandle:Bo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:Uo,useReducer:xo,useRef:Po,useState:function(){return xo(wo)},useDebugValue:zo,useDeferredValue:function(e){return Wo(bo(),io.memoizedState,e)},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:Eo,useId:Ho,unstable_isNewReconciler:!1},ti={readContext:Oa,useCallback:Vo,useContext:Oa,useEffect:Lo,useImperativeHandle:Bo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:Uo,useReducer:So,useRef:Po,useState:function(){return So(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=bo();return null===io?t.memoizedState=e:Wo(t,io.memoizedState,e)},useTransition:function(){return[So(wo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:Eo,useId:Ho,unstable_isNewReconciler:!1};function ni(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ri(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var si={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),s=tu(e),a=ja(r,s);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=$a(e,a,s))&&(nu(t,e,s,r),Ba(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),s=tu(e),a=ja(r,s);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=$a(e,a,s))&&(nu(t,e,s,r),Ba(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),s=ja(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=$a(e,s,r))&&(nu(t,e,r,n),Ba(t,e,r))}};function ai(e,t,n,r,s,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,a))}function oi(e,t,n){var r=!1,s=_s,a=t.contextType;return"object"===typeof a&&null!==a?a=Oa(a):(s=Ps(t)?Os:Cs.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Rs(e,s):_s),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=si,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function ii(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&si.enqueueReplaceState(t,t.state,null)}function li(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},La(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=Oa(a):(a=Ps(t)?Os:Cs.current,s.context=Rs(e,a)),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ri(e,t,a,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&si.enqueueReplaceState(s,s.state,null),Va(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function ui(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var s=n}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function ci(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hi="function"===typeof WeakMap?WeakMap:Map;function pi(e,t,n){(n=ja(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,ql=r),di(0,t)},n}function fi(e,t,n){(n=ja(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){di(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){di(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hi;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Tu.bind(null,e,t,n),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yi(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ja(-1,1)).tag=2,$a(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var vi=w.ReactCurrentOwner,bi=!1;function wi(e,t,n,r){t.child=null===e?xa(t,null,n,r):wa(t,e.child,n,r)}function xi(e,t,n,r,s){n=n.render;var a=t.ref;return Aa(t,s),r=go(e,t,n,r,a,s),n=yo(),null===e||bi?(sa&&n&&ea(t),t.flags|=1,wi(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wi(e,t,s))}function Si(e,t,n,r,s){if(null===e){var a=n.type;return"function"!==typeof a||Pu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Iu(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ki(e,t,a,r,s))}if(a=e.child,0===(e.lanes&s)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Wi(e,t,s)}return t.flags|=1,(e=Du(a,r)).ref=t.ref,e.return=t,t.child=e}function ki(e,t,n,r,s){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(bi=!1,t.pendingProps=r=a,0===(e.lanes&s))return t.lanes=e.lanes,Wi(e,t,s);0!==(131072&e.flags)&&(bi=!0)}}return Ni(e,t,n,r,s)}function Ei(e,t,n){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ns(Dl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ns(Dl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ns(Dl,Pl),Pl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ns(Dl,Pl),Pl|=r;return wi(e,t,s,n),t.child}function Ti(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ni(e,t,n,r,s){var a=Ps(n)?Os:Cs.current;return a=Rs(t,a),Aa(t,s),n=go(e,t,n,r,a,s),r=yo(),null===e||bi?(sa&&r&&ea(t),t.flags|=1,wi(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wi(e,t,s))}function _i(e,t,n,r,s){if(Ps(n)){var a=!0;Ls(t)}else a=!1;if(Aa(t,s),null===t.stateNode)Ui(e,t),oi(t,n,r),li(t,n,r,s),r=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Oa(u):u=Rs(t,u=Ps(n)?Os:Cs.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==r||l!==u)&&ii(t,o,r,u),Ma=!1;var h=t.memoizedState;o.state=h,Va(t,r,o,s),l=t.memoizedState,i!==r||h!==l||As.current||Ma?("function"===typeof c&&(ri(t,n,c,r),l=t.memoizedState),(i=Ma||ai(t,n,i,r,h,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=i):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Fa(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:ni(t.type,i),o.props=u,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Oa(l):l=Rs(t,l=Ps(n)?Os:Cs.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==d||h!==l)&&ii(t,o,r,l),Ma=!1,h=t.memoizedState,o.state=h,Va(t,r,o,s);var f=t.memoizedState;i!==d||h!==f||As.current||Ma?("function"===typeof p&&(ri(t,n,p,r),f=t.memoizedState),(u=Ma||ai(t,n,u,r,h,f,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ci(e,t,n,r,a,s)}function Ci(e,t,n,r,s,a){Ti(e,t);var o=0!==(128&t.flags);if(!r&&!o)return s&&Fs(t,n,!1),Wi(e,t,a);r=t.stateNode,vi.current=t;var i=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=wa(t,e.child,null,a),t.child=wa(t,null,i,a)):wi(e,t,i,a),t.memoizedState=r.state,s&&Fs(t,n,!0),t.child}function Ai(e){var t=e.stateNode;t.pendingContext?Is(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Is(0,t.context,!1),Ya(e,t.containerInfo)}function Oi(e,t,n,r,s){return pa(),fa(s),t.flags|=256,wi(e,t,n,r),t.child}var Ri,Pi,Di,Ii,Mi={dehydrated:null,treeContext:null,retryLane:0};function Li(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fi(e,t,n){var r,s=t.pendingProps,o=Za.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ns(Za,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,i?(s=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Lu(l,s,0,null),e=Mu(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Li(n),t.memoizedState=Mi,e):ji(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,s,o,i){if(n)return 256&t.flags?(t.flags&=-257,$i(e,t,i,r=ci(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Lu({mode:"visible",children:r.children},s,0,null),(o=Mu(o,s,i,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&wa(t,e.child,null,i),t.child.memoizedState=Li(i),t.memoizedState=Mi,o);if(0===(1&t.mode))return $i(e,t,i,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,$i(e,t,i,r=ci(o=Error(a(419)),r,void 0))}if(l=0!==(i&e.childLanes),bi||l){if(null!==(r=Al)){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|i))?0:s)&&s!==o.retryLane&&(o.retryLane=s,Ia(e,s),nu(r,e,s,-1))}return mu(),$i(e,t,i,r=ci(Error(a(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=_u.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,ra=us(s.nextSibling),na=t,sa=!0,aa=null,null!==e&&(Ks[Gs++]=Qs,Ks[Gs++]=Xs,Ks[Gs++]=Ys,Qs=e.id,Xs=e.overflow,Ys=t),t=ji(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,o,n);if(i){i=s.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==o?((s=t.child).childLanes=0,s.pendingProps=u,t.deletions=null):(s=Du(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?i=Du(r,i):(i=Mu(i,l,n,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,l=null===(l=e.child.memoizedState)?Li(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Mi,s}return e=(i=e.child).sibling,s=Du(i,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function ji(e,t){return(t=Lu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $i(e,t,n,r){return null!==r&&fa(r),wa(t,e.child,null,n),(e=ji(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ca(e.return,t,n)}function zi(e,t,n,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Vi(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(wi(e,t,r.children,n),0!==(2&(r=Za.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bi(e,n,t);else if(19===e.tag)Bi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ns(Za,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),zi(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===eo(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}zi(t,!0,n,null,a);break;case"together":zi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ui(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qi(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ki(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hi(t),null;case 1:case 17:return Ps(t.type)&&Ds(),Hi(t),null;case 3:return r=t.stateNode,Qa(),Ts(As),Ts(Cs),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ou(aa),aa=null))),Pi(e,t),Hi(t),null;case 5:Ja(t);var s=Ga(Ka.current);if(n=t.type,null!==e&&null!=t.stateNode)Di(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hi(t),null}if(e=Ga(qa.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hs]=t,r[ps]=o,e=0!==(1&t.mode),n){case"dialog":$r("cancel",r),$r("close",r);break;case"iframe":case"object":case"embed":$r("load",r);break;case"video":case"audio":for(s=0;s<Mr.length;s++)$r(Mr[s],r);break;case"source":$r("error",r);break;case"img":case"image":case"link":$r("error",r),$r("load",r);break;case"details":$r("toggle",r);break;case"input":Q(r,o),$r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},$r("invalid",r);break;case"textarea":se(r,o),$r("invalid",r)}for(var l in ve(n,o),s=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),s=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),s=["children",""+u]):i.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&$r("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hs]=t,e[ps]=r,Ri(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":$r("cancel",e),$r("close",e),s=r;break;case"iframe":case"object":case"embed":$r("load",e),s=r;break;case"video":case"audio":for(s=0;s<Mr.length;s++)$r(Mr[s],e);s=r;break;case"source":$r("error",e),s=r;break;case"img":case"image":case"link":$r("error",e),$r("load",e),s=r;break;case"details":$r("toggle",e),s=r;break;case"input":Q(e,r),s=Y(e,r),$r("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=F({},r,{value:void 0}),$r("invalid",e);break;case"textarea":se(e,r),s=re(e,r),$r("invalid",e)}for(o in ve(n,s),u=s)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(i.hasOwnProperty(o)?null!=c&&"onScroll"===o&&$r("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hi(t),null;case 6:if(e&&null!=t.stateNode)Ii(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ga(Ka.current),Ga(qa.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hs]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hs]=t,t.stateNode=r}return Hi(t),null;case 13:if(Ts(Za),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sa&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),pa(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hs]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hi(t),o=!1}else null!==aa&&(ou(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Il&&(Il=3):mu())),null!==t.updateQueue&&(t.flags|=4),Hi(t),null);case 4:return Qa(),Pi(e,t),null===e&&Vr(t.stateNode.containerInfo),Hi(t),null;case 10:return _a(t.type._context),Hi(t),null;case 19:if(Ts(Za),null===(o=t.memoizedState))return Hi(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)qi(o,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,qi(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ns(Za,1&Za.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Vl&&(t.flags|=128,r=!0,qi(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qi(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!sa)return Hi(t),null}else 2*Xe()-o.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,qi(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Za.current,Ns(Za,r?1&n|2:1&n),t):(Hi(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Hi(t),6&t.subtreeFlags&&(t.flags|=8192)):Hi(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Gi(e,t){switch(ta(t),t.tag){case 1:return Ps(t.type)&&Ds(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),Ts(As),Ts(Cs),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ja(t),null;case 13:if(Ts(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ts(Za),null;case 4:return Qa(),null;case 10:return _a(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Ri=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pi=function(){},Di=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ga(qa.current);var a,o=null;switch(n){case"input":s=Y(e,s),r=Y(e,r),o=[];break;case"select":s=F({},s,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":s=re(e,s),r=re(e,r),o=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ve(n,r),n=null,s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&null!=s[c])if("style"===c){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(i.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=s?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(i.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&$r("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ii=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yi=!1,Qi=!1,Xi="function"===typeof WeakSet?WeakSet:Set,Ji=null;function Zi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Eu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Eu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&el(t,n,a)}s=s.next}while(s!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[ps],delete t[ms],delete t[gs],delete t[ys])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,n)}catch(i){}switch(n.tag){case 5:Qi||Zi(n,t);case 6:var r=cl,s=dl;cl=null,hl(e,t,n),dl=s,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),Vt(e)):ls(cl,n.stateNode));break;case 4:r=cl,s=dl,cl=n.stateNode.containerInfo,dl=!0,hl(e,t,n),cl=r,dl=s;break;case 0:case 11:case 14:case 15:if(!Qi&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),s=s.next}while(s!==r)}hl(e,t,n);break;case 1:if(!Qi&&(Zi(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Eu(n,t,i)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qi=(r=Qi)||null!==n.memoizedState,hl(e,t,n),Qi=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xi),t.forEach((function(t){var r=Cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));pl(o,i,s),cl=null,dl=!1;var u=s.alternate;null!==u&&(u.return=null),s.return=null}catch(c){Eu(s,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Eu(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Eu(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zi(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zi(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(g){Eu(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var o=e.memoizedProps,i=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(s,o),be(l,i);var c=be(l,o);for(i=0;i<u.length;i+=2){var d=u[i],h=u[i+1];"style"===d?ge(s,h):"dangerouslySetInnerHTML"===d?de(s,h):"children"===d?he(s,h):b(s,d,h,c)}switch(l){case"input":J(s,o);break;case"textarea":ae(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(s,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(s,!!o.multiple,o.defaultValue,!0):ne(s,!!o.multiple,o.multiple?[]:"",!1))}s[ps]=o}catch(g){Eu(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(a(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){Eu(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Eu(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(s=e.child).flags&&(o=null!==s.memoizedState,s.stateNode.isHidden=o,!o||null!==s.alternate&&null!==s.alternate.memoizedState||(zl=Xe())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qi=(c=Qi)||d,ml(t,e),Qi=c):ml(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Ji=e,d=e.child;null!==d;){for(h=Ji=d;null!==Ji;){switch(f=(p=Ji).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Zi(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Eu(r,n,g)}}break;case 5:Zi(p,p.return);break;case 22:if(null!==p.memoizedState){xl(h);continue}}null!==f?(f.return=p,Ji=f):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{s=h.stateNode,c?"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,i=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",i))}catch(g){Eu(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Eu(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&fl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(he(s,""),r.flags&=-33),ul(e,il(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,il(e),o);break;default:throw Error(a(161))}}catch(i){Eu(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Ji=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Ji;){var s=Ji,a=s.child;if(22===s.tag&&r){var o=null!==s.memoizedState||Yi;if(!o){var i=s.alternate,l=null!==i&&null!==i.memoizedState||Qi;i=Yi;var u=Qi;if(Yi=o,(Qi=l)&&!u)for(Ji=s;null!==Ji;)l=(o=Ji).child,22===o.tag&&null!==o.memoizedState?Sl(s):null!==l?(l.return=o,Ji=l):Sl(s);for(;null!==a;)Ji=a,bl(a,t,n),a=a.sibling;Ji=s,Yi=i,Qi=u}wl(e)}else 0!==(8772&s.subtreeFlags)&&null!==a?(a.return=s,Ji=a):wl(e)}}function wl(e){for(;null!==Ji;){var t=Ji;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qi||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qi)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ni(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(a(163))}Qi||512&t.flags&&sl(t)}catch(p){Eu(t,t.return,p)}}if(t===e){Ji=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ji=n;break}Ji=t.return}}function xl(e){for(;null!==Ji;){var t=Ji;if(t===e){Ji=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ji=n;break}Ji=t.return}}function Sl(e){for(;null!==Ji;){var t=Ji;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Eu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){Eu(t,s,l)}}var a=t.return;try{sl(t)}catch(l){Eu(t,a,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){Eu(t,o,l)}}}catch(l){Eu(t,t.return,l)}if(t===e){Ji=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Ji=i;break}Ji=t.return}}var kl,El=Math.ceil,Tl=w.ReactCurrentDispatcher,Nl=w.ReactCurrentOwner,_l=w.ReactCurrentBatchConfig,Cl=0,Al=null,Ol=null,Rl=0,Pl=0,Dl=Es(0),Il=0,Ml=null,Ll=0,Fl=0,jl=0,$l=null,Bl=null,zl=0,Vl=1/0,Ul=null,Wl=!1,ql=null,Hl=null,Kl=!1,Gl=null,Yl=0,Ql=0,Xl=null,Jl=-1,Zl=0;function eu(){return 0!==(6&Cl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Rl?Rl&-Rl:null!==ma.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nu(e,t,n,r){if(50<Ql)throw Ql=0,Xl=null,Error(a(185));yt(e,n,r),0!==(2&Cl)&&e===Al||(e===Al&&(0===(2&Cl)&&(Fl|=n),4===Il&&iu(e,Rl)),ru(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Vl=Xe()+500,$s&&Vs()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),i=1<<o,l=s[o];-1===l?0!==(i&n)&&0===(i&r)||(s[o]=pt(i,t)):l<=t&&(e.expiredLanes|=i),a&=~i}}(e,t);var r=ht(e,e===Al?Rl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){$s=!0,zs(e)}(lu.bind(null,e)):zs(lu.bind(null,e)),os((function(){0===(6&Cl)&&Vs()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Au(n,su.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function su(e,t){if(Jl=-1,Zl=0,0!==(6&Cl))throw Error(a(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=ht(e,e===Al?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var s=Cl;Cl|=2;var o=fu();for(Al===e&&Rl===t||(Ul=null,Vl=Xe()+500,hu(e,t));;)try{vu();break}catch(l){pu(e,l)}Na(),Tl.current=o,Cl=s,null!==Ol?t=0:(Al=null,Rl=0,t=Il)}if(0!==t){if(2===t&&(0!==(s=ft(e))&&(r=s,t=au(e,s))),1===t)throw n=Ml,hu(e,0),iu(e,r),ru(e,Xe()),n;if(6===t)iu(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!ir(a(),s))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=gu(e,r))&&(0!==(o=ft(e))&&(r=o,t=au(e,o))),1===t))throw n=Ml,hu(e,0),iu(e,r),ru(e,Xe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xu(e,Bl,Ul);break;case 3:if(iu(e,r),(130023424&r)===r&&10<(t=zl+500-Xe())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(xu.bind(null,e,Bl,Ul),t);break}xu(e,Bl,Ul);break;case 4:if(iu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-ot(r);o=1<<i,(i=t[i])>s&&(s=i),r&=~o}if(r=s,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=rs(xu.bind(null,e,Bl,Ul),r);break}xu(e,Bl,Ul);break;default:throw Error(a(329))}}}return ru(e,Xe()),e.callbackNode===n?su.bind(null,e):null}function au(e,t){var n=$l;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Bl,Bl=n,null!==t&&ou(t)),e}function ou(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function iu(e,t){for(t&=~jl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Cl))throw Error(a(327));Su();var t=ht(e,0);if(0===(1&t))return ru(e,Xe()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Ml,hu(e,0),iu(e,t),ru(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Bl,Ul),ru(e,Xe()),null}function uu(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Vl=Xe()+500,$s&&Vs())}}function cu(e){null!==Gl&&0===Gl.tag&&0===(6&Cl)&&Su();var t=Cl;Cl|=1;var n=_l.transition,r=bt;try{if(_l.transition=null,bt=1,e)return e()}finally{bt=r,_l.transition=n,0===(6&(Cl=t))&&Vs()}}function du(){Pl=Dl.current,Ts(Dl)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ds();break;case 3:Qa(),Ts(As),Ts(Cs),no();break;case 5:Ja(r);break;case 4:Qa();break;case 13:case 19:Ts(Za);break;case 10:_a(r.type._context);break;case 22:case 23:du()}n=n.return}if(Al=e,Ol=e=Du(e.current,null),Rl=Pl=t,Il=0,Ml=null,jl=Fl=Ll=0,Bl=$l=null,null!==Ra){for(t=0;t<Ra.length;t++)if(null!==(r=(n=Ra[t]).interleaved)){n.interleaved=null;var s=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=s,r.next=o}n.pending=r}Ra=null}return e}function pu(e,t){for(;;){var n=Ol;try{if(Na(),ro.current=Jo,uo){for(var r=oo.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}uo=!1}if(ao=0,lo=io=oo=null,co=!1,ho=0,Nl.current=null,null===n||null===n.return){Il=1,Ml=t,Ol=null;break}e:{var o=e,i=n.return,l=n,u=t;if(t=Rl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=gi(i);if(null!==f){f.flags&=-257,yi(f,i,l,0,t),1&f.mode&&mi(o,c,t),u=c;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){mi(o,c,t),mu();break e}u=Error(a(426))}else if(sa&&1&l.mode){var y=gi(i);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yi(y,i,l,0,t),fa(ui(u,l));break e}}o=u=ui(u,l),4!==Il&&(Il=2),null===$l?$l=[o]:$l.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,za(o,pi(0,u,t));break e;case 1:l=u;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hl||!Hl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,za(o,fi(o,l,t));break e}}o=o.return}while(null!==o)}wu(n)}catch(w){t=w,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function fu(){var e=Tl.current;return Tl.current=Jo,null===e?Jo:e}function mu(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Al||0===(268435455&Ll)&&0===(268435455&Fl)||iu(Al,Rl)}function gu(e,t){var n=Cl;Cl|=2;var r=fu();for(Al===e&&Rl===t||(Ul=null,hu(e,t));;)try{yu();break}catch(s){pu(e,s)}if(Na(),Cl=n,Tl.current=r,null!==Ol)throw Error(a(261));return Al=null,Rl=0,Il}function yu(){for(;null!==Ol;)bu(Ol)}function vu(){for(;null!==Ol&&!Ye();)bu(Ol)}function bu(e){var t=kl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?wu(e):Ol=t,Nl.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ki(n,t,Pl)))return void(Ol=n)}else{if(null!==(n=Gi(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Il=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Il&&(Il=5)}function xu(e,t,n){var r=bt,s=_l.transition;try{_l.transition=null,bt=1,function(e,t,n,r){do{Su()}while(null!==Gl);if(0!==(6&Cl))throw Error(a(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ot(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}(e,o),e===Al&&(Ol=Al=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Au(tt,(function(){return Su(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_l.transition,_l.transition=null;var i=bt;bt=1;var l=Cl;Cl|=4,Nl.current=null,function(e,t){if(es=Wt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var i=0,l=-1,u=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==s&&3!==h.nodeType||(l=i+s),h!==o||0!==r&&3!==h.nodeType||(u=i+r),3===h.nodeType&&(i+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++c===s&&(l=i),p===o&&++d===r&&(u=i),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Wt=!1,Ji=t;null!==Ji;)if(e=(t=Ji).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ji=e;else for(;null!==Ji;){t=Ji;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ni(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(x){Eu(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ji=e;break}Ji=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ts),Wt=!!es,ts=es=null,e.current=n,vl(n,e,s),Qe(),Cl=l,bt=i,_l.transition=o}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Yl=s),o=e.pendingLanes,0===o&&(Hl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wl)throw Wl=!1,e=ql,ql=null,e;0!==(1&Yl)&&0!==e.tag&&Su(),o=e.pendingLanes,0!==(1&o)?e===Xl?Ql++:(Ql=0,Xl=e):Ql=0,Vs()}(e,t,n,r)}finally{_l.transition=s,bt=r}return null}function Su(){if(null!==Gl){var e=wt(Yl),t=_l.transition,n=bt;try{if(_l.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Yl=0,0!==(6&Cl))throw Error(a(331));var s=Cl;for(Cl|=4,Ji=e.current;null!==Ji;){var o=Ji,i=o.child;if(0!==(16&Ji.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ji=c;null!==Ji;){var d=Ji;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Ji=h;else for(;null!==Ji;){var p=(d=Ji).sibling,f=d.return;if(al(d),d===c){Ji=null;break}if(null!==p){p.return=f,Ji=p;break}Ji=f}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ji=o}}if(0!==(2064&o.subtreeFlags)&&null!==i)i.return=o,Ji=i;else e:for(;null!==Ji;){if(0!==(2048&(o=Ji).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Ji=v;break e}Ji=o.return}}var b=e.current;for(Ji=b;null!==Ji;){var w=(i=Ji).child;if(0!==(2064&i.subtreeFlags)&&null!==w)w.return=i,Ji=w;else e:for(i=b;null!==Ji;){if(0!==(2048&(l=Ji).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){Eu(l,l.return,S)}if(l===i){Ji=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Ji=x;break e}Ji=l.return}}if(Cl=s,Vs(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(S){}r=!0}return r}finally{bt=n,_l.transition=t}}return!1}function ku(e,t,n){e=$a(e,t=pi(0,t=ui(n,t),1),1),t=eu(),null!==e&&(yt(e,1,t),ru(e,t))}function Eu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=$a(t,e=fi(t,e=ui(n,e),1),1),e=eu(),null!==t&&(yt(t,1,e),ru(t,e));break}}t=t.return}}function Tu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Rl&n)===n&&(4===Il||3===Il&&(130023424&Rl)===Rl&&500>Xe()-zl?hu(e,0):jl|=n),ru(e,t)}function Nu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ia(e,t))&&(yt(e,t,n),ru(e,n))}function _u(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nu(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Nu(e,n)}function Au(e,t){return Ke(e,t)}function Ou(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ru(e,t,n,r){return new Ou(e,t,n,r)}function Pu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=Ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Iu(e,t,n,r,s,o){var i=2;if(r=e,"function"===typeof e)Pu(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case k:return Mu(n.children,s,o,t);case E:i=8,s|=8;break;case T:return(e=Ru(12,n,t,2|s)).elementType=T,e.lanes=o,e;case A:return(e=Ru(13,n,t,s)).elementType=A,e.lanes=o,e;case O:return(e=Ru(19,n,t,s)).elementType=O,e.lanes=o,e;case D:return Lu(n,s,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:i=10;break e;case _:i=9;break e;case C:i=11;break e;case R:i=14;break e;case P:i=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ru(i,n,t,s)).elementType=e,t.type=r,t.lanes=o,t}function Mu(e,t,n,r){return(e=Ru(7,e,r,t)).lanes=n,e}function Lu(e,t,n,r){return(e=Ru(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=Ru(6,e,null,t)).lanes=n,e}function ju(e,t,n){return(t=Ru(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $u(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,s,a,o,i,l){return e=new $u(e,t,n,i,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ru(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(a),e}function zu(e){if(!e)return _s;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ps(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ps(n))return Ms(e,n,t)}return t}function Vu(e,t,n,r,s,a,o,i,l){return(e=Bu(n,r,!0,e,0,a,0,i,l)).context=zu(null),n=e.current,(a=ja(r=eu(),s=tu(n))).callback=void 0!==t&&null!==t?t:null,$a(n,a,s),e.current.lanes=s,yt(e,s,r),ru(e,r),e}function Uu(e,t,n,r){var s=t.current,a=eu(),o=tu(s);return n=zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=ja(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=$a(s,t,o))&&(nu(e,s,o,a),Ba(e,s,o)),o}function Wu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hu(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||As.current)bi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bi=!1,function(e,t,n){switch(t.tag){case 3:Ai(t),pa();break;case 5:Xa(t);break;case 1:Ps(t.type)&&Ls(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ns(Sa,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ns(Za,1&Za.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fi(e,t,n):(Ns(Za,1&Za.current),null!==(e=Wi(e,t,n))?e.sibling:null);Ns(Za,1&Za.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vi(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ns(Za,Za.current),r)break;return null;case 22:case 23:return t.lanes=0,Ei(e,t,n)}return Wi(e,t,n)}(e,t,n);bi=0!==(131072&e.flags)}else bi=!1,sa&&0!==(1048576&t.flags)&&Zs(t,Hs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ui(e,t),e=t.pendingProps;var s=Rs(t,Cs.current);Aa(t,n),s=go(null,t,r,e,s,n);var o=yo();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ps(r)?(o=!0,Ls(t)):o=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,La(t),s.updater=si,t.stateNode=s,s._reactInternals=t,li(t,r,e,n),t=Ci(null,t,r,!0,o,n)):(t.tag=0,sa&&o&&ea(t),wi(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ui(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Pu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ni(r,e),s){case 0:t=Ni(null,t,r,e,n);break e;case 1:t=_i(null,t,r,e,n);break e;case 11:t=xi(null,t,r,e,n);break e;case 14:t=Si(null,t,r,ni(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Ni(e,t,r,s=t.elementType===r?s:ni(r,s),n);case 1:return r=t.type,s=t.pendingProps,_i(e,t,r,s=t.elementType===r?s:ni(r,s),n);case 3:e:{if(Ai(t),null===e)throw Error(a(387));r=t.pendingProps,s=(o=t.memoizedState).element,Fa(e,t),Va(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Oi(e,t,r,n,s=ui(Error(a(423)),t));break e}if(r!==s){t=Oi(e,t,r,n,s=ui(Error(a(424)),t));break e}for(ra=us(t.stateNode.containerInfo.firstChild),na=t,sa=!0,aa=null,n=xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===s){t=Wi(e,t,n);break e}wi(e,t,r,n)}t=t.child}return t;case 5:return Xa(t),null===e&&ua(t),r=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,i=s.children,ns(r,s)?i=null:null!==o&&ns(r,o)&&(t.flags|=32),Ti(e,t),wi(e,t,i,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Fi(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wa(t,null,r,n):wi(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,xi(e,t,r,s=t.elementType===r?s:ni(r,s),n);case 7:return wi(e,t,t.pendingProps,n),t.child;case 8:case 12:return wi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ns(Sa,r._currentValue),r._currentValue=i,null!==o)if(ir(o.value,i)){if(o.children===s.children&&!As.current){t=Wi(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){i=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=ja(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Ca(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)i=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(i=o.return))throw Error(a(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Ca(i,n,t),i=o.sibling}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===t){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}wi(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Aa(t,n),r=r(s=Oa(s)),t.flags|=1,wi(e,t,r,n),t.child;case 14:return s=ni(r=t.type,t.pendingProps),Si(e,t,r,s=ni(r.type,s),n);case 15:return ki(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ni(r,s),Ui(e,t),t.tag=1,Ps(r)?(e=!0,Ls(t)):e=!1,Aa(t,n),oi(t,r,s),li(t,r,s,n),Ci(null,t,r,!0,e,n);case 19:return Vi(e,t,n);case 22:return Ei(e,t,n)}throw Error(a(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Zu(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof s){var i=s;s=function(){var e=Wu(o);i.call(e)}}Uu(t,o,e,s)}else o=function(e,t,n,r,s){if(s){if("function"===typeof r){var a=r;r=function(){var e=Wu(o);a.call(e)}}var o=Vu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=o,e[fs]=o.current,Vr(8===e.nodeType?e.parentNode:e),cu(),o}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var i=r;r=function(){var e=Wu(l);i.call(e)}}var l=Bu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[fs]=l.current,Vr(8===e.nodeType?e.parentNode:e),cu((function(){Uu(t,l,n,r)})),l}(n,t,e,s,r);return Wu(o)}Yu.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Uu(e,t,null,null)},Yu.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Uu(null,e,null,null)})),t[fs]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ru(t,Xe()),0===(6&Cl)&&(Vl=Xe()+500,Vs()))}break;case 13:cu((function(){var t=Ia(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Hu(e,1)}},St=function(e){if(13===e.tag){var t=Ia(e,134217728);if(null!==t)nu(t,e,134217728,eu());Hu(e,134217728)}},kt=function(e){if(13===e.tag){var t=tu(e),n=Ia(e,t);if(null!==n)nu(n,e,t,eu());Hu(e,t)}},Et=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=xs(r);if(!s)throw Error(a(90));K(r),J(r,s)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uu,Ae=cu;var ec={usingClientEntryPoint:!1,Events:[bs,ws,xs,Ne,_e,uu]},tc={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{st=rc.inject(nc),at=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(a(299));var n=!1,r="",s=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,r,s),e[fs]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Gu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(a(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,s=!1,o="",i=Ku;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,s,0,o,i),e[fs]=t.current,Vr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(a(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(a(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fs]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},786:(e,t,n)=>{"use strict";var r=n(41);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},41:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(63)},100:(e,t,n)=>{"use strict";var r=n(908),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:s,type:e,key:u,ref:c,props:a,_owner:i.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},975:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var s,a={},o=null,i=null;if(null!=t)for(s in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,s)&&!E.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===a[s]&&(a[s]=l[s]);return{$$typeof:n,type:e,key:o,ref:i,props:a,_owner:k.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,s,a,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+C(l,0):a,x(o)?(s="",null!=e&&(s=e.replace(_,"$&/")+"/"),A(o,t,s,"",(function(e){return e}))):null!=o&&(N(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,s+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",x(e))for(var u=0;u<e.length;u++){var c=a+C(i=e[u],u);l+=A(i,t,s,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(i=e.next()).done;)l+=A(i=i.value,t,s,c=a+C(i,u++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],s=0;return A(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},I={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:k};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=s,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),a=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!E.hasOwnProperty(u)&&(s[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)s.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];s.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:s,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},908:(e,t,n)=>{"use strict";e.exports=n(975)},984:(e,t,n)=>{"use strict";e.exports=n(100)},319:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,o=s>>>1;r<o;){var i=2*(r+1)-1,l=e[i],u=i+1,c=e[u];if(0>a(l,n))u<s&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[i]=n,r=i);else{if(!(u<s&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var u=[],c=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)s(c);else{if(!(t.startTime<=e))break;s(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,D(S);else{var t=r(c);null!==t&&I(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(N),N=-1),f=!0;var a=p;try{for(w(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var i=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?h.callback=i:h===r(u)&&s(u),w(n)}else s(u);h=r(u)}if(null!==h)var l=!0;else{var d=r(c);null!==d&&I(x,d.startTime-n),l=!1}return l}finally{h=null,p=a,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,T=null,N=-1,_=5,C=-1;function A(){return!(t.unstable_now()-C<_)}function O(){if(null!==T){var e=t.unstable_now();C=e;var n=!0;try{n=T(!0,e)}finally{n?k():(E=!1,T=null)}}else E=!1}if("function"===typeof b)k=function(){b(O)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=O,k=function(){P.postMessage(null)}}else k=function(){y(O,0)};function D(e){T=e,E||(E=!0,k())}function I(e,n){N=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,s,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(g?(v(N),N=-1):g=!0,I(x,a-o))):(e.sortIndex=i,n(u,e),m||f||(m=!0,D(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},54:(e,t,n)=>{"use strict";e.exports=n(319)},185:(e,t,n)=>{var r=n(318),s=n(195),a=n(925),o=n(701),i=n(35),l=n(771),u=n(83);u.alea=r,u.xor128=s,u.xorwow=a,u.xorshift7=o,u.xor4096=i,u.tychei=l,e.exports=u},318:function(e,t,n){var r;!function(e,s){function a(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var n=new a(e),r=t&&t.state,s=n.next;return s.int32=function(){return 4294967296*n.next()|0},s.double=function(){return s()+11102230246251565e-32*(2097152*s()|0)},s.quick=s,r&&("object"==typeof r&&o(r,n),s.state=function(){return o(n,{})}),s}s&&s.exports?s.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,s))||(s.exports=r):this.alea=i}(0,e=n.nmd(e),n.amdD)},771:function(e,t,n){var r;!function(e,s){function a(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,s=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^s,s=s-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^s,t.a=s-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var n=new a(e),r=t&&t.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=n.next,s.quick=s,r&&("object"==typeof r&&o(r,n),s.state=function(){return o(n,{})}),s}s&&s.exports?s.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,s))||(s.exports=r):this.tychei=i}(0,e=n.nmd(e),n.amdD)},195:function(e,t,n){var r;!function(e,s){function a(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var n=new a(e),r=t&&t.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=n.next,s.quick=s,r&&("object"==typeof r&&o(r,n),s.state=function(){return o(n,{})}),s}s&&s.exports?s.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,s))||(s.exports=r):this.xor128=i}(0,e=n.nmd(e),n.amdD)},35:function(e,t,n){var r;!function(e,s){function a(e){var t=this;t.next=function(){var e,n,r=t.w,s=t.X,a=t.i;return t.w=r=r+1640531527|0,n=s[a+34&127],e=s[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=s[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,s,a,o,i=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),s=0,a=-32;a<l;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,s=0==(n=i[127&a]^=r+o)?s+1:0);for(s>=128&&(i[127&(t&&t.length||0)]=-1),s=127,a=512;a>0;--a)r=i[s+34&127],n=i[s=s+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,i[s]=r^n;e.w=o,e.X=i,e.i=s}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=n.next,s.quick=s,r&&(r.X&&o(r,n),s.state=function(){return o(n,{})}),s}s&&s.exports?s.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,s))||(s.exports=r):this.xor4096=i}(0,e=n.nmd(e),n.amdD)},701:function(e,t,n){var r;!function(e,s){function a(e){var t=this;t.next=function(){var e,n,r=t.x,s=t.i;return e=r[s],n=(e^=e>>>7)^e<<24,n^=(e=r[s+1&7])^e>>>10,n^=(e=r[s+3&7])^e>>>3,n^=(e=r[s+4&7])^e<<7,e=r[s+7&7],n^=(e^=e<<13)^e<<9,r[s]=n,t.i=s+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=n.next,s.quick=s,r&&(r.x&&o(r,n),s.state=function(){return o(n,{})}),s}s&&s.exports?s.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,s))||(s.exports=r):this.xorshift7=i}(0,e=n.nmd(e),n.amdD)},925:function(e,t,n){var r;!function(e,s){function a(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var n=new a(e),r=t&&t.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},s.int32=n.next,s.quick=s,r&&("object"==typeof r&&o(r,n),s.state=function(){return o(n,{})}),s}s&&s.exports?s.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,s))||(s.exports=r):this.xorwow=i}(0,e=n.nmd(e),n.amdD)},83:function(e,t,n){var r;!function(s,a,o){var i,l=256,u=o.pow(l,6),c=o.pow(2,52),d=2*c,h=255;function p(e,t,n){var r=[],h=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,v(a)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(l):(e=new Uint8Array(l),(s.crypto||s.msCrypto).getRandomValues(e)),v(e)}catch(r){var t=s.navigator,n=t&&t.plugins;return[+new Date,s,n,s.screen,v(a)]}}():e,3),r),p=new f(r),b=function(){for(var e=p.g(6),t=u,n=0;e<c;)e=(e+n)*l,t*=l,n=p.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|p.g(4)},b.quick=function(){return p.g(4)/4294967296},b.double=b,y(v(p.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,p),e.state=function(){return m(p,{})}),n?(o.random=e,t):e})(b,h,"global"in t?t.global:this==o,t.state)}function f(e){var t,n=e.length,r=this,s=0,a=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);s<l;)o[s]=s++;for(s=0;s<l;s++)o[s]=o[a=h&a+e[s%n]+(t=o[s])],o[a]=t;(r.g=function(e){for(var t,n=0,s=r.i,a=r.j,o=r.S;e--;)t=o[s=h&s+1],n=n*l+o[h&(o[s]=o[a=h&a+t])+(o[a]=t)];return r.i=s,r.j=a,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],s=typeof e;if(t&&"object"==s)for(n in e)try{r.push(g(e[n],t-1))}catch(a){}return r.length?r:"string"==s?e:e+"\0"}function y(e,t){for(var n,r=e+"",s=0;s<r.length;)t[h&s]=h&(n^=19*t[h&s])+r.charCodeAt(s++);return v(t)}function v(e){return String.fromCharCode.apply(0,e)}if(y(o.random(),a),e.exports){e.exports=p;try{i=n(222)}catch(b){}}else void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},633:(e,t,n)=>{"use strict";var r=n(795),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:s,type:e,key:u,ref:c,props:a,_owner:i.current}}t.jsx=u,t.jsxs=u},682:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var s,a={},o=null,i=null;if(null!=t)for(s in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,s)&&!E.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===a[s]&&(a[s]=l[s]);return{$$typeof:n,type:e,key:o,ref:i,props:a,_owner:k.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,s,a,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+C(l,0):a,x(o)?(s="",null!=e&&(s=e.replace(_,"$&/")+"/"),A(o,t,s,"",(function(e){return e}))):null!=o&&(N(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,s+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",x(e))for(var u=0;u<e.length;u++){var c=a+C(i=e[u],u);l+=A(i,t,s,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(i=e.next()).done;)l+=A(i=i.value,t,s,c=a+C(i,u++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],s=0;return A(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},I={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:k};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=s,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),a=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!E.hasOwnProperty(u)&&(s[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)s.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];s.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:s,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},795:(e,t,n)=>{"use strict";e.exports=n(682)},131:(e,t,n)=>{"use strict";e.exports=n(633)},291:()=>{},24:()=>{},222:()=>{}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&s&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(a,o),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Fu,hasStandardBrowserEnv:()=>$u,hasStandardBrowserWebWorkerEnv:()=>Bu,navigator:()=>ju,origin:()=>zu});var t={};n.r(t),n.d(t,{CompositeArrayBuffer:()=>xp,browserFiles:()=>sm,browserHTTPRequest:()=>pm,concatenateArrayBuffers:()=>Lp,copyModel:()=>Sf,decodeWeights:()=>_p,decodeWeightsStream:()=>Pp,encodeWeights:()=>Np,fromMemory:()=>ym,fromMemorySync:()=>vm,getLoadHandlers:()=>Kp,getModelArtifactsForJSON:()=>Bp,getModelArtifactsForJSONSync:()=>$p,getModelArtifactsInfoForJSON:()=>zp,getSaveHandlers:()=>Hp,getWeightSpecs:()=>Vp,http:()=>hm,isHTTPScheme:()=>cm,listModels:()=>wf,loadWeights:()=>im,moveModel:()=>kf,registerLoadRouter:()=>qp,registerSaveRouter:()=>Wp,removeModel:()=>xf,weightsLoaderFactory:()=>lm,withSaveHandler:()=>bm,withSaveHandlerSync:()=>wm});var r={};n.r(r),n.d(r,{conv2d:()=>yb,depthwiseConv2d:()=>wb,matMul:()=>xb});var s={};n.r(s),n.d(s,{json:()=>Pw});var a={};n.r(a),n.d(a,{json:()=>Dw});var o={};n.r(o),n.d(o,{json:()=>Iw});var i={};n.r(i),n.d(i,{json:()=>Mw});var l={};n.r(l),n.d(l,{json:()=>Lw});var u={};n.r(u),n.d(u,{json:()=>Fw});var c={};n.r(c),n.d(c,{json:()=>jw});var d={};n.r(d),n.d(d,{json:()=>$w});var h={};n.r(h),n.d(h,{json:()=>Bw});var p={};n.r(p),n.d(p,{json:()=>zw});var f={};n.r(f),n.d(f,{json:()=>Vw});var m={};n.r(m),n.d(m,{json:()=>Uw});var g={};n.r(g),n.d(g,{json:()=>Ww});var y={};n.r(y),n.d(y,{json:()=>qw});var v={};n.r(v),n.d(v,{json:()=>Hw});var b={};n.r(b),n.d(b,{json:()=>Kw});var w={};n.r(w),n.d(w,{json:()=>Gw});var x={};n.r(x),n.d(x,{json:()=>Yw});var S={};n.r(S),n.d(S,{json:()=>Qw});var k={};n.r(k),n.d(k,{OP_SCOPE_SUFFIX:()=>mp,abs:()=>Qf,acos:()=>xm,acosh:()=>Sm,add:()=>Pf,addN:()=>km,all:()=>Em,any:()=>Tm,argMax:()=>Nm,argMin:()=>_m,asin:()=>Cm,asinh:()=>Am,atan:()=>Om,atan2:()=>Rm,atanh:()=>Pm,avgPool:()=>Um,avgPool3d:()=>Wm,basicLSTMCell:()=>Qm,batchNorm:()=>Jm,batchNorm2d:()=>Zm,batchNorm3d:()=>eg,batchNorm4d:()=>tg,batchToSpaceND:()=>Xm,bincount:()=>ng,bitwiseAnd:()=>rg,booleanMaskAsync:()=>nb,broadcastArgs:()=>sg,broadcastTo:()=>ag,buffer:()=>Cf,cast:()=>Af,ceil:()=>og,clipByValue:()=>ig,clone:()=>Of,complex:()=>yp,concat:()=>qm,concat1d:()=>lg,concat2d:()=>ug,concat3d:()=>cg,concat4d:()=>dg,conv1d:()=>pg,conv2d:()=>hg,conv2dTranspose:()=>mg,conv3d:()=>gg,conv3dTranspose:()=>vg,cos:()=>bg,cosh:()=>wg,cosineWindow:()=>cb,cumprod:()=>xg,cumsum:()=>Sg,denseBincount:()=>kg,depthToSpace:()=>Eg,depthwiseConv2d:()=>Tg,diag:()=>Ng,dilation2d:()=>_g,div:()=>If,divNoNan:()=>Og,dot:()=>Rg,dropout:()=>lb,einsum:()=>Pg,elu:()=>Dg,enclosingPowerOfTwo:()=>ub,ensureShape:()=>Ig,equal:()=>Cg,erf:()=>Mg,euclideanNorm:()=>Vg,exp:()=>Ug,expandDims:()=>Wg,expm1:()=>qg,eye:()=>Kg,fft:()=>Av,fill:()=>Kf,floor:()=>Gg,floorDiv:()=>Df,fused:()=>r,gather:()=>Yg,gatherND:()=>ib,greater:()=>Qg,greaterEqual:()=>Xg,ifft:()=>Ov,imag:()=>Jg,image:()=>mw,inTopKAsync:()=>db,irfft:()=>Rv,isFinite:()=>Zg,isInf:()=>ey,isNaN:()=>ty,leakyRelu:()=>ny,less:()=>ry,lessEqual:()=>sy,linalg:()=>gw,linspace:()=>ay,localResponseNormalization:()=>oy,log:()=>iy,log1p:()=>ly,logSigmoid:()=>dy,logSoftmax:()=>hy,logSumExp:()=>py,logicalAnd:()=>fy,logicalNot:()=>my,logicalOr:()=>gy,logicalXor:()=>yy,losses:()=>yw,lowerBound:()=>wy,matMul:()=>Hm,max:()=>Fg,maxPool:()=>xy,maxPool3d:()=>Sy,maxPoolWithArgmax:()=>ky,maximum:()=>Jf,mean:()=>Ey,meshgrid:()=>_y,min:()=>jg,minimum:()=>Cy,mirrorPad:()=>Ay,mod:()=>Oy,moments:()=>Ry,movingAverage:()=>sb,mul:()=>Mf,multiRNNCell:()=>Py,multinomial:()=>Dy,neg:()=>uy,norm:()=>zg,notEqual:()=>Iy,oneHot:()=>My,ones:()=>Ny,onesLike:()=>Ly,op:()=>gp,outerProduct:()=>Fy,pad:()=>jy,pad1d:()=>$y,pad2d:()=>By,pad3d:()=>zy,pad4d:()=>Vy,pool:()=>Wy,pow:()=>Gf,prelu:()=>qy,print:()=>Rf,prod:()=>Hy,raggedGather:()=>Ky,raggedRange:()=>Gy,raggedTensorToTensor:()=>Yy,rand:()=>Qy,randomGamma:()=>tv,randomNormal:()=>nv,randomStandardNormal:()=>rv,randomUniform:()=>sv,randomUniformInt:()=>av,range:()=>ov,real:()=>iv,reciprocal:()=>lv,relu:()=>uv,relu6:()=>cv,reshape:()=>Vm,reverse:()=>dv,reverse1d:()=>hv,reverse2d:()=>pv,reverse3d:()=>fv,reverse4d:()=>mv,rfft:()=>Dv,round:()=>gv,rsqrt:()=>yv,scalar:()=>Bf,scatterND:()=>ab,searchSorted:()=>by,selu:()=>vv,separableConv2d:()=>bv,setdiff1dAsync:()=>wv,sigmoid:()=>Km,sign:()=>xv,signal:()=>fw,sin:()=>Sv,sinh:()=>kv,slice:()=>Gm,slice1d:()=>Ev,slice2d:()=>Tv,slice3d:()=>Nv,slice4d:()=>_v,softmax:()=>Cv,softplus:()=>cy,spaceToBatchND:()=>Uy,sparse:()=>vw,sparseToDense:()=>ob,spectral:()=>pw,split:()=>Pv,sqrt:()=>Lf,square:()=>Ff,squaredDifference:()=>Iv,squeeze:()=>Mv,stack:()=>Lv,step:()=>Fv,stridedSlice:()=>jv,string:()=>bw,sub:()=>Yf,sum:()=>$g,tan:()=>$v,tanh:()=>Ym,tensor:()=>bp,tensor1d:()=>Bv,tensor2d:()=>zv,tensor3d:()=>Vv,tensor4d:()=>Uv,tensor5d:()=>Wv,tensor6d:()=>qv,tensorScatterUpdate:()=>Kv,tile:()=>Hg,topk:()=>Gv,transpose:()=>rb,truncatedNormal:()=>Yv,unique:()=>Qv,unsortedSegmentSum:()=>Xv,unstack:()=>Jv,upperBound:()=>Zv,variable:()=>eb,where:()=>Ag,whereAsync:()=>tb,zeros:()=>Ty,zerosLike:()=>jf});var E={};n.r(E),n.d(E,{Decoder:()=>Dk,Encoder:()=>Rk,PacketType:()=>Ok,protocol:()=>Ak});var T=n(908),N=n.t(T,2),_=n(786);const C=(0,T.createContext)(null);function A(e){let{clientId:t,nonce:n,onScriptLoadSuccess:r,onScriptLoadError:s,children:a}=e;const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{nonce:t,onScriptLoadSuccess:n,onScriptLoadError:r}=e,[s,a]=(0,T.useState)(!1),o=(0,T.useRef)(n);o.current=n;const i=(0,T.useRef)(r);return i.current=r,(0,T.useEffect)((()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=t,e.onload=()=>{var e;a(!0),null===(e=o.current)||void 0===e||e.call(o)},e.onerror=()=>{var e;a(!1),null===(e=i.current)||void 0===e||e.call(i)},document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[t]),s}({nonce:n,onScriptLoadSuccess:r,onScriptLoadError:s}),i=(0,T.useMemo)((()=>({clientId:t,scriptLoadedSuccessfully:o})),[t,o]);return T.createElement(C.Provider,{value:i},a)}function O(){const e=(0,T.useContext)(C);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}var R,P=n(41),D=n.t(P,2);function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(R||(R={}));const M="popstate";function L(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function F(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function j(e,t){return{usr:e.state,key:e.key,idx:t}}function $(e,t,n,r){return void 0===n&&(n=null),I({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?z(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function B(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function z(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function V(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,i=R.Pop,l=null,u=c();function c(){return(o.state||{idx:null}).idx}function d(){i=R.Pop;let e=c(),t=null==e?null:e-u;u=e,l&&l({action:i,location:p.location,delta:t})}function h(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:B(e);return n=n.replace(/ $/,"%20"),L(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==u&&(u=0,o.replaceState(I({},o.state,{idx:u}),""));let p={get action(){return i},get location(){return e(s,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(M,d),l=e,()=>{s.removeEventListener(M,d),l=null}},createHref:e=>t(s,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){i=R.Push;let r=$(p.location,e,t);n&&n(r,e),u=c()+1;let d=j(r,u),h=p.createHref(r);try{o.pushState(d,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;s.location.assign(h)}a&&l&&l({action:i,location:p.location,delta:1})},replace:function(e,t){i=R.Replace;let r=$(p.location,e,t);n&&n(r,e),u=c();let s=j(r,u),d=p.createHref(r);o.replaceState(s,"",d),a&&l&&l({action:i,location:p.location,delta:0})},go:e=>o.go(e)};return p}var U;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(U||(U={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function W(e,t,n){return void 0===n&&(n="/"),q(e,t,n,!1)}function q(e,t,n,r){let s=ae(("string"===typeof t?z(t):t).pathname||"/",n);if(null==s)return null;let a=H(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let o=null;for(let i=0;null==o&&i<a.length;++i){let e=se(s);o=ne(a[i],e,r)}return o}function H(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};o.relativePath.startsWith("/")&&(L(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let i=ce([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(L(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),H(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:te(i,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of K(e.path))s(e,t,r);else s(e,t)})),t}function K(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return s?[a,""]:[a];let o=K(r.join("/")),i=[];return i.push(...o.map((e=>""===e?a:[a,e].join("/")))),s&&i.push(...o),i.map((t=>e.startsWith("/")&&""===t?"/":t))}const G=/^:[\w-]+$/,Y=3,Q=2,X=1,J=10,Z=-2,ee=e=>"*"===e;function te(e,t){let n=e.split("/"),r=n.length;return n.some(ee)&&(r+=Z),t&&(r+=Q),n.filter((e=>!ee(e))).reduce(((e,t)=>e+(G.test(t)?Y:""===t?X:J)),r)}function ne(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},a="/",o=[];for(let i=0;i<r.length;++i){let e=r[i],l=i===r.length-1,u="/"===a?t:t.slice(a.length)||"/",c=re({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=re({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(s,c.params),o.push({params:s,pathname:ce([a,c.pathname]),pathnameBase:de(ce([a,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(a=ce([a,c.pathnameBase]))}return o}function re(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);F("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let a=new RegExp(s,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),i=s.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=i[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:a,pathnameBase:o,pattern:e}}function se(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return F(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ae(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function oe(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ie(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function le(e,t){let n=ie(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function ue(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=z(e):(s=I({},e),L(!s.pathname||!s.pathname.includes("?"),oe("?","pathname","search",s)),L(!s.pathname||!s.pathname.includes("#"),oe("#","pathname","hash",s)),L(!s.search||!s.search.includes("#"),oe("#","search","hash",s)));let a,o=""===e||""===s.pathname,i=o?"/":s.pathname;if(null==i)a=n;else{let e=t.length-1;if(!r&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?z(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:he(r),hash:pe(s)}}(s,a),u=i&&"/"!==i&&i.endsWith("/"),c=(o||"."===i)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}const ce=e=>e.join("/").replace(/\/\/+/g,"/"),de=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),he=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",pe=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function fe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const me=["post","put","patch","delete"],ge=(new Set(me),["get",...me]);new Set(ge),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}const ve=T.createContext(null);const be=T.createContext(null);const we=T.createContext(null);const xe=T.createContext(null);const Se=T.createContext({outlet:null,matches:[],isDataRoute:!1});const ke=T.createContext(null);function Ee(){return null!=T.useContext(xe)}function Te(){return Ee()||L(!1),T.useContext(xe).location}function Ne(e){T.useContext(we).static||T.useLayoutEffect(e)}function _e(){let{isDataRoute:e}=T.useContext(Se);return e?function(){let{router:e}=Fe(Me.UseNavigateStable),t=$e(Le.UseNavigateStable),n=T.useRef(!1);Ne((()=>{n.current=!0}));let r=T.useCallback((function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,ye({fromRouteId:t},s)))}),[e,t]);return r}():function(){Ee()||L(!1);let e=T.useContext(ve),{basename:t,future:n,navigator:r}=T.useContext(we),{matches:s}=T.useContext(Se),{pathname:a}=Te(),o=JSON.stringify(le(s,n.v7_relativeSplatPath)),i=T.useRef(!1);Ne((()=>{i.current=!0}));let l=T.useCallback((function(n,s){if(void 0===s&&(s={}),!i.current)return;if("number"===typeof n)return void r.go(n);let l=ue(n,JSON.parse(o),a,"path"===s.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:ce([t,l.pathname])),(s.replace?r.replace:r.push)(l,s.state,s)}),[t,r,o,a,e]);return l}()}function Ce(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=T.useContext(we),{matches:s}=T.useContext(Se),{pathname:a}=Te(),o=JSON.stringify(le(s,r.v7_relativeSplatPath));return T.useMemo((()=>ue(e,JSON.parse(o),a,"path"===n)),[e,o,a,n])}function Ae(e,t,n,r){Ee()||L(!1);let{navigator:s}=T.useContext(we),{matches:a}=T.useContext(Se),o=a[a.length-1],i=o?o.params:{},l=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,c=Te();if(t){var d;let e="string"===typeof t?z(t):t;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||L(!1),u=e}else u=c;let h=u.pathname||"/",p=h;if("/"!==l){let e=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let f=W(e,{pathname:p});let m=Ie(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},i,e.params),pathname:ce([l,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ce([l,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,r);return t&&m?T.createElement(xe.Provider,{value:{location:ye({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:R.Pop}},m):m}function Oe(){let e=function(){var e;let t=T.useContext(ke),n=je(Le.UseRouteError),r=$e(Le.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=fe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:s},n):null,null)}const Re=T.createElement(Oe,null);class Pe extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?T.createElement(Se.Provider,{value:this.props.routeContext},T.createElement(ke.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function De(e){let{routeContext:t,match:n,children:r}=e,s=T.useContext(ve);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Se.Provider,{value:t},r)}function Ie(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,i=null==(s=n)?void 0:s.errors;if(null!=i){let e=o.findIndex((e=>e.route.id&&void 0!==(null==i?void 0:i[e.route.id])));e>=0||L(!1),o=o.slice(0,Math.min(o.length,e+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let e=o[c];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=c),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){l=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight(((e,r,s)=>{let a,c=!1,d=null,h=null;var p;n&&(a=i&&r.route.id?i[r.route.id]:void 0,d=r.route.errorElement||Re,l&&(u<0&&0===s?(p="route-fallback",!1||Be[p]||(Be[p]=!0),c=!0,h=null):u===s&&(c=!0,h=r.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,s+1)),m=()=>{let t;return t=a?d:c?h:r.route.Component?T.createElement(r.route.Component,null):r.route.element?r.route.element:e,T.createElement(De,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?T.createElement(Pe,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}var Me=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Me||{}),Le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Le||{});function Fe(e){let t=T.useContext(ve);return t||L(!1),t}function je(e){let t=T.useContext(be);return t||L(!1),t}function $e(e){let t=function(){let e=T.useContext(Se);return e||L(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||L(!1),n.route.id}const Be={};N.startTransition;function ze(e){L(!1)}function Ve(e){let{basename:t="/",children:n=null,location:r,navigationType:s=R.Pop,navigator:a,static:o=!1,future:i}=e;Ee()&&L(!1);let l=t.replace(/^\/*/,"/"),u=T.useMemo((()=>({basename:l,navigator:a,static:o,future:ye({v7_relativeSplatPath:!1},i)})),[l,i,a,o]);"string"===typeof r&&(r=z(r));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:f="default"}=r,m=T.useMemo((()=>{let e=ae(c,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:f},navigationType:s}}),[l,c,d,h,p,f,s]);return null==m?null:T.createElement(we.Provider,{value:u},T.createElement(xe.Provider,{children:n,value:m}))}function Ue(e){let{children:t,location:n}=e;return Ae(We(t),n)}new Promise((()=>{}));T.Component;function We(e,t){void 0===t&&(t=[]);let n=[];return T.Children.forEach(e,((e,r)=>{if(!T.isValidElement(e))return;let s=[...t,r];if(e.type===T.Fragment)return void n.push.apply(n,We(e.props.children,s));e.type!==ze&&L(!1),e.props.index&&e.props.children&&L(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=We(e.props.children,s)),n.push(a)})),n}function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qe.apply(this,arguments)}function He(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Qk){}new Map;const Ge=N.startTransition;D.flushSync,N.useId;function Ye(e){let{basename:t,children:n,future:r,window:s}=e,a=T.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),V((function(e,t){let{pathname:n,search:r,hash:s}=e.location;return $("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:B(t)}),null,o)));let i=a.current,[l,u]=T.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},d=T.useCallback((e=>{c&&Ge?Ge((()=>u(e))):u(e)}),[u,c]);return T.useLayoutEffect((()=>i.listen(d)),[i,d]),T.createElement(Ve,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}const Qe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Xe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=T.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:a,replace:o,state:i,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,h=He(e,Ke),{basename:p}=T.useContext(we),f=!1;if("string"===typeof u&&Xe.test(u)&&(n=u,Qe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=ae(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:f=!0}catch(Qk){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;Ee()||L(!1);let{basename:r,navigator:s}=T.useContext(we),{hash:a,pathname:o,search:i}=Ce(e,{relative:n}),l=o;return"/"!==r&&(l="/"===o?r:ce([r,o])),s.createHref({pathname:l,search:i,hash:a})}(u,{relative:s}),g=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:i}=void 0===t?{}:t,l=_e(),u=Te(),c=Ce(e,{relative:o});return T.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:B(u)===B(c);l(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:i})}}),[u,l,c,r,s,n,e,a,o,i])}(u,{replace:o,state:i,target:l,preventScrollReset:c,relative:s,viewTransition:d});return T.createElement("a",qe({},h,{href:n||m,onClick:f||a?r:function(e){r&&r(e),e.defaultPrevented||g(e)},ref:t,target:l}))}));var Ze,et;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ze||(Ze={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(et||(et={}));function tt(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function nt(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const rt=e=>Array.isArray(e);function st(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function at(e){return"string"===typeof e||Array.isArray(e)}function ot(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function it(e,t,n,r){if("function"===typeof t){const[s,a]=ot(r);t=t(void 0!==n?n:e.custom,s,a)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[s,a]=ot(r);t=t(void 0!==n?n:e.custom,s,a)}return t}function lt(e,t,n){const r=e.getProps();return it(r,t,void 0!==n?n:r.custom,e)}const ut=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ct=["initial",...ut],dt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ht=new Set(dt),pt=e=>1e3*e,ft=e=>e/1e3,mt={type:"spring",stiffness:500,damping:25,restSpeed:10},gt={type:"keyframes",duration:.8},yt={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vt=(e,t)=>{let{keyframes:n}=t;return n.length>2?gt:ht.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:mt:yt};function bt(e,t){return e?e[t]||e.default||e:void 0}const wt=!1,xt=!1,St=!1,kt=e=>null!==e;function Et(e,t,n){let{repeat:r,repeatType:s="loop"}=t;const a=e.filter(kt),o=r&&"loop"!==s&&r%2===1?0:a.length-1;return o&&void 0!==n?n:a[o]}const Tt=e=>e;const Nt=["read","resolveKeyframes","update","preRender","render","postRender"];function _t(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Nt.reduce(((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function i(t){a.has(t)&&(l.schedule(t),e()),t(o)}const l={schedule:function(e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),s.has(e)||s.add(e),e},cancel:e=>{n.delete(e),a.delete(e)},process:e=>{o=e,r?s=!0:(r=!0,[t,n]=[n,t],n.clear(),t.forEach(i),r=!1,s&&(s=!1,l.process(e)))}};return l}(a),e)),{}),{read:i,resolveKeyframes:l,update:u,preRender:c,render:d,postRender:h}=o,p=()=>{const a=xt?s.timestamp:performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(a-s.timestamp,40),1),s.timestamp=a,s.isProcessing=!0,i.process(s),l.process(s),u.process(s),c.process(s),d.process(s),h.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},f=Nt.reduce(((t,a)=>{const i=o[a];return t[a]=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,s.isProcessing||e(p)),i.schedule(t,a,o)},t}),{});return{schedule:f,cancel:e=>{for(let t=0;t<Nt.length;t++)o[Nt[t]].cancel(e)},state:s,steps:o}}const{schedule:Ct,cancel:At,state:Ot,steps:Rt}=_t("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Tt,!0),Pt=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Dt(e,t,n,r){if(e===t&&n===r)return Tt;const s=t=>function(e,t,n,r,s){let a,o,i=0;do{o=t+(n-t)/2,a=Pt(o,r,s)-e,a>0?n=o:t=o}while(Math.abs(a)>1e-7&&++i<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:Pt(s(e),t,r)}const It=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Mt=e=>t=>1-e(1-t),Lt=Dt(.33,1.53,.69,.99),Ft=Mt(Lt),jt=It(Ft),$t=e=>(e*=2)<1?.5*Ft(e):.5*(2-Math.pow(2,-10*(e-1))),Bt=e=>1-Math.sin(Math.acos(e)),zt=Mt(Bt),Vt=It(Bt),Ut=e=>/^0[^.\s]+$/u.test(e);function Wt(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||Ut(e))}let qt=Tt,Ht=Tt;const Kt=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Gt=e=>t=>"string"===typeof t&&t.startsWith(e),Yt=Gt("--"),Qt=Gt("var(--"),Xt=e=>!!Qt(e)&&Jt.test(e.split("/*")[0].trim()),Jt=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zt=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function en(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Ht(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[r,s]=function(e){const t=Zt.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${null!==n&&void 0!==n?n:r}`,s]}(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const e=a.trim();return Kt(e)?parseFloat(e):e}return Xt(s)?en(s,t,n+1):s}const tn=(e,t,n)=>n>t?t:n<e?e:n,nn={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},rn={...nn,transform:e=>tn(0,1,e)},sn={...nn,default:1},an=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),on=an("deg"),ln=an("%"),un=an("px"),cn=an("vh"),dn=an("vw"),hn={...ln,parse:e=>ln.parse(e)/100,transform:e=>ln.transform(100*e)},pn=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),fn=e=>e===nn||e===un,mn=(e,t)=>parseFloat(e.split(", ")[t]),gn=(e,t)=>(n,r)=>{let{transform:s}=r;if("none"===s||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/u);if(a)return mn(a[1],t);{const t=s.match(/^matrix\((.+)\)$/u);return t?mn(t[1],e):0}},yn=new Set(["x","y","z"]),vn=dt.filter((e=>!yn.has(e)));const bn={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:gn(4,13),y:gn(5,14)};bn.translateX=bn.x,bn.translateY=bn.y;const wn=e=>t=>t.test(e),xn=[nn,un,ln,on,dn,cn,{test:e=>"auto"===e,parse:e=>e}],Sn=e=>xn.find(wn(e)),kn=new Set;let En=!1,Tn=!1;function Nn(){if(Tn){const e=Array.from(kn).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return vn.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;var s;null===(s=e.getValue(n))||void 0===s||s.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Tn=!1,En=!1,kn.forEach((e=>e.complete())),kn.clear()}function _n(){kn.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Tn=!0)}))}class Cn{constructor(e,t,n,r,s){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(kn.add(this),En||(En=!0,Ct.read(_n),Ct.resolveKeyframes(Nn))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let s=0;s<e.length;s++)if(null===e[s])if(0===s){const s=null===r||void 0===r?void 0:r.get(),a=e[e.length-1];if(void 0!==s)e[0]=s;else if(n&&t){const r=n.readValue(t,a);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=a),r&&void 0===s&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),kn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,kn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const An=e=>Math.round(1e5*e)/1e5,On=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const Rn=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Pn=(e,t)=>n=>Boolean("string"===typeof n&&Rn.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Dn=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[s,a,o,i]=r.match(On);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(o),alpha:void 0!==i?parseFloat(i):1}},In={...nn,transform:e=>Math.round((e=>tn(0,255,e))(e))},Mn={test:Pn("rgb","red"),parse:Dn("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:s=1}=e;return"rgba("+In.transform(t)+", "+In.transform(n)+", "+In.transform(r)+", "+An(rn.transform(s))+")"}};const Ln={test:Pn("#"),parse:function(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}},transform:Mn.transform},Fn={test:Pn("hsl","hue"),parse:Dn("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:s=1}=e;return"hsla("+Math.round(t)+", "+ln.transform(An(n))+", "+ln.transform(An(r))+", "+An(rn.transform(s))+")"}},jn={test:e=>Mn.test(e)||Ln.test(e)||Fn.test(e),parse:e=>Mn.test(e)?Mn.parse(e):Fn.test(e)?Fn.parse(e):Ln.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?Mn.transform(e):Fn.transform(e)},$n=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Bn="number",zn="color",Vn=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Un(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const o=t.replace(Vn,(e=>(jn.test(e)?(r.color.push(a),s.push(zn),n.push(jn.parse(e))):e.startsWith("var(")?(r.var.push(a),s.push("var"),n.push(e)):(r.number.push(a),s.push(Bn),n.push(parseFloat(e))),++a,"${}"))).split("${}");return{values:n,split:o,indexes:r,types:s}}function Wn(e){return Un(e).values}function qn(e){const{split:t,types:n}=Un(e),r=t.length;return e=>{let s="";for(let a=0;a<r;a++)if(s+=t[a],void 0!==e[a]){const t=n[a];s+=t===Bn?An(e[a]):t===zn?jn.transform(e[a]):e[a]}return s}}const Hn=e=>"number"===typeof e?0:e;const Kn={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(On))||void 0===t?void 0:t.length)||0)+((null===(n=e.match($n))||void 0===n?void 0:n.length)||0)>0},parse:Wn,createTransformer:qn,getAnimatableNone:function(e){const t=Wn(e);return qn(e)(t.map(Hn))}},Gn=new Set(["brightness","contrast","saturate","opacity"]);function Yn(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(On)||[];if(!r)return e;const s=n.replace(r,"");let a=Gn.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+s+")"}const Qn=/\b([a-z-]*)\(.*?\)/gu,Xn={...Kn,getAnimatableNone:e=>{const t=e.match(Qn);return t?t.map(Yn).join(" "):e}},Jn={borderWidth:un,borderTopWidth:un,borderRightWidth:un,borderBottomWidth:un,borderLeftWidth:un,borderRadius:un,radius:un,borderTopLeftRadius:un,borderTopRightRadius:un,borderBottomRightRadius:un,borderBottomLeftRadius:un,width:un,maxWidth:un,height:un,maxHeight:un,top:un,right:un,bottom:un,left:un,padding:un,paddingTop:un,paddingRight:un,paddingBottom:un,paddingLeft:un,margin:un,marginTop:un,marginRight:un,marginBottom:un,marginLeft:un,backgroundPositionX:un,backgroundPositionY:un},Zn={rotate:on,rotateX:on,rotateY:on,rotateZ:on,scale:sn,scaleX:sn,scaleY:sn,scaleZ:sn,skew:on,skewX:on,skewY:on,distance:un,translateX:un,translateY:un,translateZ:un,x:un,y:un,z:un,perspective:un,transformPerspective:un,opacity:rn,originX:hn,originY:hn,originZ:un},er={...nn,transform:Math.round},tr={...Jn,...Zn,zIndex:er,size:un,fillOpacity:rn,strokeOpacity:rn,numOctaves:er},nr={...tr,color:jn,backgroundColor:jn,outlineColor:jn,fill:jn,stroke:jn,borderColor:jn,borderTopColor:jn,borderRightColor:jn,borderBottomColor:jn,borderLeftColor:jn,filter:Xn,WebkitFilter:Xn},rr=e=>nr[e];function sr(e,t){let n=rr(e);return n!==Xn&&(n=Kn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ar=new Set(["auto","none","0"]);class or extends Cn{constructor(e,t,n,r,s){super(e,t,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let i=0;i<e.length;i++){let n=e[i];if("string"===typeof n&&(n=n.trim(),Xt(n))){const r=en(n,t.current);void 0!==r&&(e[i]=r),i===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!pn.has(n)||2!==e.length)return;const[r,s]=e,a=Sn(r),o=Sn(s);if(a!==o)if(fn(a)&&fn(o))for(let i=0;i<e.length;i++){const t=e[i];"string"===typeof t&&(e[i]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)Wt(e[r])&&n.push(r);n.length&&function(e,t,n){let r,s=0;for(;s<e.length&&!r;){const t=e[s];"string"===typeof t&&!ar.has(t)&&Un(t).values.length&&(r=e[s]),s++}if(r&&n)for(const a of t)e[a]=sr(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bn[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=bn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}function ir(e){return"function"===typeof e}let lr;function ur(){lr=void 0}const cr={now:()=>(void 0===lr&&cr.set(Ot.isProcessing||xt?Ot.timestamp:performance.now()),lr),set:e=>{lr=e,queueMicrotask(ur)}},dr=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!Kn.test(e)&&"0"!==e||e.startsWith("url(")));function hr(e,t,n,r){const s=e[0];if(null===s)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],o=dr(s,t),i=dr(a,t);return qt(o===i,`You are trying to animate ${t} from "${s}" to "${a}". ${s} is not an animatable value - to enable this animation set ${s} to a value animatable to ${a} via the \`style\` property.`),!(!o||!i)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||ir(n))&&r)}class pr{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",...i}=e;this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=cr.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:o,...i},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(_n(),Nn()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=cr.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:s,delay:a,onComplete:o,onUpdate:i,isGenerator:l}=this.options;if(!l&&!hr(e,n,r,s)){if(St||!a)return null===i||void 0===i||i(Et(e,this.options,t)),null===o||void 0===o||o(),void this.resolveFinishedPromise();this.options.duration=0}const u=this.initPlayback(e,t);!1!==u&&(this._resolved={keyframes:e,finalKeyframe:t,...u},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}function fr(e,t){return t?e*(1e3/t):0}function mr(e,t,n){const r=Math.max(t-5,0);return fr(n-e(r),t-r)}const gr=.001;function yr(e){let t,n,{duration:r=800,bounce:s=.25,velocity:a=0,mass:o=1}=e;qt(r<=pt(10),"Spring duration must be 10 seconds or less");let i=1-s;i=tn(.05,1,i),r=tn(.01,10,ft(r)),i<1?(t=e=>{const t=e*i,n=t*r,s=t-a,o=br(e,i),l=Math.exp(-n);return gr-s/o*l},n=e=>{const n=e*i*r,s=n*a+a,o=Math.pow(i,2)*Math.pow(e,2)*r,l=Math.exp(-n),u=br(Math.pow(e,2),i);return(-t(e)+gr>0?-1:1)*((s-o)*l)/u}):(t=e=>Math.exp(-e*r)*((e-a)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(a-e)));const l=function(e,t,n){let r=n;for(let s=1;s<vr;s++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=pt(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*i*Math.sqrt(o*e),duration:r}}}const vr=12;function br(e,t){return e*Math.sqrt(1-t*t)}const wr=["duration","bounce"],xr=["stiffness","damping","mass"];function Sr(e,t){return t.some((t=>void 0!==e[t]))}function kr(e){let{keyframes:t,restDelta:n,restSpeed:r,...s}=e;const a=t[0],o=t[t.length-1],i={done:!1,value:a},{stiffness:l,damping:u,mass:c,duration:d,velocity:h,isResolvedFromDuration:p}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Sr(e,xr)&&Sr(e,wr)){const n=yr(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...s,velocity:-ft(s.velocity||0)}),f=h||0,m=u/(2*Math.sqrt(l*c)),g=o-a,y=ft(Math.sqrt(l/c)),v=Math.abs(g)<5;let b;if(r||(r=v?.01:2),n||(n=v?.005:.5),m<1){const e=br(y,m);b=t=>{const n=Math.exp(-m*y*t);return o-n*((f+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>o-Math.exp(-y*e)*(g+(f+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return o-n*((f+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:p&&d||null,next:e=>{const t=b(e);if(p)i.done=e>=d;else{let s=0;m<1&&(s=0===e?pt(f):mr(b,e,t));const a=Math.abs(s)<=r,l=Math.abs(o-t)<=n;i.done=a&&l}return i.value=i.done?o:t,i}}}function Er(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:u,restDelta:c=.5,restSpeed:d}=e;const h=t[0],p={done:!1,value:h},f=e=>void 0===l?u:void 0===u||Math.abs(l-e)<Math.abs(u-e)?l:u;let m=r*n;const g=h+m,y=void 0===i?g:i(g);y!==g&&(m=y-h);const v=e=>-m*Math.exp(-e/s),b=e=>y+v(e),w=e=>{const t=v(e),n=b(e);p.done=Math.abs(t)<=c,p.value=p.done?y:n};let x,S;const k=e=>{var t;(t=p.value,void 0!==l&&t<l||void 0!==u&&t>u)&&(x=e,S=kr({keyframes:[p.value,f(p.value)],velocity:mr(b,e,p.value),damping:a,stiffness:o,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==x||(t=!0,w(e),k(e)),void 0!==x&&e>=x?S.next(e-x):(!t&&w(e),p)}}}const Tr=Dt(.42,0,1,1),Nr=Dt(0,0,.58,1),_r=Dt(.42,0,.58,1),Cr=e=>Array.isArray(e)&&"number"===typeof e[0],Ar={linear:Tt,easeIn:Tr,easeInOut:_r,easeOut:Nr,circIn:Bt,circInOut:Vt,circOut:zt,backIn:Ft,backInOut:jt,backOut:Lt,anticipate:$t},Or=e=>{if(Cr(e)){Ht(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,s]=e;return Dt(t,n,r,s)}return"string"===typeof e?(Ht(void 0!==Ar[e],`Invalid easing type '${e}'`),Ar[e]):e},Rr=(e,t)=>n=>t(e(n)),Pr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Rr)},Dr=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Ir=(e,t,n)=>e+(t-e)*n;function Mr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Lr(e,t){return n=>n>0?t:e}const Fr=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},jr=[Ln,Mn,Fn];function $r(e){const t=(n=e,jr.find((e=>e.test(n))));var n;if(qt(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`),!Boolean(t))return!1;let r=t.parse(e);return t===Fn&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:s}=e;t/=360,n/=100,r/=100;let a=0,o=0,i=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,s=2*r-e;a=Mr(s,e,t+1/3),o=Mr(s,e,t),i=Mr(s,e,t-1/3)}else a=o=i=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*i),alpha:s}}(r)),r}const Br=(e,t)=>{const n=$r(e),r=$r(t);if(!n||!r)return Lr(e,t);const s={...n};return e=>(s.red=Fr(n.red,r.red,e),s.green=Fr(n.green,r.green,e),s.blue=Fr(n.blue,r.blue,e),s.alpha=Ir(n.alpha,r.alpha,e),Mn.transform(s))},zr=new Set(["none","hidden"]);function Vr(e,t){return n=>Ir(e,t,n)}function Ur(e){return"number"===typeof e?Vr:"string"===typeof e?Xt(e)?Lr:jn.test(e)?Br:Hr:Array.isArray(e)?Wr:"object"===typeof e?jn.test(e)?Br:qr:Lr}function Wr(e,t){const n=[...e],r=n.length,s=e.map(((e,n)=>Ur(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=s[t](e);return n}}function qr(e,t){const n={...e,...t},r={};for(const s in n)void 0!==e[s]&&void 0!==t[s]&&(r[s]=Ur(e[s])(e[s],t[s]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Hr=(e,t)=>{const n=Kn.createTransformer(t),r=Un(e),s=Un(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?zr.has(e)&&!s.values.length||zr.has(t)&&!r.values.length?function(e,t){return zr.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Pr(Wr(function(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],i=e.indexes[o][s[o]],l=null!==(n=e.values[i])&&void 0!==n?n:0;r[a]=l,s[o]++}return r}(r,s),s.values),n):(qt(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Lr(e,t))};function Kr(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Ir(e,t,n);return Ur(e)(e,t)}function Gr(e,t){let{clamp:n=!0,ease:r,mixer:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length;if(Ht(a===t.length,"Both input and output ranges must be the same length"),1===a)return()=>t[0];if(2===a&&e[0]===e[1])return()=>t[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],s=n||Kr,a=e.length-1;for(let o=0;o<a;o++){let n=s(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||Tt:t;n=Pr(e,n)}r.push(n)}return r}(t,r,s),i=o.length,l=t=>{let n=0;if(i>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=Dr(e[n],e[n+1],t);return o[n](r)};return n?t=>l(tn(e[0],e[a-1],t)):l}function Yr(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Dr(0,t,r);e.push(Ir(n,1,s))}}(t,e.length-1),t}function Qr(e){let{duration:t=300,keyframes:n,times:r,ease:s="easeInOut"}=e;const a=(e=>Array.isArray(e)&&"number"!==typeof e[0])(s)?s.map(Or):Or(s),o={done:!1,value:n[0]},i=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:Yr(n),t),l=Gr(i,n,{ease:Array.isArray(a)?a:(u=n,c=a,u.map((()=>c||_r)).splice(0,u.length-1))});var u,c;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}const Xr=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Ct.update(t,!0),stop:()=>At(t),now:()=>Ot.isProcessing?Ot.timestamp:cr.now()}},Jr={decay:Er,inertia:Er,tween:Qr,keyframes:Qr,spring:kr},Zr=e=>e/100;class es extends pr{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:s}=this.options,a=(null===r||void 0===r?void 0:r.KeyframeResolver)||Cn;this.resolver=new a(s,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:a=0}=this.options,o=ir(t)?t:Jr[t]||Qr;let i,l;o!==Qr&&"number"!==typeof e[0]&&(i=Pr(Zr,Kr(e[0],e[1])),e=[0,100]);const u=o({...this.options,keyframes:e});"mirror"===s&&(l=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),null===u.calculatedDuration&&(u.calculatedDuration=function(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}(u));const{calculatedDuration:c}=u,d=c+r;return{generator:u,mirroredGenerator:l,mapPercentToKeyframes:i,calculatedDuration:c,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:i,calculatedDuration:l,totalDuration:u,resolvedDuration:c}=n;if(null===this.startTime)return s.next(0);const{delay:d,repeat:h,repeatType:p,repeatDelay:f,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=u);let v=this.currentTime,b=s;if(h){const e=Math.min(this.currentTime,u)/c;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===p?(n=1-n,f&&(n-=f/c)):"mirror"===p&&(b=a)),v=tn(0,1,n)*c}const w=y?{done:!1,value:i[0]}:b.next(v);o&&(w.value=o(w.value));let{done:x}=w;y||null===l||(x=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return S&&void 0!==r&&(w.value=Et(i,this.options,r)),m&&m(w.value),S&&this.finish(),w}get duration(){const{resolved:e}=this;return e?ft(e.calculatedDuration):0}get time(){return ft(this.currentTime)}set time(e){e=pt(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ft(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=Xr,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ts=new Set(["opacity","clipPath","filter","transform"]);function ns(e){let t;return()=>(void 0===t&&(t=e()),t)}const rs={linearEasing:void 0};function ss(e,t){const n=ns(e);return()=>{var e;return null!==(e=rs[t])&&void 0!==e?e:n()}}const as=ss((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(Qk){return!1}return!0}),"linearEasing");function os(e){return Boolean("function"===typeof e&&as()||!e||"string"===typeof e&&(e in ls||as())||Cr(e)||Array.isArray(e)&&e.every(os))}const is=e=>{let[t,n,r,s]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${s})`},ls={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:is([0,.65,.55,1]),circOut:is([.55,0,1,.45]),backIn:is([.31,.01,.66,-.59]),backOut:is([.33,1.53,.69,.99])};function us(e,t){return e?"function"===typeof e&&as()?((e,t)=>{let n="";const r=Math.max(Math.round(t/10),2);for(let s=0;s<r;s++)n+=e(Dr(0,r-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`})(e,t):Cr(e)?is(e):Array.isArray(e)?e.map((e=>us(e,t)||ls.easeOut)):ls[e]:void 0}function cs(e,t){e.timeline=t,e.onfinish=null}const ds=ns((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const hs={anticipate:$t,backInOut:jt,circInOut:Vt};class ps extends pr{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:s}=this.options;this.resolver=new or(s,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){var n;let{duration:r=300,times:s,ease:a,type:o,motionValue:i,name:l,startTime:u}=this.options;if(!(null===(n=i.owner)||void 0===n?void 0:n.current))return!1;var c;if("string"===typeof a&&as()&&a in hs&&(a=hs[a]),ir((c=this.options).type)||"spring"===c.type||!os(c.ease)){const{onComplete:t,onUpdate:n,motionValue:i,element:l,...u}=this.options,c=function(e,t){const n=new es({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let a=0;for(;!r.done&&a<2e4;)r=n.sample(a),s.push(r.value),a+=10;return{times:void 0,keyframes:s,duration:a-10,ease:"linear"}}(e,u);1===(e=c.keyframes).length&&(e[1]=e[0]),r=c.duration,s=c.times,a=c.ease,o="keyframes"}const d=function(e,t,n){let{delay:r=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:i,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const u={[t]:n};l&&(u.offset=l);const c=us(i,s);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:s,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:a+1,direction:"reverse"===o?"alternate":"normal"})}(i.owner.current,l,e,{...this.options,duration:r,times:s,ease:a});return d.startTime=null!==u&&void 0!==u?u:this.calcStartTime(),this.pendingTimeline?(cs(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:n}=this.options;i.set(Et(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return ft(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return ft(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=pt(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return Tt;const{animation:n}=t;cs(n,e)}else this.pendingTimeline=e;return Tt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:s,ease:a,times:o}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:i,element:l,...u}=this.options,c=new es({...u,keyframes:n,duration:r,type:s,ease:a,times:o,isGenerator:!0}),d=pt(this.time);e.setWithVelocity(c.sample(d-10).value,c.sample(d).value,10)}const{onStop:i}=this.options;i&&i(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:a,type:o}=e;return ds()&&n&&ts.has(n)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!r&&"mirror"!==s&&0!==a&&"inertia"!==o}}const fs=ns((()=>void 0!==window.ScrollTimeline));class ms{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>fs()&&n.attachTimeline?n.attachTimeline(e):t(n)));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const gs=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return o=>{const i=bt(r,e)||{},l=i.delay||r.delay||0;let{elapsed:u=0}=r;u-=pt(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...i,delay:-u,onUpdate:e=>{t.set(e),i.onUpdate&&i.onUpdate(e)},onComplete:()=>{o(),i.onComplete&&i.onComplete()},name:e,motionValue:t,element:a?void 0:s};(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:s,staggerDirection:a,repeat:o,repeatType:i,repeatDelay:l,from:u,elapsed:c,...d}=e;return!!Object.keys(d).length})(i)||(c={...c,...vt(e,c)}),c.duration&&(c.duration=pt(c.duration)),c.repeatDelay&&(c.repeatDelay=pt(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let d=!1;if((!1===c.type||0===c.duration&&!c.repeatDelay)&&(c.duration=0,0===c.delay&&(d=!0)),(St||wt)&&(d=!0,c.duration=0,c.delay=0),d&&!a&&void 0!==t.get()){const e=Et(c.keyframes,i);if(void 0!==e)return Ct.update((()=>{c.onUpdate(e),c.onComplete()})),new ms([])}return!a&&ps.supports(c)?new ps(c):new es(c)}};function ys(e,t){-1===e.indexOf(t)&&e.push(t)}function vs(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class bs{constructor(){this.subscriptions=[]}add(e){return ys(this.subscriptions,e),()=>vs(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const r=this.subscriptions[s];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ws={current:void 0};class xs{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.11.9",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=cr.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=cr.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new bs);const n=this.events[e].add(t);return"change"===e?()=>{n(),Ct.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return ws.current&&ws.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=cr.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return fr(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ss(e,t){return new xs(e,t)}function ks(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ss(n))}const Es=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ts="data-"+Es("framerAppearId");function Ns(e){return e.props[Ts]}const _s=e=>Boolean(e&&e.getVelocity);function Cs(e,t){if(!e.applyWillChange)return;const n=e.getValue("willChange");return function(e){return Boolean(_s(e)&&e.add)}(n)?n.add(t):void 0}function As(e,t){let{protectedKeys:n,needsAnimating:r}=e;const s=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,s}function Os(e,t){let{delay:n=0,transitionOverride:r,type:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var a;let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=t;r&&(o=r);const u=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const t=e.getValue(d,null!==(a=e.latestValues[d])&&void 0!==a?a:null),r=l[d];if(void 0===r||c&&As(c,d))continue;const s={delay:n,...bt(o||{},d)};let i=!1;if(window.MotionHandoffAnimation){const t=Ns(e);if(t){const e=window.MotionHandoffAnimation(t,d,Ct);null!==e&&(s.startTime=e,i=!0)}}Cs(e,d),t.start(gs(d,t,r,e.shouldReduceMotion&&ht.has(d)?{type:!1}:s,e,i));const h=t.animation;h&&u.push(h)}return i&&Promise.all(u).then((()=>{Ct.update((()=>{i&&function(e,t){const n=lt(e,t);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const i in a)ks(e,i,(o=a[i],rt(o)?o[o.length-1]||0:o));var o}(e,i)}))})),u}function Rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const s=lt(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const o=s?()=>Promise.all(Os(e,s,n)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:o,staggerDirection:i}=a;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0;const o=[],i=(e.variantChildren.size-1)*r,l=1===s?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return i-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Ps).forEach(((e,r)=>{e.notify("AnimationStart",t),o.push(Rs(e,t,{...a,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(o)}(e,t,s+r,o,i,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[e,t]="beforeChildren"===l?[o,i]:[i,o];return e().then((()=>t()))}return Promise.all([o(),i(n.delay)])}function Ps(e,t){return e.sortNodePosition(t)}const Ds=ct.length;function Is(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Is(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Ds;n++){const r=ct[n],s=e.props[r];(at(s)||!1===s)&&(t[r]=s)}return t}const Ms=[...ut].reverse(),Ls=ut.length;function Fs(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const s=t.map((t=>Rs(e,t,r)));n=Promise.all(s)}else if("string"===typeof t)n=Rs(e,t,r);else{const s="function"===typeof t?lt(e,t,r.custom):t;n=Promise.all(Os(e,s,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function js(e){let t=Fs(e),n=zs(),r=!0;const s=t=>(n,r)=>{var s;const a=lt(e,r,"exit"===t?null===(s=e.presenceContext)||void 0===s?void 0:s.custom:void 0);if(a){const{transition:e,transitionEnd:t,...r}=a;n={...n,...r,...t}}return n};function a(a){const{props:o}=e,i=Is(e.parent)||{},l=[],u=new Set;let c={},d=1/0;for(let t=0;t<Ls;t++){const h=Ms[t],p=n[h],f=void 0!==o[h]?o[h]:i[h],m=at(f),g=h===a?p.isActive:null;!1===g&&(d=t);let y=f===i[h]&&f!==o[h]&&m;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys={...c},!p.isActive&&null===g||!f&&!p.prevProp||nt(f)||"boolean"===typeof f)continue;const v=$s(p.prevProp,f);let b=v||h===a&&p.isActive&&!y&&m||t>d&&m,w=!1;const x=Array.isArray(f)?f:[f];let S=x.reduce(s(h),{});!1===g&&(S={});const{prevResolvedValues:k={}}=p,E={...k,...S},T=t=>{b=!0,u.has(t)&&(w=!0,u.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in E){const t=S[e],n=k[e];if(c.hasOwnProperty(e))continue;let r=!1;r=rt(t)&&rt(n)?!st(t,n):t!==n,r?void 0!==t&&null!==t?T(e):u.add(e):void 0!==t&&u.has(e)?T(e):p.protectedKeys[e]=!0}p.prevProp=f,p.prevResolvedValues=S,p.isActive&&(c={...c,...S}),r&&e.blockInitialAnimation&&(b=!1);b&&(!(y&&v)||w)&&l.push(...x.map((e=>({animation:e,options:{type:h}}))))}if(u.size){const t={};u.forEach((n=>{const r=e.getBaseTarget(n),s=e.getValue(n);s&&(s.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,r){var s;if(n[t].isActive===r)return Promise.resolve();null===(s=e.variantChildren)||void 0===s||s.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const o=a(t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=zs(),r=!0}}}function $s(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!st(t,e)}function Bs(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zs(){return{animate:Bs(!0),whileInView:Bs(),whileHover:Bs(),whileTap:Bs(),whileDrag:Bs(),whileFocus:Bs(),exit:Bs()}}class Vs{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Us=0;const Ws={animation:{Feature:class extends Vs{constructor(e){super(e),e.animationState||(e.animationState=js(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();nt(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Vs{constructor(){super(...arguments),this.id=Us++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},qs=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Hs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}function Ks(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Gs(e,t,n,r){return Ks(e,t,(e=>t=>qs(t)&&e(t,Hs(t)))(n),r)}const Ys=(e,t)=>Math.abs(e-t);class Qs{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Zs(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Ys(e.x,t.x),r=Ys(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:s}=Ot;this.history.push({...r,timestamp:s});const{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Xs(t,this.transformPagePoint),Ct.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=Zs("pointercancel"===e.type?this.lastMoveEventInfo:Xs(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!qs(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const a=Xs(Hs(e),this.transformPagePoint),{point:o}=a,{timestamp:i}=Ot;this.history=[{...o,timestamp:i}];const{onSessionStart:l}=t;l&&l(e,Zs(a,this.history)),this.removeListeners=Pr(Gs(this.contextWindow,"pointermove",this.handlePointerMove),Gs(this.contextWindow,"pointerup",this.handlePointerUp),Gs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),At(this.updatePoint)}}function Xs(e,t){return t?{point:t(e.point)}:e}function Js(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zs(e,t){let{point:n}=e;return{point:n,delta:Js(n,ta(t)),offset:Js(n,ea(t)),velocity:na(t,.1)}}function ea(e){return e[0]}function ta(e){return e[e.length-1]}function na(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=ta(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>pt(t)));)n--;if(!r)return{x:0,y:0};const a=ft(s.timestamp-r.timestamp);if(0===a)return{x:0,y:0};const o={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ra(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const sa=ra("dragHorizontal"),aa=ra("dragVertical");function oa(e){let t=!1;if("y"===e)t=aa();else if("x"===e)t=sa();else{const e=sa(),n=aa();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function ia(){const e=oa(!0);return!e||(e(),!1)}function la(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function ua(e){return e.max-e.min}function ca(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Ir(t.min,t.max,e.origin),e.scale=ua(n)/ua(t),e.translate=Ir(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function da(e,t,n,r){ca(e.x,t.x,n.x,r?r.originX:void 0),ca(e.y,t.y,n.y,r?r.originY:void 0)}function ha(e,t,n){e.min=n.min+t.min,e.max=e.min+ua(t)}function pa(e,t,n){e.min=t.min-n.min,e.max=e.min+ua(t)}function fa(e,t,n){pa(e.x,t.x,n.x),pa(e.y,t.y,n.y)}function ma(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function ga(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const ya=.35;function va(e,t,n){return{min:ba(e,t),max:ba(e,n)}}function ba(e,t){return"number"===typeof e?e:e[t]||0}const wa=()=>({x:{min:0,max:0},y:{min:0,max:0}});function xa(e){return[e("x"),e("y")]}function Sa(e){let{top:t,left:n,right:r,bottom:s}=e;return{x:{min:n,max:r},y:{min:t,max:s}}}function ka(e){return void 0===e||1===e}function Ea(e){let{scale:t,scaleX:n,scaleY:r}=e;return!ka(t)||!ka(n)||!ka(r)}function Ta(e){return Ea(e)||Na(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Na(e){return _a(e.x)||_a(e.y)}function _a(e){return e&&"0%"!==e}function Ca(e,t,n){return n+t*(e-n)}function Aa(e,t,n,r,s){return void 0!==s&&(e=Ca(e,s,r)),Ca(e,n,r)+t}function Oa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;e.min=Aa(e.min,t,n,r,s),e.max=Aa(e.max,t,n,r,s)}function Ra(e,t){let{x:n,y:r}=t;Oa(e.x,n.translate,n.scale,n.originPoint),Oa(e.y,r.translate,r.scale,r.originPoint)}const Pa=.999999999999,Da=1.0000000000001;function Ia(e,t){e.min=e.min+t,e.max=e.max+t}function Ma(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Oa(e,t,n,Ir(e.min,e.max,s),r)}function La(e,t){Ma(e.x,t.x,t.scaleX,t.scale,t.originX),Ma(e.y,t.y,t.scaleY,t.scale,t.originY)}function Fa(e,t){return Sa(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const ja=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},$a=new WeakMap;class Ba{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Qs(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Hs(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:s}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=oa(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xa((e=>{let t=this.getAxisMotionValue(e).get()||0;if(ln.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=ua(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),s&&Ct.postRender((()=>s(e,t))),Cs(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:s,onDrag:a}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>xa((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:ja(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Ct.postRender((()=>s(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!za(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){let{min:r,max:s}=t;return void 0!==r&&e<r?e=n?Ir(r,e,n.min):Math.max(e,r):void 0!==s&&e>s&&(e=n?Ir(s,e,n.max):Math.min(e,s)),e}(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,s=this.constraints;t&&la(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:s,right:a}=t;return{x:ma(e.x,r,a),y:ma(e.y,n,s)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya;return!1===e?e=0:!0===e&&(e=ya),{x:va(e,"left","right"),y:va(e,"top","bottom")}}(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&xa((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!la(e))return!1;const n=e.current;Ht(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=function(e,t,n){const r=Fa(e,n),{scroll:s}=t;return s&&(Ia(r.x,s.offset.x),Ia(r.y,s.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:ga(e.x,t.x),y:ga(e.y,t.y)}}(r.layout.layoutBox,s);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=Sa(e))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),i=this.constraints||{},l=xa((o=>{if(!za(o,t,this.currentDirection))return;let l=i&&i[o]||{};a&&(l={min:0,max:0});const u=r?200:1e6,c=r?40:1e7,d={type:"inertia",velocity:n?e[o]:0,bounceStiffness:u,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10,...s,...l};return this.startAxisValueAnimation(o,d)}));return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Cs(this.visualElement,e),n.start(gs(e,n,0,t,this.visualElement,!1))}stopAnimation(){xa((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){xa((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){xa((t=>{const{drag:n}=this.getProps();if(!za(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:a}=r.layout.layoutBox[t];s.set(e[t]-Ir(n,a,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!la(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};xa((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=ua(e),s=ua(t);return s>r?n=Dr(t.min,t.max-r,e.min):r>s&&(n=Dr(e.min,e.max-s,t.min)),tn(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),xa((t=>{if(!za(t,e,null))return;const n=this.getAxisMotionValue(t),{min:s,max:a}=this.constraints[t];n.set(Ir(s,a,r[t]))}))}addListeners(){if(!this.visualElement.current)return;$a.set(this.visualElement,this);const e=Gs(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();la(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Ct.read(t);const s=Ks(window,"resize",(()=>this.scalePositionWithinConstraints())),a=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(xa((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{s(),e(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:a=ya,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function za(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Va=e=>(t,n)=>{e&&Ct.postRender((()=>e(t,n)))};var Ua=n(131),Wa=n(795);const qa=(0,Wa.createContext)(null);const Ha=(0,Wa.createContext)({}),Ka=(0,Wa.createContext)({}),Ga={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ya(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qa={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!un.test(e))return e;e=parseFloat(e)}return`${Ya(e,t.target.x)}% ${Ya(e,t.target.y)}%`}},Xa={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const s=e,a=Kn.parse(e);if(a.length>5)return s;const o=Kn.createTransformer(e),i="number"!==typeof a[0]?1:0,l=r.x.scale*n.x,u=r.y.scale*n.y;a[0+i]/=l,a[1+i]/=u;const c=Ir(l,u,.5);return"number"===typeof a[2+i]&&(a[2+i]/=c),"number"===typeof a[3+i]&&(a[3+i]/=c),o(a)}},Ja={};const{schedule:Za,cancel:eo}=_t(queueMicrotask,!1);class to extends Wa.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;var a;a=ro,Object.assign(Ja,a),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(()=>{this.safeToRemove()})),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ga.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,a=n.projection;return a?(a.isPresent=s,r||e.layoutDependency!==t||void 0===t?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Ct.postRender((()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Za.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function no(e){const[t,n]=function(){const e=(0,Wa.useContext)(qa);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=(0,Wa.useId)();(0,Wa.useEffect)((()=>r(s)),[]);const a=(0,Wa.useCallback)((()=>n&&n(s)),[s,n]);return!t&&n?[!1,a]:[!0]}(),r=(0,Wa.useContext)(Ha);return(0,Ua.jsx)(to,{...e,layoutGroup:r,switchLayoutGroup:(0,Wa.useContext)(Ka),isPresent:t,safeToRemove:n})}const ro={borderRadius:{...Qa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qa,borderTopRightRadius:Qa,borderBottomLeftRadius:Qa,borderBottomRightRadius:Qa,boxShadow:Xa},so=["TopLeft","TopRight","BottomLeft","BottomRight"],ao=so.length,oo=e=>"string"===typeof e?parseFloat(e):e,io=e=>"number"===typeof e||un.test(e);function lo(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const uo=ho(0,.5,zt),co=ho(.5,.95,Tt);function ho(e,t,n){return r=>r<e?0:r>t?1:n(Dr(e,t,r))}function po(e,t){e.min=t.min,e.max=t.max}function fo(e,t){po(e.x,t.x),po(e.y,t.y)}function mo(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function go(e,t,n,r,s){return e=Ca(e-=t,1/n,r),void 0!==s&&(e=Ca(e,1/s,r)),e}function yo(e,t,n,r,s){let[a,o,i]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;ln.test(t)&&(t=parseFloat(t),t=Ir(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let i=Ir(a.min,a.max,r);e===a&&(i-=t),e.min=go(e.min,t,n,i,s),e.max=go(e.max,t,n,i,s)}(e,t[a],t[o],t[i],t.scale,r,s)}const vo=["x","scaleX","originX"],bo=["y","scaleY","originY"];function wo(e,t,n,r){yo(e.x,t,vo,n?n.x:void 0,r?r.x:void 0),yo(e.y,t,bo,n?n.y:void 0,r?r.y:void 0)}function xo(e){return 0===e.translate&&1===e.scale}function So(e){return xo(e.x)&&xo(e.y)}function ko(e,t){return e.min===t.min&&e.max===t.max}function Eo(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function To(e,t){return Eo(e.x,t.x)&&Eo(e.y,t.y)}function No(e){return ua(e.x)/ua(e.y)}function _o(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Co{constructor(){this.members=[]}add(e){ys(this.members,e),e.scheduleRender()}remove(e){if(vs(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ao=(e,t)=>e.depth-t.depth;class Oo{constructor(){this.children=[],this.isDirty=!1}add(e){ys(this.children,e),this.isDirty=!0}remove(e){vs(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ao),this.isDirty=!1,this.children.forEach(e)}}function Ro(e){const t=_s(e)?e.get():e;return n=t,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}function Po(e,t){const n=cr.now(),r=s=>{let{timestamp:a}=s;const o=a-n;o>=t&&(At(r),e(o-t))};return Ct.read(r,!0),()=>At(r)}const Do={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Io="undefined"!==typeof window&&void 0!==window.MotionDebug,Mo=["","X","Y","Z"],Lo={visibility:"hidden"};let Fo=0;function jo(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function $o(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Ns(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ct,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&$o(r)}function Bo(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:s,resetTransform:a}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Fo++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Io&&(Do.totalNodes=Do.resolvedTargetDeltas=Do.recalculatedProjection=0),this.nodes.forEach(Uo),this.nodes.forEach(Qo),this.nodes.forEach(Xo),this.nodes.forEach(Wo),Io&&window.MotionDebug.record(Do)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Oo)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new bs),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:s,layout:a,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(a||s)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=Po(r,250),Ga.hasAnimatedSinceResize&&(Ga.hasAnimatedSinceResize=!1,this.nodes.forEach(Yo))}))}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&o&&(s||a)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:s}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||o.getDefaultTransition()||ri,{onLayoutAnimationStart:i,onLayoutAnimationComplete:l}=o.getProps(),u=!this.targetLayout||!To(this.targetLayout,s)||r,c=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||c||n&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,c);const e={...bt(a,"layout"),onPlay:i,onComplete:l};(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||Yo(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,At(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Jo),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$o(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const e=this.path[s];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Ho);this.isUpdating||this.nodes.forEach(Ko),this.isUpdating=!1,this.nodes.forEach(Go),this.nodes.forEach(zo),this.nodes.forEach(Vo),this.clearAllSnapshots();const e=cr.now();Ot.delta=tn(0,1e3/60,e-Ot.timestamp),Ot.timestamp=e,Ot.isProcessing=!0,Rt.update.process(Ot),Rt.preRender.process(Ot),Rt.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Za.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qo),this.sharedNodes.forEach(Zo)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ct.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=s(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!So(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&(t||Ta(this.latestValues)||s)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),oi((r=n).x),oi(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(li))){const{scroll:e}=this.root;e&&(Ia(n.x,e.offset.x),Ia(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(fo(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:s,options:a}=t;t!==this.root&&s&&a.layoutScroll&&(s.wasRoot&&fo(n,e),Ia(n.x,s.offset.x),Ia(n.y,s.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};fo(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&La(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Ta(e.latestValues)&&La(n,e.latestValues)}return Ta(this.latestValues)&&La(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};fo(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Ta(e.latestValues))continue;Ea(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};fo(r,e.measurePageBox()),wo(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Ta(this.latestValues)&&wo(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:s,layoutId:a}=this.options;if(this.layout&&(s||a)){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},fa(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),fo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,i,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,i=this.relativeTarget,l=this.relativeParent.target,ha(o.x,i.x,l.x),ha(o.y,i.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):fo(this.target,this.layout.layoutBox),Ra(this.target,this.targetDelta)):fo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},fa(this.relativeTargetOrigin,this.target,e.target),fo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Io&&Do.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Ea(this.parent.latestValues)&&!Na(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(r=!1),r)return;const{layout:s,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!s&&!a)return;fo(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,i=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=n.length;if(!s)return;let a,o;t.x=t.y=1;for(let i=0;i<s;i++){a=n[i],o=a.projectionDelta;const{visualElement:s}=a.options;s&&s.props.style&&"contents"===s.props.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&La(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Ra(e,o)),r&&Ta(a.latestValues)&&La(e,a.latestValues))}t.x<Da&&t.x>Pa&&(t.x=1),t.y<Da&&t.y>Pa&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(mo(this.prevProjectionDelta.x,this.projectionDelta.x),mo(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),da(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===i&&_o(this.projectionDelta.x,this.prevProjectionDelta.x)&&_o(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Io&&Do.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},s={...this.latestValues},a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},i=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),u=!l||l.members.length<=1,c=Boolean(i&&!u&&!0===this.options.crossfade&&!this.path.some(ni));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,p,f,m,g;ei(a.x,e.x,n),ei(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fa(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,f=this.relativeTargetOrigin,m=o,g=n,ti(p.x,f.x,m.x,g),ti(p.y,f.y,m.y,g),d&&(l=this.relativeTarget,h=d,ko(l.x,h.x)&&ko(l.y,h.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),fo(d,this.relativeTarget)),i&&(this.animationValues=s,function(e,t,n,r,s,a){s?(e.opacity=Ir(0,void 0!==n.opacity?n.opacity:1,uo(r)),e.opacityExit=Ir(void 0!==t.opacity?t.opacity:1,0,co(r))):a&&(e.opacity=Ir(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let o=0;o<ao;o++){const s=`border${so[o]}Radius`;let a=lo(t,s),i=lo(n,s);void 0===a&&void 0===i||(a||(a=0),i||(i=0),0===a||0===i||io(a)===io(i)?(e[s]=Math.max(Ir(oo(a),oo(i),r),0),(ln.test(i)||ln.test(a))&&(e[s]+="%")):e[s]=i)}(t.rotate||n.rotate)&&(e.rotate=Ir(t.rotate||0,n.rotate||0,r))}(s,r,this.latestValues,n,c,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(At(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ct.update((()=>{Ga.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=_s(e)?e:Ss(e);return r.start(gs("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:s}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&ii(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=ua(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=ua(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}fo(t,n),La(t,s),da(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Co);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&jo("z",e,r,this.animationValues);for(let s=0;s<Mo.length;s++)jo(`rotate${Mo[s]}`,e,r,this.animationValues),jo(`skew${Mo[s]}`,e,r,this.animationValues);e.render();for(const s in r)e.setStaticValue(s,r[s]),this.animationValues&&(this.animationValues[s]=r[s]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Lo;const r={visibility:""},s=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Ro(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=s?s(this.latestValues,""):"none",r;const a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Ro(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Ta(this.latestValues)&&(t.transform=s?s({},""):"none",this.hasProjected=!1),t}const o=a.animationValues||a.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const s=e.x.translate/t.x,a=e.y.translate/t.y,o=(null===n||void 0===n?void 0:n.z)||0;if((s||a||o)&&(r=`translate3d(${s}px, ${a}px, ${o}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:s,rotateY:a,skewX:o,skewY:i}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),s&&(r+=`rotateX(${s}deg) `),a&&(r+=`rotateY(${a}deg) `),o&&(r+=`skewX(${o}deg) `),i&&(r+=`skewY(${i}deg) `)}const i=e.x.scale*t.x,l=e.y.scale*t.y;return 1===i&&1===l||(r+=`scale(${i}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,o),s&&(r.transform=s(o,r.transform));const{x:i,y:l}=this.projectionDelta;r.transformOrigin=`${100*i.origin}% ${100*l.origin}% 0`,a.animationValues?r.opacity=a===this?null!==(n=null!==(t=o.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:r.opacity=a===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const u in Ja){if(void 0===o[u])continue;const{correct:e,applyTo:t}=Ja[u],n="none"===r.transform?o[u]:e(o[u],a);if(t){const e=t.length;for(let s=0;s<e;s++)r[t[s]]=n}else r[u]=n}return this.options.layoutId&&(r.pointerEvents=a===this?Ro(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Ho),this.root.sharedNodes.clear()}}}function zo(e){e.updateLayout()}function Vo(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:s}=e.options,a=n.source!==e.layout.source;"size"===s?xa((e=>{const r=a?n.measuredBox[e]:n.layoutBox[e],s=ua(r);r.min=t[e].min,r.max=r.min+s})):ii(s,n.layoutBox,t)&&xa((r=>{const s=a?n.measuredBox[r]:n.layoutBox[r],o=ua(t[r]);s.max=s.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)}));const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};da(o,t,n.layoutBox);const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?da(i,e.applyTransform(r,!0),n.measuredBox):da(i,t,n.layoutBox);const l=!So(o);let u=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:s,layout:a}=r;if(s&&a){const o={x:{min:0,max:0},y:{min:0,max:0}};fa(o,n.layoutBox,s.layoutBox);const i={x:{min:0,max:0},y:{min:0,max:0}};fa(i,t,a.layoutBox),To(o,i)||(u=!0),r.options.layoutRoot&&(e.relativeTarget=i,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:i,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Uo(e){Io&&Do.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Wo(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function qo(e){e.clearSnapshot()}function Ho(e){e.clearMeasurements()}function Ko(e){e.isLayoutDirty=!1}function Go(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Yo(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Qo(e){e.resolveTargetDelta()}function Xo(e){e.calcProjection()}function Jo(e){e.resetSkewAndRotation()}function Zo(e){e.removeLeadSnapshot()}function ei(e,t,n){e.translate=Ir(t.translate,0,n),e.scale=Ir(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ti(e,t,n,r){e.min=Ir(t.min,n.min,r),e.max=Ir(t.max,n.max,r)}function ni(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const ri={duration:.45,ease:[.4,0,.1,1]},si=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ai=si("applewebkit/")&&!si("chrome/")?Math.round:Tt;function oi(e){e.min=ai(e.min),e.max=ai(e.max)}function ii(e,t,n){return"position"===e||"preserve-aspect"===e&&!function(e,t,n){return Math.abs(e-t)<=n}(No(t),No(n),.2)}function li(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const ui=Bo({attachResizeListener:(e,t)=>Ks(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ci={current:void 0},di=Bo({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ci.current){const e=new ui({});e.mount(window),e.setOptions({layoutScroll:!0}),ci.current=e}return ci.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),hi={pan:{Feature:class extends Vs{constructor(){super(...arguments),this.removePointerDownListener=Tt}onPointerDown(e){this.session=new Qs(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ja(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Va(e),onStart:Va(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Ct.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=Gs(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Vs{constructor(e){super(e),this.removeGroupControls=Tt,this.removeListeners=Tt,this.controls=new Ba(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tt}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:di,MeasureLayout:no}};function pi(e,t){const n=t?"pointerenter":"pointerleave",r=t?"onHoverStart":"onHoverEnd";return Gs(e.current,n,((n,s)=>{if("touch"===n.pointerType||ia())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t);const o=a[r];o&&Ct.postRender((()=>o(n,s)))}),{passive:!e.getProps()[r]})}const fi=(e,t)=>!!t&&(e===t||fi(e,t.parentElement));function mi(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Hs(n))}const gi=new WeakMap,yi=new WeakMap,vi=e=>{const t=gi.get(e.target);t&&t(e)},bi=e=>{e.forEach(vi)};function wi(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;yi.has(r)||yi.set(r,{});const s=yi.get(r),a=JSON.stringify(n);return s[a]||(s[a]=new IntersectionObserver(bi,{root:t,...n})),s[a]}(t);return gi.set(e,n),r.observe(e),()=>{gi.delete(e),r.unobserve(e)}}const xi={some:0,all:1};const Si={inView:{Feature:class extends Vs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:xi[r]};return wi(this.node.current,a,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,s&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Vs{constructor(){super(...arguments),this.removeStartListeners=Tt,this.removeEndListeners=Tt,this.removeAccessibleListeners=Tt,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=Gs(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:s}=this.node.getProps(),a=s||fi(this.node.current,e.target)?n:r;a&&Ct.update((()=>a(e,t)))}),{passive:!(n.onTap||n.onPointerUp)}),s=Gs(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Pr(r,s),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Ks(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Ks(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&mi("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&Ct.postRender((()=>n(e,t)))}))})),mi("down",((e,t)=>{this.startPress(e,t)}))})),t=Ks(this.node.current,"blur",(()=>{this.isPressing&&mi("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=Pr(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Ct.postRender((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ia()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Ct.postRender((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=Gs(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Ks(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Pr(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Vs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Qk){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pr(Ks(this.node.current,"focus",(()=>this.onFocus())),Ks(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Vs{mount(){this.unmount=Pr(pi(this.node,!0),pi(this.node,!1))}unmount(){}}}},ki={layout:{ProjectionNode:di,MeasureLayout:no}},Ei=(0,Wa.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ti=(0,Wa.createContext)({}),Ni="undefined"!==typeof window,_i=Ni?Wa.useLayoutEffect:Wa.useEffect,Ci=(0,Wa.createContext)({strict:!1});function Ai(e,t,n,r,s){var a,o;const{visualElement:i}=(0,Wa.useContext)(Ti),l=(0,Wa.useContext)(Ci),u=(0,Wa.useContext)(qa),c=(0,Wa.useContext)(Ei).reducedMotion,d=(0,Wa.useRef)();r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:i,props:n,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:c}));const h=d.current,p=(0,Wa.useContext)(Ka);!h||h.projection||!s||"html"!==h.type&&"svg"!==h.type||function(e,t,n,r){const{layoutId:s,layout:a,drag:o,dragConstraints:i,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Oi(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:Boolean(o)||i&&la(i),visualElement:e,animationType:"string"===typeof a?a:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}(d.current,n,s,p),(0,Wa.useInsertionEffect)((()=>{h&&h.update(n,u)}));const f=n[Ts],m=(0,Wa.useRef)(Boolean(f)&&!(null===(a=window.MotionHandoffIsComplete)||void 0===a?void 0:a.call(window,f))&&(null===(o=window.MotionHasOptimisedAnimation)||void 0===o?void 0:o.call(window,f)));return _i((()=>{h&&(window.MotionIsMounted=!0,h.updateFeatures(),Za.render(h.render),m.current&&h.animationState&&h.animationState.animateChanges())})),(0,Wa.useEffect)((()=>{h&&(!m.current&&h.animationState&&h.animationState.animateChanges(),m.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,f)})),m.current=!1))})),h}function Oi(e){if(e)return!1!==e.options.allowProjection?e.projection:Oi(e.parent)}function Ri(e,t,n){return(0,Wa.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):la(n)&&(n.current=r))}),[t])}function Pi(e){return nt(e.animate)||ct.some((t=>at(e[t])))}function Di(e){return Boolean(Pi(e)||e.variants)}function Ii(e){const{initial:t,animate:n}=function(e,t){if(Pi(e)){const{initial:t,animate:n}=e;return{initial:!1===t||at(t)?t:void 0,animate:at(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,Wa.useContext)(Ti));return(0,Wa.useMemo)((()=>({initial:t,animate:n})),[Mi(t),Mi(n)])}function Mi(e){return Array.isArray(e)?e.join(" "):e}const Li={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fi={};for(const n in Li)Fi[n]={isEnabled:e=>Li[n].some((t=>!!e[t]))};const ji=Symbol.for("motionComponentSymbol");function $i(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:s,Component:a}=e;t&&function(e){for(const t in e)Fi[t]={...Fi[t],...e[t]}}(t);const o=(0,Wa.forwardRef)((function(e,t){let o;const i={...(0,Wa.useContext)(Ei),...e,layoutId:Bi(e)},{isStatic:l}=i,u=Ii(e),c=s(e,l);if(!l&&Ni){!function(){(0,Wa.useContext)(Ci).strict;0}();const e=function(e){const{drag:t,layout:n}=Fi;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(i);o=e.MeasureLayout,u.visualElement=Ai(a,c,i,n,e.ProjectionNode)}return(0,Ua.jsxs)(Ti.Provider,{value:u,children:[o&&u.visualElement?(0,Ua.jsx)(o,{visualElement:u.visualElement,...i}):null,r(a,e,Ri(c,u.visualElement,t),c,l,u.visualElement)]})}));return o[ji]=a,o}function Bi(e){let{layoutId:t}=e;const n=(0,Wa.useContext)(Ha).id;return n&&void 0!==t?n+"-"+t:t}const zi=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vi(e){return"string"===typeof e&&!e.includes("-")&&!!(zi.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ui(e,t,n,r){let{style:s,vars:a}=t;Object.assign(e.style,s,r&&r.getProjectionStyles(n));for(const o in a)e.style.setProperty(o,a[o])}const Wi=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qi(e,t,n,r){Ui(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Wi.has(s)?s:Es(s),t.attrs[s])}function Hi(e,t){let{layout:n,layoutId:r}=t;return ht.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Ja[e]||"opacity"===e)}function Ki(e,t,n){var r;const{style:s}=e,a={};for(const o in s)(_s(s[o])||t.style&&_s(t.style[o])||Hi(o,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(o))||void 0===r?void 0:r.liveStyle))&&(a[o]=s[o]);return n&&s&&"string"===typeof s.willChange&&(n.applyWillChange=!1),a}function Gi(e,t,n){const r=Ki(e,t,n);for(const s in e)if(_s(e[s])||_s(t[s])){r[-1!==dt.indexOf(s)?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s]=e[s]}return r}function Yi(e){return ht.has(e)?"transform":ts.has(e)?Es(e):void 0}const Qi=e=>(t,n)=>{const r=(0,Wa.useContext)(Ti),s=(0,Wa.useContext)(qa),a=()=>function(e,t,n,r,s){let{applyWillChange:a=!1,scrapeMotionValuesFromProps:o,createRenderState:i,onMount:l}=e;const u={latestValues:Ji(t,n,r,!s&&a,o),renderState:i()};return l&&(u.mount=e=>l(t,e,u)),u}(e,t,r,s,n);return n?a():function(e){const t=(0,Wa.useRef)(null);return null===t.current&&(t.current=e()),t.current}(a)};function Xi(e,t,n){const r=Array.isArray(t)?t:[t];for(let s=0;s<r.length;s++){const t=it(e,r[s]);if(t){const{transitionEnd:e,transition:r,...s}=t;n(s,e)}}}function Ji(e,t,n,r,s){var a;const o={},i=new Set,l=r&&void 0===(null===(a=e.style)||void 0===a?void 0:a.willChange),u=s(e,{});for(const g in u)o[g]=Ro(u[g]);let{initial:c,animate:d}=e;const h=Pi(e),p=Di(e);t&&p&&!h&&!1!==e.inherit&&(void 0===c&&(c=t.initial),void 0===d&&(d=t.animate));let f=!!n&&!1===n.initial;f=f||!1===c;const m=f?d:c;return m&&"boolean"!==typeof m&&!nt(m)&&Xi(e,m,((e,t)=>{for(const n in e){let t=e[n];if(Array.isArray(t)){t=t[f?t.length-1:0]}null!==t&&(o[n]=t)}for(const n in t)o[n]=t[n]})),l&&(d&&!1!==c&&!nt(d)&&Xi(e,d,(e=>{for(const t in e){const e=Yi(t);e&&i.add(e)}})),i.size&&(o.willChange=Array.from(i).join(","))),o}const Zi=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),el=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),tl=(e,t)=>t&&"number"===typeof e?t.transform(e):e,nl={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rl=dt.length;function sl(e,t,n){const{style:r,vars:s,transformOrigin:a}=e;let o=!1,i=!1;for(const l in t){const e=t[l];if(ht.has(l))o=!0;else if(Yt(l))s[l]=e;else{const t=tl(e,tr[l]);l.startsWith("origin")?(i=!0,a[l]=t):r[l]=t}}if(t.transform||(o||n?r.transform=function(e,t,n){let r="",s=!0;for(let a=0;a<rl;a++){const o=dt[a],i=e[o];if(void 0===i)continue;let l=!0;if(l="number"===typeof i?i===(o.startsWith("scale")?1:0):0===parseFloat(i),!l||n){const e=tl(i,tr[o]);l||(s=!1,r+=`${nl[o]||o}(${e}) `),n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),i){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;r.transformOrigin=`${e} ${t} ${n}`}}function al(e,t,n){return"string"===typeof e?e:un.transform(t+n*e)}const ol={offset:"stroke-dashoffset",array:"stroke-dasharray"},il={offset:"strokeDashoffset",array:"strokeDasharray"};function ll(e,t,n,r){let{attrX:s,attrY:a,attrScale:o,originX:i,originY:l,pathLength:u,pathSpacing:c=1,pathOffset:d=0,...h}=t;if(sl(e,h,r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:f,dimensions:m}=e;p.transform&&(m&&(f.transform=p.transform),delete p.transform),m&&(void 0!==i||void 0!==l||f.transform)&&(f.transformOrigin=function(e,t,n){return`${al(t,e.x,e.width)} ${al(n,e.y,e.height)}`}(m,void 0!==i?i:.5,void 0!==l?l:.5)),void 0!==s&&(p.x=s),void 0!==a&&(p.y=a),void 0!==o&&(p.scale=o),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const a=s?ol:il;e[a.offset]=un.transform(-r);const o=un.transform(t),i=un.transform(n);e[a.array]=`${o} ${i}`}(p,u,c,d,!1)}const ul=e=>"string"===typeof e&&"svg"===e.toLowerCase(),cl={useVisualState:Qi({scrapeMotionValuesFromProps:Gi,createRenderState:el,onMount:(e,t,n)=>{let{renderState:r,latestValues:s}=n;Ct.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(Qk){r.dimensions={x:0,y:0,width:0,height:0}}})),Ct.render((()=>{ll(r,s,ul(t.tagName),e.transformTemplate),qi(t,r)}))}})},dl={useVisualState:Qi({applyWillChange:!0,scrapeMotionValuesFromProps:Ki,createRenderState:Zi})};function hl(e,t,n){for(const r in t)_s(t[r])||Hi(r,n)||(e[r]=t[r])}function pl(e,t){const n={};return hl(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,Wa.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return sl(e,t,n),Object.assign({},e.vars,e.style)}),[t])}(e,t)),n}function fl(e,t){const n={},r=pl(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const ml=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gl(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ml.has(e)}let yl=e=>!gl(e);try{(vl=require("@emotion/is-prop-valid").default)&&(yl=e=>e.startsWith("on")?!gl(e):vl(e))}catch(Xk){}var vl;function bl(e,t,n,r){const s=(0,Wa.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return ll(n,t,ul(r),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};hl(t,e.style,e),s.style={...t,...s.style}}return s}function wl(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,s,a)=>{let{latestValues:o}=s;const i=(Vi(t)?bl:fl)(n,o,a,t),l=function(e,t,n){const r={};for(const s in e)"values"===s&&"object"===typeof e.values||(yl(s)||!0===n&&gl(s)||!t&&!gl(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}(n,"string"===typeof t,e),u=t!==Wa.Fragment?{...l,...i,ref:r}:{},{children:c}=n,d=(0,Wa.useMemo)((()=>_s(c)?c.get():c),[c]);return(0,Wa.createElement)(t,{...u,children:d})}}function xl(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return $i({...Vi(n)?cl:dl,preloadedFeatures:e,useRender:wl(r),createVisualElement:t,Component:n})}}const Sl={current:null},kl={current:!1};const El=new WeakMap,Tl=[...xn,jn,Kn],Nl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _l{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o}=e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cn,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=cr.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Ct.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=Pi(n),this.isVariantNode=Di(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const e=d[h];void 0!==l[h]&&_s(e)&&e.set(l[h],!1)}}mount(e){this.current=e,El.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),kl.current||function(){if(kl.current=!0,Ni)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Sl.current=e.matches;e.addListener(t),t()}else Sl.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Sl.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){El.delete(this.current),this.projection&&this.projection.unmount(),At(this.notifyUpdate),At(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=ht.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Ct.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),s=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),s(),a&&a(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Fi){const t=Fi[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Nl.length;n++){const t=Nl[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const s=t[r],a=n[r];if(_s(s))e.addValue(r,s);else if(_s(a))e.addValue(r,Ss(s,{owner:e}));else if(a!==s)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(s):t.hasAnimated||t.set(s)}else{const t=e.getStaticValue(r);e.addValue(r,Ss(void 0!==t?t:s,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Ss(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var s;return void 0!==r&&null!==r&&("string"===typeof r&&(Kt(r)||Ut(r))?r=parseFloat(r):(s=r,!Tl.find(wn(s))&&Kn.test(t)&&(r=sr(e,t))),this.setBaseTarget(e,_s(r)?r.get():r)),_s(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const s=it(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);s&&(r=s[e])}if(n&&void 0!==r)return r;const s=this.getBaseTargetFromProps(this.props,e);return void 0===s||_s(s)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:s}on(e,t){return this.events[e]||(this.events[e]=new bs),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class Cl extends _l{constructor(){super(...arguments),this.KeyframeResolver=or}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}}class Al extends Cl{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=Ui}readValueFromInstance(e,t){if(ht.has(t)){const e=rr(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),s=(Yt(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof s?s.trim():s}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Fa(e,n)}build(e,t,n){sl(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Ki(e,t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;_s(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}class Ol extends Cl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wa}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ht.has(t)){const e=rr(t);return e&&e.default||0}return t=Wi.has(t)?t:Es(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Gi(e,t,n)}build(e,t,n){ll(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){qi(e,t,0,r)}mount(e){this.isSVGTag=ul(e.tagName),super.mount(e)}}const Rl=(e,t)=>Vi(e)?new Ol(t):new Al(t,{allowProjection:e!==Wa.Fragment}),Pl=tt(xl({...Ws,...Si,...hi,...ki},Rl));function Dl(e,t){return function(){return e.apply(t,arguments)}}const{toString:Il}=Object.prototype,{getPrototypeOf:Ml}=Object,Ll=(e=>t=>{const n=Il.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Fl=e=>(e=e.toLowerCase(),t=>Ll(t)===e),jl=e=>t=>typeof t===e,{isArray:$l}=Array,Bl=jl("undefined");const zl=Fl("ArrayBuffer");const Vl=jl("string"),Ul=jl("function"),Wl=jl("number"),ql=e=>null!==e&&"object"===typeof e,Hl=e=>{if("object"!==Ll(e))return!1;const t=Ml(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Kl=Fl("Date"),Gl=Fl("File"),Yl=Fl("Blob"),Ql=Fl("FileList"),Xl=Fl("URLSearchParams"),[Jl,Zl,eu,tu]=["ReadableStream","Request","Response","Headers"].map(Fl);function nu(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),$l(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=s?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let o;for(n=0;n<a;n++)o=r[n],t.call(null,e[o],o,e)}}function ru(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const su="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,au=e=>!Bl(e)&&e!==su;const ou=(iu="undefined"!==typeof Uint8Array&&Ml(Uint8Array),e=>iu&&e instanceof iu);var iu;const lu=Fl("HTMLFormElement"),uu=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),cu=Fl("RegExp"),du=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};nu(n,((n,s)=>{let a;!1!==(a=t(n,s,e))&&(r[s]=a||n)})),Object.defineProperties(e,r)},hu="abcdefghijklmnopqrstuvwxyz",pu="0123456789",fu={DIGIT:pu,ALPHA:hu,ALPHA_DIGIT:hu+hu.toUpperCase()+pu};const mu=Fl("AsyncFunction"),gu=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],su.addEventListener("message",(e=>{let{source:t,data:s}=e;t===su&&s===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),su.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Ul(su.postMessage)),yu="undefined"!==typeof queueMicrotask?queueMicrotask.bind(su):"undefined"!==typeof process&&process.nextTick||gu,vu={isArray:$l,isArrayBuffer:zl,isBuffer:function(e){return null!==e&&!Bl(e)&&null!==e.constructor&&!Bl(e.constructor)&&Ul(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ul(e.append)&&("formdata"===(t=Ll(e))||"object"===t&&Ul(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&zl(e.buffer),t},isString:Vl,isNumber:Wl,isBoolean:e=>!0===e||!1===e,isObject:ql,isPlainObject:Hl,isReadableStream:Jl,isRequest:Zl,isResponse:eu,isHeaders:tu,isUndefined:Bl,isDate:Kl,isFile:Gl,isBlob:Yl,isRegExp:cu,isFunction:Ul,isStream:e=>ql(e)&&Ul(e.pipe),isURLSearchParams:Xl,isTypedArray:ou,isFileList:Ql,forEach:nu,merge:function e(){const{caseless:t}=au(this)&&this||{},n={},r=(r,s)=>{const a=t&&ru(n,s)||s;Hl(n[a])&&Hl(r)?n[a]=e(n[a],r):Hl(r)?n[a]=e({},r):$l(r)?n[a]=r.slice():n[a]=r};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&nu(arguments[s],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return nu(t,((t,r)=>{n&&Ul(t)?e[r]=Dl(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,a,o;const i={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)o=s[a],r&&!r(o,e,t)||i[o]||(t[o]=e[o],i[o]=!0);e=!1!==n&&Ml(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Ll,kindOfTest:Fl,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if($l(e))return e;let t=e.length;if(!Wl(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:lu,hasOwnProperty:uu,hasOwnProp:uu,reduceDescriptors:du,freezeMethods:e=>{du(e,((t,n)=>{if(Ul(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Ul(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return $l(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ru,global:su,isContextDefined:au,ALPHABET:fu,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fu.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Ul(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(ql(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const s=$l(e)?[]:{};return nu(e,((e,t)=>{const a=n(e,r+1);!Bl(a)&&(s[t]=a)})),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:mu,isThenable:e=>e&&(ql(e)||Ul(e))&&Ul(e.then)&&Ul(e.catch),setImmediate:gu,asap:yu};function bu(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}vu.inherits(bu,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:vu.toJSONObject(this.config),code:this.code,status:this.status}}});const wu=bu.prototype,xu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{xu[e]={value:e}})),Object.defineProperties(bu,xu),Object.defineProperty(wu,"isAxiosError",{value:!0}),bu.from=(e,t,n,r,s,a)=>{const o=Object.create(wu);return vu.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),bu.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const Su=bu;function ku(e){return vu.isPlainObject(e)||vu.isArray(e)}function Eu(e){return vu.endsWith(e,"[]")?e.slice(0,-2):e}function Tu(e,t,n){return e?e.concat(t).map((function(e,t){return e=Eu(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Nu=vu.toFlatObject(vu,{},null,(function(e){return/^is[A-Z]/.test(e)}));const _u=function(e,t,n){if(!vu.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=vu.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!vu.isUndefined(t[e])}))).metaTokens,s=n.visitor||u,a=n.dots,o=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&vu.isSpecCompliantForm(t);if(!vu.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(vu.isDate(e))return e.toISOString();if(!i&&vu.isBlob(e))throw new Su("Blob is not supported. Use a Buffer instead.");return vu.isArrayBuffer(e)||vu.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,s){let i=e;if(e&&!s&&"object"===typeof e)if(vu.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(vu.isArray(e)&&function(e){return vu.isArray(e)&&!e.some(ku)}(e)||(vu.isFileList(e)||vu.endsWith(n,"[]"))&&(i=vu.toArray(e)))return n=Eu(n),i.forEach((function(e,r){!vu.isUndefined(e)&&null!==e&&t.append(!0===o?Tu([n],r,a):null===o?n:n+"[]",l(e))})),!1;return!!ku(e)||(t.append(Tu(s,n,a),l(e)),!1)}const c=[],d=Object.assign(Nu,{defaultVisitor:u,convertValue:l,isVisitable:ku});if(!vu.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!vu.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),vu.forEach(n,(function(n,a){!0===(!(vu.isUndefined(n)||null===n)&&s.call(t,n,vu.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])})),c.pop()}}(e),t};function Cu(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Au(e,t){this._pairs=[],e&&_u(e,this,t)}const Ou=Au.prototype;Ou.append=function(e,t){this._pairs.push([e,t])},Ou.toString=function(e){const t=e?function(t){return e.call(this,t,Cu)}:Cu;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Ru=Au;function Pu(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Du(e,t,n){if(!t)return e;const r=n&&n.encode||Pu,s=n&&n.serialize;let a;if(a=s?s(t,n):vu.isURLSearchParams(t)?t.toString():new Ru(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Iu=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){vu.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Mu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lu={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Ru,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Fu="undefined"!==typeof window&&"undefined"!==typeof document,ju="object"===typeof navigator&&navigator||void 0,$u=Fu&&(!ju||["ReactNative","NativeScript","NS"].indexOf(ju.product)<0),Bu="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,zu=Fu&&window.location.href||"http://localhost",Vu={...e,...Lu};const Uu=function(e){function t(e,n,r,s){let a=e[s++];if("__proto__"===a)return!0;const o=Number.isFinite(+a),i=s>=e.length;if(a=!a&&vu.isArray(r)?r.length:a,i)return vu.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o;r[a]&&vu.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],s)&&vu.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}(r[a])),!o}if(vu.isFormData(e)&&vu.isFunction(e.entries)){const n={};return vu.forEachEntry(e,((e,r)=>{t(function(e){return vu.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Wu={transitional:Mu,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=vu.isObject(e);s&&vu.isHTMLForm(e)&&(e=new FormData(e));if(vu.isFormData(e))return r?JSON.stringify(Uu(e)):e;if(vu.isArrayBuffer(e)||vu.isBuffer(e)||vu.isStream(e)||vu.isFile(e)||vu.isBlob(e)||vu.isReadableStream(e))return e;if(vu.isArrayBufferView(e))return e.buffer;if(vu.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return _u(e,new Vu.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Vu.isNode&&vu.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=vu.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return _u(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(vu.isString(e))try{return(t||JSON.parse)(e),vu.trim(e)}catch(Qk){if("SyntaxError"!==Qk.name)throw Qk}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Wu.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(vu.isResponse(e)||vu.isReadableStream(e))return e;if(e&&vu.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Qk){if(n){if("SyntaxError"===Qk.name)throw Su.from(Qk,Su.ERR_BAD_RESPONSE,this,null,this.response);throw Qk}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vu.classes.FormData,Blob:Vu.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};vu.forEach(["delete","get","head","post","put","patch"],(e=>{Wu.headers[e]={}}));const qu=Wu,Hu=vu.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ku=Symbol("internals");function Gu(e){return e&&String(e).trim().toLowerCase()}function Yu(e){return!1===e||null==e?e:vu.isArray(e)?e.map(Yu):String(e)}function Qu(e,t,n,r,s){return vu.isFunction(r)?r.call(this,t,n):(s&&(t=n),vu.isString(t)?vu.isString(r)?-1!==t.indexOf(r):vu.isRegExp(r)?r.test(t):void 0:void 0)}class Xu{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=Gu(t);if(!s)throw new Error("header name must be a non-empty string");const a=vu.findKey(r,s);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Yu(e))}const a=(e,t)=>vu.forEach(e,((e,n)=>s(e,n,t)));if(vu.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(vu.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&Hu[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(vu.isHeaders(e))for(const[o,i]of e.entries())s(i,o,n);else null!=e&&s(t,e,n);return this}get(e,t){if(e=Gu(e)){const n=vu.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(vu.isFunction(t))return t.call(this,e,n);if(vu.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Gu(e)){const n=vu.findKey(this,e);return!(!n||void 0===this[n]||t&&!Qu(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=Gu(e)){const s=vu.findKey(n,e);!s||t&&!Qu(0,n[s],s,t)||(delete n[s],r=!0)}}return vu.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!Qu(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return vu.forEach(this,((r,s)=>{const a=vu.findKey(n,s);if(a)return t[a]=Yu(r),void delete t[s];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(s):String(s).trim();o!==s&&delete t[s],t[o]=Yu(r),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return vu.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&vu.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Ku]=this[Ku]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Gu(e);t[r]||(!function(e,t){const n=vu.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})}))}(n,e),t[r]=!0)}return vu.isArray(e)?e.forEach(r):r(e),this}}Xu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),vu.reduceDescriptors(Xu.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),vu.freezeMethods(Xu);const Ju=Xu;function Zu(e,t){const n=this||qu,r=t||n,s=Ju.from(r.headers);let a=r.data;return vu.forEach(e,(function(e){a=e.call(n,a,s.normalize(),t?t.status:void 0)})),s.normalize(),a}function ec(e){return!(!e||!e.__CANCEL__)}function tc(e,t,n){Su.call(this,null==e?"canceled":e,Su.ERR_CANCELED,t,n),this.name="CanceledError"}vu.inherits(tc,Su,{__CANCEL__:!0});const nc=tc;function rc(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Su("Request failed with status code "+n.status,[Su.ERR_BAD_REQUEST,Su.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const sc=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,a=0,o=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),u=r[o];s||(s=l),n[a]=i,r[a]=l;let c=o,d=0;for(;c!==a;)d+=n[c++],c%=e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),l-s<t)return;const h=u&&l-u;return h?Math.round(1e3*d/h):void 0}};const ac=function(e,t){let n,r,s=0,a=1e3/t;const o=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=a,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-s;for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];t>=a?o(l,e):(n=l,r||(r=setTimeout((()=>{r=null,o(n)}),a-t)))},()=>n&&o(n)]},oc=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=sc(50,250);return ac((n=>{const a=n.loaded,o=n.lengthComputable?n.total:void 0,i=a-r,l=s(i);r=a;e({loaded:a,total:o,progress:o?a/o:void 0,bytes:i,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})}),n)},ic=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},lc=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vu.asap((()=>e(...n)))},uc=Vu.hasStandardBrowserEnv?function(){const e=Vu.navigator&&/(msie|trident)/i.test(Vu.navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=vu.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},cc=Vu.hasStandardBrowserEnv?{write(e,t,n,r,s,a){const o=[e+"="+encodeURIComponent(t)];vu.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),vu.isString(r)&&o.push("path="+r),vu.isString(s)&&o.push("domain="+s),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function dc(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const hc=e=>e instanceof Ju?{...e}:e;function pc(e,t){t=t||{};const n={};function r(e,t,n){return vu.isPlainObject(e)&&vu.isPlainObject(t)?vu.merge.call({caseless:n},e,t):vu.isPlainObject(t)?vu.merge({},t):vu.isArray(t)?t.slice():t}function s(e,t,n){return vu.isUndefined(t)?vu.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!vu.isUndefined(t))return r(void 0,t)}function o(e,t){return vu.isUndefined(t)?vu.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function i(n,s,a){return a in t?r(n,s):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(e,t)=>s(hc(e),hc(t),!0)};return vu.forEach(Object.keys(Object.assign({},e,t)),(function(r){const a=l[r]||s,o=a(e[r],t[r],r);vu.isUndefined(o)&&a!==i||(n[r]=o)})),n}const fc=e=>{const t=pc({},e);let n,{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=t;if(t.headers=i=Ju.from(i),t.url=Du(dc(t.baseURL,t.url),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),vu.isFormData(r))if(Vu.hasStandardBrowserEnv||Vu.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(n=i.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(Vu.hasStandardBrowserEnv&&(s&&vu.isFunction(s)&&(s=s(t)),s||!1!==s&&uc(t.url))){const e=a&&o&&cc.read(o);e&&i.set(a,e)}return t},mc="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=fc(e);let s=r.data;const a=Ju.from(r.headers).normalize();let o,i,l,u,c,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=r;function f(){u&&u(),c&&c(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Ju.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());rc((function(e){t(e),f()}),(function(e){n(e),f()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new Su("Request aborted",Su.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Su("Network Error",Su.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||Mu;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Su(t,s.clarifyTimeoutError?Su.ETIMEDOUT:Su.ECONNABORTED,e,m)),m=null},void 0===s&&a.setContentType(null),"setRequestHeader"in m&&vu.forEach(a.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),vu.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),p&&([l,c]=oc(p,!0),m.addEventListener("progress",l)),h&&m.upload&&([i,u]=oc(h),m.upload.addEventListener("progress",i),m.upload.addEventListener("loadend",u)),(r.cancelToken||r.signal)&&(o=t=>{m&&(n(!t||t.type?new nc(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===Vu.protocols.indexOf(y)?n(new Su("Unsupported protocol "+y+":",Su.ERR_BAD_REQUEST,e)):m.send(s||null)}))},gc=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Su?t:new nc(t instanceof Error?t.message:t))}};let a=t&&setTimeout((()=>{a=null,s(new Su(`timeout ${t} of ms exceeded`,Su.ETIMEDOUT))}),t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((e=>e.addEventListener("abort",s)));const{signal:i}=r;return i.unsubscribe=()=>vu.asap(o),i}},yc=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},vc=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},bc=(e,t,n,r)=>{const s=async function*(e,t){for await(const n of vc(e))yield*yc(n,t)}(e,t);let a,o=0,i=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return i(),void e.close();let a=r.byteLength;if(n){let e=o+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw i(t),t}},cancel:e=>(i(e),s.return())},{highWaterMark:2})},wc="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,xc=wc&&"function"===typeof ReadableStream,Sc=wc&&("function"===typeof TextEncoder?(kc=new TextEncoder,e=>kc.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var kc;const Ec=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Qk){return!1}},Tc=xc&&Ec((()=>{let e=!1;const t=new Request(Vu.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Nc=xc&&Ec((()=>vu.isReadableStream(new Response("").body))),_c={stream:Nc&&(e=>e.body)};var Cc;wc&&(Cc=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!_c[e]&&(_c[e]=vu.isFunction(Cc[e])?t=>t[e]():(t,n)=>{throw new Su(`Response type '${e}' is not supported`,Su.ERR_NOT_SUPPORT,n)})})));const Ac=async(e,t)=>{const n=vu.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(vu.isBlob(e))return e.size;if(vu.isSpecCompliantForm(e)){const t=new Request(Vu.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return vu.isArrayBufferView(e)||vu.isArrayBuffer(e)?e.byteLength:(vu.isURLSearchParams(e)&&(e+=""),vu.isString(e)?(await Sc(e)).byteLength:void 0)})(t):n},Oc=wc&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:a,timeout:o,onDownloadProgress:i,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:h}=fc(e);u=u?(u+"").toLowerCase():"text";let p,f=gc([s,a&&a.toAbortSignal()],o);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(l&&Tc&&"get"!==n&&"head"!==n&&0!==(g=await Ac(c,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(vu.isFormData(r)&&(e=n.headers.get("content-type"))&&c.setContentType(e),n.body){const[e,t]=ic(g,oc(lc(l)));r=bc(n.body,65536,e,t)}}vu.isString(d)||(d=d?"include":"omit");const s="credentials"in Request.prototype;p=new Request(t,{...h,signal:f,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:s?d:void 0});let a=await fetch(p);const o=Nc&&("stream"===u||"response"===u);if(Nc&&(i||o&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=a[t]}));const t=vu.toFiniteNumber(a.headers.get("content-length")),[n,r]=i&&ic(t,oc(lc(i),!0))||[];a=new Response(bc(a.body,65536,n,(()=>{r&&r(),m&&m()})),e)}u=u||"text";let y=await _c[vu.findKey(_c,u)||"text"](a,e);return!o&&m&&m(),await new Promise(((t,n)=>{rc(t,n,{data:y,headers:Ju.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:p})}))}catch(y){if(m&&m(),y&&"TypeError"===y.name&&/fetch/i.test(y.message))throw Object.assign(new Su("Network Error",Su.ERR_NETWORK,e,p),{cause:y.cause||y});throw Su.from(y,y&&y.code,e,p)}}),Rc={http:null,xhr:mc,fetch:Oc};vu.forEach(Rc,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Qk){}Object.defineProperty(e,"adapterName",{value:t})}}));const Pc=e=>`- ${e}`,Dc=e=>vu.isFunction(e)||null===e||!1===e,Ic=e=>{e=vu.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!Dc(n)&&(r=Rc[(t=String(n)).toLowerCase()],void 0===r))throw new Su(`Unknown adapter '${t}'`);if(r)break;s[t||"#"+a]=r}if(!r){const e=Object.entries(s).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Pc).join("\n"):" "+Pc(e[0]):"as no adapter specified";throw new Su("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Mc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new nc(null,e)}function Lc(e){Mc(e),e.headers=Ju.from(e.headers),e.data=Zu.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ic(e.adapter||qu.adapter)(e).then((function(t){return Mc(e),t.data=Zu.call(e,e.transformResponse,t),t.headers=Ju.from(t.headers),t}),(function(t){return ec(t)||(Mc(e),t&&t.response&&(t.response.data=Zu.call(e,e.transformResponse,t.response),t.response.headers=Ju.from(t.response.headers))),Promise.reject(t)}))}const Fc="1.7.7",jc={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{jc[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const $c={};jc.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.7] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,a)=>{if(!1===e)throw new Su(r(s," has been removed"+(t?" in "+t:"")),Su.ERR_DEPRECATED);return t&&!$c[s]&&($c[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,a)}};const Bc={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Su("options must be an object",Su.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],o=t[a];if(o){const t=e[a],n=void 0===t||o(t,a,e);if(!0!==n)throw new Su("option "+a+" must be "+n,Su.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Su("Unknown option "+a,Su.ERR_BAD_OPTION)}},validators:jc},zc=Bc.validators;class Vc{constructor(e){this.defaults=e,this.interceptors={request:new Iu,response:new Iu}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Qk){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=pc(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&Bc.assertOptions(n,{silentJSONParsing:zc.transitional(zc.boolean),forcedJSONParsing:zc.transitional(zc.boolean),clarifyTimeoutError:zc.transitional(zc.boolean)},!1),null!=r&&(vu.isFunction(r)?t.paramsSerializer={serialize:r}:Bc.assertOptions(r,{encode:zc.function,serialize:zc.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&vu.merge(s.common,s[t.method]);s&&vu.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=Ju.concat(a,s);const o=[];let i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let u;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let c,d=0;if(!i){const e=[Lc.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),c=e.length,u=Promise.resolve(t);d<c;)u=u.then(e[d++],e[d++]);return u}c=o.length;let h=t;for(d=0;d<c;){const e=o[d++],t=o[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{u=Lc.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,c=l.length;d<c;)u=u.then(l[d++],l[d++]);return u}getUri(e){return Du(dc((e=pc(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}vu.forEach(["delete","get","head","options"],(function(e){Vc.prototype[e]=function(t,n){return this.request(pc(n||{},{method:e,url:t,data:(n||{}).data}))}})),vu.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,s){return this.request(pc(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Vc.prototype[e]=t(),Vc.prototype[e+"Form"]=t(!0)}));const Uc=Vc;class Wc{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,s){n.reason||(n.reason=new nc(e,r,s),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Wc((function(t){e=t})),cancel:e}}}const qc=Wc;const Hc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hc).forEach((e=>{let[t,n]=e;Hc[n]=t}));const Kc=Hc;const Gc=function e(t){const n=new Uc(t),r=Dl(Uc.prototype.request,n);return vu.extend(r,Uc.prototype,n,{allOwnKeys:!0}),vu.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(pc(t,n))},r}(qu);Gc.Axios=Uc,Gc.CanceledError=nc,Gc.CancelToken=qc,Gc.isCancel=ec,Gc.VERSION=Fc,Gc.toFormData=_u,Gc.AxiosError=Su,Gc.Cancel=Gc.CanceledError,Gc.all=function(e){return Promise.all(e)},Gc.spread=function(e){return function(t){return e.apply(null,t)}},Gc.isAxiosError=function(e){return vu.isObject(e)&&!0===e.isAxiosError},Gc.mergeConfig=pc,Gc.AxiosHeaders=Ju,Gc.formToJSON=e=>Uu(vu.isHTMLForm(e)?new FormData(e):e),Gc.getAdapter=Ic,Gc.HttpStatusCode=Kc,Gc.default=Gc;const Yc=Gc;var Qc={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Xc=T.createContext&&T.createContext(Qc),Jc=["attr","size","title"];function Zc(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ed.apply(this,arguments)}function td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?td(Object(n),!0).forEach((function(t){rd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):td(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rd(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sd(e){return e&&e.map(((e,t)=>T.createElement(e.tag,nd({key:t},e.attr),sd(e.child))))}function ad(e){return t=>T.createElement(od,ed({attr:nd({},e.attr)},t),sd(e.child))}function od(e){var t=t=>{var n,{attr:r,size:s,title:a}=e,o=Zc(e,Jc),i=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),T.createElement("svg",ed({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:nd(nd({color:e.color||t.color},t.style),e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),a&&T.createElement("title",null,a),e.children)};return void 0!==Xc?T.createElement(Xc.Consumer,null,(e=>t(e))):t(Qc)}function id(e){return ad({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(e)}var ld=n(984);function ud(){const e=_e();(0,T.useEffect)((()=>{const t=function(e){var t;const n=`; ${document.cookie}`,r=n.split(`; ${e}=`);if(2===r.length)return null===(t=r.pop())||void 0===t?void 0:t.split(";").shift()}("token");t&&"undefined"!==t&&e("/")}),[e]);const t=function(e){let{flow:t="implicit",scope:n="",onSuccess:r,onError:s,onNonOAuthError:a,overrideScope:o,state:i,...l}=e;const{clientId:u,scriptLoadedSuccessfully:c}=O(),d=(0,T.useRef)(),h=(0,T.useRef)(r);h.current=r;const p=(0,T.useRef)(s);p.current=s;const f=(0,T.useRef)(a);f.current=a,(0,T.useEffect)((()=>{var e,r;if(!c)return;const s="implicit"===t?"initTokenClient":"initCodeClient",a=null===(r=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===r?void 0:r.oauth2[s]({client_id:u,scope:o?n:`openid profile email ${n}`,callback:e=>{var t,n;if(e.error)return null===(t=p.current)||void 0===t?void 0:t.call(p,e);null===(n=h.current)||void 0===n||n.call(h,e)},error_callback:e=>{var t;null===(t=f.current)||void 0===t||t.call(f,e)},state:i,...l});d.current=a}),[u,c,t,n,i]);const m=(0,T.useCallback)((e=>{var t;return null===(t=d.current)||void 0===t?void 0:t.requestAccessToken(e)}),[]),g=(0,T.useCallback)((()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.requestCode()}),[]);return"implicit"===t?m:g}({onSuccess:async t=>{let{code:n}=t;try{const{data:t}=await Yc.post(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"520788253939-rmb3tskj5fhq36htjdnbvelkdh0f2gj0.apps.googleusercontent.com"}.REACT_APP_SERVER_URL}/auth/google`,{code:n},{withCredentials:!0}),{success:r,message:s,token:a}=t;!function(e,t,n){let r="";if(n){const e=new Date;e.setTime(e.getTime()+24*n*60*60*1e3),r="; expires="+e.toUTCString()}document.cookie=e+"="+(t||"")+r+"; path=/"}("token",a,7),r?(console.log("Success"),setTimeout((()=>{e("/")}),1e3)):console.error(s)}catch(r){console.log(r)}},flow:"auth-code"});return(0,ld.jsxs)("div",{className:"relative w-screen h-screen overflow-hidden ",children:[(0,ld.jsxs)("section",{className:"relative inset-0 z-[-1] flex justify-between px-20",children:[(0,ld.jsxs)("div",{className:"relative z-[-1] flex justify-between w-full ",children:[(0,ld.jsxs)(cd,{direction:"vertical-down",speed:40,children:[" ",(0,ld.jsx)(hd,{items:[["soham daga","/d.jpg","technical director"],["soham daga","/d.jpg","technical director"],["soham daga","/d.jpg","technical director"]],className:"",imageClass:"mix-blend-multiply max-h-96 w-full"})]}),(0,ld.jsxs)(cd,{direction:"vertical-up",speed:45,children:[" ",(0,ld.jsx)(hd,{items:[["john doe","/d.jpg","creative lead"],["soham daga","/d.jpg","technical director"],["soham daga","/d.jpg","technical director"],["soham daga","/d.jpg","technical director"]],className:"",imageClass:"mix-blend-multiply max-h-96 w-full"})]}),(0,ld.jsxs)(cd,{direction:"vertical-down",speed:50,children:[" ",(0,ld.jsx)(hd,{items:[["jane smith","/d.jpg","project manager"],["soham daga","/d.jpg","technical director"],["soham daga","/d.jpg","technical director"],["soham daga","/d.jpg","technical director"]],className:"",imageClass:"mix-blend-multiply max-h-96 w-full"})]})]}),(0,ld.jsx)("div",{className:"absolute w-screen h-screen inset-0 bg-black opacity-50  z-10"})]}),(0,ld.jsx)("section",{className:"absolute inset-0 z-[100] flex flex-col justify-center items-center bg-transparent",children:(0,ld.jsxs)("div",{className:"text-left text-8xl leading-tight mb-10",children:[(0,ld.jsxs)("h1",{className:"font-bold text-black stroke-white font-outline-2 mb-2",children:[(0,ld.jsxs)("span",{className:"ml-[.5rem] text-orange-400 font-outline-0",children:["r"," "]}),"etrieval"]}),(0,ld.jsxs)("h1",{className:"font-bold text-black stroke-white font-outline-2 mb-2",children:[(0,ld.jsx)("span",{className:"text-orange-400 font-outline-0",children:"a "}),"ugmented"]}),(0,ld.jsxs)("h1",{className:"font-bold text-black stroke-white font-outline-2 mb-2",children:[(0,ld.jsx)("span",{className:"text-orange-400 font-outline-0",children:"s "}),"earch"]}),(0,ld.jsxs)("h1",{className:"font-bold text-black stroke-white font-outline-2",children:[(0,ld.jsx)("span",{className:"ml-[-9.5rem] text-black stroke-white",children:"for "})," ",(0,ld.jsx)("span",{className:"text-orange-400 font-outline-0",children:"p "}),"eople"]}),(0,ld.jsx)("div",{className:"flex justify-center mt-8",children:(0,ld.jsxs)("button",{onClick:()=>t(),className:"text-neutral-950 flex gap-2 justify-center items-center p-4 rounded-md border shadow-lg font-medium text-lg transition-all duration-200 bg-white",children:[(0,ld.jsx)(id,{className:"w-5 h-5"}),"Google"]})})]})})]})}const cd=e=>{let{direction:t,children:n,speed:r=30}=e;const s=t.startsWith("vertical"),a=t.endsWith("up")||t.endsWith("left")?-1:1;return(0,ld.jsx)("div",{className:"overflow-hidden h-full w-ful flex flex-row justify-center align-middle items-center",children:(0,ld.jsxs)(Pl.div,{className:`flex ${s?"flex-col":""} gap-4 w-64`,animate:{x:s?0:-50*a+"%",y:s?-50*a+"%":0},transition:{repeat:1/0,repeatType:"loop",duration:r,ease:"linear"},children:[n,n,n]})})},dd=e=>{let{children:t}=e;return(0,ld.jsx)("mark",{className:"bg-gradient-to-r from-orange-500 to-orange-300 text-transparent bg-clip-text",children:t})},hd=e=>{let{items:t,className:n,imageClass:r}=e;return(0,ld.jsx)(ld.Fragment,{children:t.map(((e,t)=>(0,ld.jsxs)("div",{className:`w-64 border border-dashed border-gray-700 flex flex-col justify-between shrink-0 overflow-hidden ${n}`,children:[(0,ld.jsx)("div",{className:"bg-gradient-to-br from-orange-500/50 to-orange-600/80 h-full",children:(0,ld.jsx)("img",{src:e[1],alt:e[0],className:`object-cover h-full ${r}`})}),(0,ld.jsxs)("div",{className:"border border-dashed border-gray-700 px-5 py-4 text-center flex justify-center items-center gap-2",children:[(0,ld.jsx)("p",{className:"text-base font-semibold leading-tight text-white",children:e[0]}),3===e.length&&(0,ld.jsx)("p",{className:"text-base font-semibold leading-tight",children:(0,ld.jsxs)(dd,{children:["(",e[2],")"]})})]})]},t)))})};const pd=function(e){console.log(document.cookie);const t=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""},fd=e=>{let t;const n=new Set,r=(e,r)=>{const s="function"===typeof e?e(t):e;if(!Object.is(s,t)){const e=t;t=(null!=r?r:"object"!==typeof s||null===s)?s:Object.assign({},t,s),n.forEach((n=>n(t,e)))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(r,s,a);return a},md=e=>e;const gd=e=>{const t=(e=>e?fd(e):fd)(e),n=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:md;const n=T.useSyncExternalStore(e.subscribe,(()=>t(e.getState())),(()=>t(e.getInitialState())));return T.useDebugValue(n),n}(t,e);return Object.assign(n,t),n},yd=e=>e?gd(e):gd,vd=yd((e=>({user:null,setUser:t=>e({user:t}),status:{content:"",duration:""},setStatus:t=>e({status:t}),isUpdatingStatus:!1,isUpdatingProfile:!1,fetchUserStatus:async t=>{try{const n=await Yc.get(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"520788253939-rmb3tskj5fhq36htjdnbvelkdh0f2gj0.apps.googleusercontent.com"}.REACT_APP_SERVER_URL}/user/status/${t}`);e({status:n.data})}catch(n){console.error("Error fetching user status:",n)}},updateUserStatus:async(t,n,r)=>{e({isUpdatingStatus:!0});try{await Yc.patch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"520788253939-rmb3tskj5fhq36htjdnbvelkdh0f2gj0.apps.googleusercontent.com"}.REACT_APP_SERVER_URL}/user/status`,{status:n,duration:r,userId:t}),e({status:{content:n,duration:r},isUpdatingStatus:!1})}catch(a){var s;if(e({isUpdatingStatus:!1}),Yc.isAxiosError(a)&&429===(null===(s=a.response)||void 0===s?void 0:s.status)){const e=a.response.data.remainingCooldown;console.error(`Status update on cooldown. Please wait ${Math.ceil(e/1e3)} seconds.`)}else console.error("Error updating user status:",a);throw a}},updateUserProfile:async t=>{e({isUpdatingProfile:!0});try{await Yc.post(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"520788253939-rmb3tskj5fhq36htjdnbvelkdh0f2gj0.apps.googleusercontent.com"}.REACT_APP_SERVER_URL}/user/save`,{user:t}),e({user:t,isUpdatingProfile:!1})}catch(r){var n;if(e({isUpdatingProfile:!1}),Yc.isAxiosError(r)&&429===(null===(n=r.response)||void 0===n?void 0:n.status)){const e=r.response.data.remainingCooldown;console.error(`Profile update on cooldown. Please wait ${Math.ceil(e/1e3)} seconds.`)}else console.error("Error updating user profile:",r);throw r}}}))),bd=e=>{let{label:t,name:n,placeholder:r,value:s,setValue:a,maxLength:o}=e;return(0,ld.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[t?(0,ld.jsx)("label",{htmlFor:n,className:"text-white",children:t}):(0,ld.jsx)(ld.Fragment,{}),(0,ld.jsx)("input",{type:"text",autoComplete:"off",id:n,name:n,placeholder:r,value:s,onChange:e=>{a(e.target.value)},maxLength:o,className:"bg-neutral-800 p-3 text-neutral-200 rounded-md"})]})},wd=e=>{let{label:t,name:n,placeholder:r,items:s,setItems:a,maxLength:o,maxItems:i}=e;const[l,u]=(0,T.useState)(""),c=()=>{if(!l.trim()||s.includes(l))return u("");i&&s.length>=i||(a([...s,l]),u(""))};return(0,ld.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,ld.jsx)("label",{htmlFor:n,className:"text-white",children:t}),(0,ld.jsxs)("div",{className:"bg-neutral-800 px-5 py-3 text-neutral-200 flex flex-wrap gap-2 rounded-md",children:[s?s.map(((e,t)=>(0,ld.jsx)("span",{className:"text-neutral-300 px-2 py-1 text-sm rounded-md bg-neutral-700 cursor-pointer hover:bg-red-500 hover:line-through",onClick:()=>{a(s.filter(((e,n)=>n!==t)))},children:e},t))):(0,ld.jsx)(ld.Fragment,{}),(!i||s.length<i)&&(0,ld.jsx)("input",{type:"text",autoComplete:"off",id:n,name:n,placeholder:s.length?"...":r,value:l,className:"text-neutral-200 outline-none bg-neutral-800 flex-grow",onChange:e=>{const t=e.target.value;(void 0===o||t.length<=o)&&u(t)},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),c())},maxLength:o}),(!i||s.length<i)&&(0,ld.jsx)("button",{onClick:c,className:"text-xl place-self-end",children:"+"})]}),i&&(0,ld.jsxs)("p",{className:"text-sm text-gray-400",children:[s.length,"/",i," items"]})]})},xd=e=>{let{label:t,name:n,options:r,value:s,setValue:a}=e;return(0,ld.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,ld.jsx)("label",{htmlFor:n,className:"text-white",children:t}),(0,ld.jsxs)("select",{value:s,onChange:e=>a(e.target.value),id:n,name:n,className:"bg-neutral-800 p-3 text-neutral-200 rounded-md",children:[(0,ld.jsx)("option",{value:"",className:"bg-neutral-900 text-gray-400",children:"-- select --"}),r.map(((e,t)=>(0,ld.jsx)("option",{value:e,className:"bg-neutral-900",children:e},t)))]})]})},Sd=e=>{let{label:t,name:n,placeholder:r,value:s,setValue:a,maxLength:o}=e;return(0,ld.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,ld.jsx)("label",{htmlFor:n,className:"text-white",children:t}),(0,ld.jsx)("textarea",{autoComplete:"off",id:n,name:n,placeholder:r,value:s,onChange:e=>{const t=e.target.value;(void 0===o||t.length<=o)&&a(t)},maxLength:o,className:"bg-neutral-800 p-3 text-neutral-200 h-32 resize-none rounded-md"})]})},kd=e=>{let{onClick:t}=e;return(0,ld.jsx)("button",{type:"submit",onClick:t,className:"bg-white px-4 py-2 text-lg text-black rounded-md font-semibold",children:"submit"})},Ed=e=>{let{children:t}=e;return(0,ld.jsx)("h2",{className:"xl:text-6xl md:text-5xl text-4xl font-extrabold text-white",children:t})},Td=e=>{let{user:t}=e;return(0,ld.jsxs)("div",{className:"w-[500px] border border-gray-600 sticky top-10 right-0",children:[(0,ld.jsx)("div",{className:"bg-gradient-to-br from-orange-300/100 to-orange-400/100",children:(0,ld.jsx)("img",{src:t.photo,alt:t.name,className:"w-full aspect-video object-cover border border-gray-600 mix-blend-multiply"})}),(0,ld.jsxs)("div",{className:"flex flex-col",children:[(0,ld.jsxs)("div",{className:"flex flex-col gap-1 border border-gray-600 px-3 py-4",children:[(0,ld.jsxs)("h2",{className:"text-lg font-semibold flex gap-2 items-center",children:[t.name," ",(0,ld.jsxs)("span",{className:"text-base font-normal text-neutral-400",children:[t.about.gender?t.about.gender+" |":""," ",t.about.campus?t.about.campus+" campus":""]})]}),(0,ld.jsxs)("p",{className:"text-neutral-400",children:["- ",t.about.major?t.about.major+" |":""," ",t.about.standing?t.about.standing+" |":""," ",(0,ld.jsx)("a",{href:`mailto:${t.email}`,className:"underline",children:t.email})]})]}),(0,ld.jsxs)("div",{className:"flex flex-col gap-1 border border-gray-600 px-3 py-4",children:[(0,ld.jsx)("h2",{className:"text-lg font-semibold flex gap-2 items-center",children:"about"}),(0,ld.jsx)("p",{children:t.about.bio})]}),(0,ld.jsxs)("div",{className:"px-3 py-4 flex flex-col gap-2 border border-gray-600",children:[(0,ld.jsx)("h2",{className:"text-lg font-semibold flex gap-2 items-center",children:"skills"}),(0,ld.jsx)("div",{className:"text-neutral-200 flex flex-wrap gap-2",children:t.about.skills.map(((e,t)=>(0,ld.jsx)("span",{className:"text-neutral-300 px-2 py-1 text-sm rounded-md bg-neutral-700",children:e},t)))})]}),(0,ld.jsxs)("div",{className:"px-3 py-4 flex flex-col gap-2 border border-gray-600",children:[(0,ld.jsx)("h2",{className:"text-lg font-semibold flex gap-2 items-center",children:"hobbies"}),(0,ld.jsx)("div",{className:"text-neutral-200 flex flex-wrap gap-2",children:t.about.hobbies.map(((e,t)=>(0,ld.jsx)("span",{className:"text-neutral-300 px-2 py-1 text-sm rounded-md bg-neutral-700",children:e},t)))})]}),(0,ld.jsxs)("div",{className:"px-3 py-4 flex flex-col gap-2 border border-gray-600",children:[(0,ld.jsx)("h2",{className:"text-lg font-semibold flex gap-2 items-center",children:"socials"}),(0,ld.jsx)("div",{className:"text-neutral-200 flex flex-wrap gap-2",children:t.about.socials.map(((e,t)=>(0,ld.jsx)("a",{href:e,className:"text-neutral-300 px-2 py-1 text-sm rounded-md bg-neutral-700",children:e.startsWith("http")?e.split("/")[2].split(".")[0]:""},t)))})]}),(0,ld.jsx)("p",{})]})]})},Nd=e=>{let{label:t,name:n,setPhoto:r}=e;return(0,ld.jsx)("div",{children:(0,ld.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,ld.jsx)("label",{htmlFor:n,className:"text-white",children:t}),(0,ld.jsx)("input",{type:"file",accept:"photo/*",onChange:e=>{const t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=async()=>{const e=await function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.7;return new Promise(((a,o)=>{const i=new Image;i.src=e,i.onload=()=>{let e=i.width,o=i.height;e>n&&(o*=n/e,e=n),o>r&&(e*=r/o,o=r);const l=document.createElement("canvas"),u=l.getContext("2d");l.width=e,l.height=o,null===u||void 0===u||u.drawImage(i,0,0,e,o);let c=l.toDataURL("image/jpeg",s);for(;c.length>t&&s>.1;)s-=.1,c=l.toDataURL("image/jpeg",s);a(c)},i.onerror=e=>{o(e)}}))}(t.result,2e5,800,600);r(e)},t.onerror=e=>{console.error("Error: ",e)}},id:n,name:n,className:"bg-neutral-800 p-3 text-neutral-200 rounded-md"})]})})};class _d{refCount(e){return Cd("refCount")}incRef(e){return Cd("incRef")}timerAvailable(){return!0}time(e){return Cd("time")}read(e){return Cd("read")}readSync(e){return Cd("readSync")}readToGPU(e,t){return Cd("readToGPU")}numDataIds(){return Cd("numDataIds")}disposeData(e,t){return Cd("disposeData")}write(e,t,n){return Cd("write")}move(e,t,n,r,s){return Cd("move")}createTensorFromGPUData(e,t,n){return Cd("createTensorFromGPUData")}memory(){return Cd("memory")}floatPrecision(){return Cd("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return Cd("dispose")}}function Cd(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function Ad(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function Od(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Ad(Dd(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}function Rd(e){Ad(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function Pd(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function Dd(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Id(e){return e%1===0}function Md(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function Ld(e,t){const n=t.length;return Ad((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),Ad(e.every((e=>Id(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function Fd(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function jd(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function $d(e){return"string"===typeof e||e instanceof String}function Bd(e){return Array.isArray(e)?Bd(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":function(e){return"number"===typeof e}(e)?"float32":$d(e)?"string":function(e){return"boolean"===typeof e}(e)?"bool":"float32"}function zd(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Vd(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function Ud(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=new Array;if(1===t.length){const a=t[0]*(r?2:1);for(let t=0;t<a;t++)s[t]=n[e+t]}else{const a=t[0],o=t.slice(1),i=o.reduce(((e,t)=>e*t))*(r?2:1);for(let t=0;t<a;t++)s[t]=Ud(e+t*i,o,n,r)}return s}function Wd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];const r=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return Ud(0,e,t,n)}function qd(e,t){const n=Hd(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function Hd(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function Kd(e){e.forEach((t=>{Ad(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function Gd(e){return e&&e.then&&"function"===typeof e.then}const Yd="tfjsflags";class Qd{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Xd,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(Jd().getBool("IS_TEST")||Jd().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];Jd().getBool("IS_TEST")||Jd().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(Gd(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if("undefined"===typeof this.global||"undefined"===typeof this.global.location||"undefined"===typeof this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(Yd in e){e[Yd].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){const n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:""+ +n===n?+n:t}(0,n)}))}}}function Xd(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,r[0],r[1]),r.join("=")})),t}function Jd(){return eh}let Zd,eh=null;function th(){if(null==Zd){let e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}Zd=e}return Zd}function nh(e,t){const n=function(){const e=th();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const rh="Cast",sh="Fill",ah="Identity",oh="LinSpace",ih="Range",lh="Tile",uh="Transpose",ch="_FusedMatMul",dh="FusedConv2D",hh="FusedDepthwiseConv2D",ph=nh("kernelRegistry",(()=>new Map)),fh=nh("gradRegistry",(()=>new Map));function mh(e,t){const n=vh(e,t);return ph.get(n)}function gh(e){return fh.get(e)}function yh(e){const t=ph.entries(),n=[];for(;;){const{done:r,value:s}=t.next();if(r)break;const[a,o]=s,[i]=a.split("_");i===e&&n.push(o)}return n}function vh(e,t){return`${t}_${e}`}function bh(){Jd().getBool("IS_TEST")||Jd().getBool("PROD")||console.warn(...arguments)}function wh(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var xh=n(902);const Sh=n.n(xh)()||xh;function kh(e){return Sh.fromString(e,!0,16)}kh("c3a5c85c97cb3127"),kh("b492b66fbe98f273"),kh("9ae16a3b2f90404f");function Eh(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=Ah(e)),Jd().getBool("DEBUG")&&function(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function Th(){return Jd().platform.now()}function Nh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",Jd().platform.encode(e,t)}function _h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",Jd().platform.decode(e,t)}function Ch(e){return null!=Jd().platform.isTypedArray?Jd().platform.isTypedArray(e):wh(e)}function Ah(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),"boolean"===typeof e||"number"===typeof e||"string"===typeof e||Gd(e)||null==e||Ch(e)&&n)t.push(e);else if(Array.isArray(e)||Ch(e))for(let r=0;r<e.length;++r)Ah(e[r],t,n);else{let r=-1;for(const t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(r=Math.max(r,Number(t)));for(let s=0;s<=r;s++)Ah(e[s],t,n)}return t}class Oh{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new Ph)}profileKernel(e,t,n){let r;const s=()=>{r=n()};let a;const o=Th();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(s);else{s();for(const e of r)e.dataSync();a=Promise.resolve({kernelMs:Th()-o})}if(Jd().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let i=0;i<r.length;i++){const t=r[i];t.data().then((n=>{Rh(n,t.dtype,e)}))}return{kernelName:e,outputs:r,inputs:t,timeMs:a.then((e=>e.kernelMs)),extraInfo:a.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:s,extraInfo:a}=e;n.forEach((e=>{Promise.all([e.data(),r,a]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],s,n[2])}))}))}}function Rh(e,t,n){if("float32"!==t)return!1;for(let r=0;r<e.length;r++){const t=e[r];if(isNaN(t)||!isFinite(t))return console.warn(`Found ${t} in the result of '${n}'`),!0}return!1}class Ph{logKernelProfile(e,t,n,r,s,a){const o="number"===typeof r?Md(`${r}ms`,9):r.error,i=Md(e,25),l=t.rank,u=t.size,c=Md(t.shape.toString(),14);let d="";for(const h in s){const e=s[h];if(null!=e){const n=e.shape||t.shape,r=n.length;d+=`${h}: ${r}D ${r>0?n:""} `}}console.log(`%c${i}\t%c${o}\t%c${l}D ${c}\t%c${u}\t%c${d}\t%c${a}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function Dh(e,t,n,r){const s=Vd(t),a=function(e,t,n,r){const s=Pd(t),a=r[r.length-1],o=new Array(a).fill(0),i=t.length,l="complex64"===n?Fh(e):e;if(i>1)for(let u=0;u<s/a;u++){const e=u*a;for(let t=0;t<a;t++)o[t]=Math.max(o[t],Ih(l[e+t],0,n).length)}return o}(e,t,n,s),o=t.length,i=Lh(e,t,n,s,a),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${o}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(i.map((e=>"    "+e)).join("\n")),l.join("\n")}function Ih(e,t,n){let r;return r=Array.isArray(e)?`${parseFloat(e[0].toFixed(7))} + ${parseFloat(e[1].toFixed(7))}j`:$d(e)?`'${e}'`:"bool"===n?Mh(e):parseFloat(e.toFixed(7)).toString(),Md(r,t)}function Mh(e){return 0===e?"false":"true"}function Lh(e,t,n,r,s){let a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const o="complex64"===n?2:1,i=t[0],l=t.length;if(0===l){if("complex64"===n){return[Ih(Fh(e)[0],0,n)]}return"bool"===n?[Mh(e[0])]:[e[0].toString()]}if(1===l){if(i>20){const t=3*o;let r=Array.from(e.slice(0,t)),a=Array.from(e.slice((i-3)*o,i*o));return"complex64"===n&&(r=Fh(r),a=Fh(a)),["["+r.map(((e,t)=>Ih(e,s[t],n))).join(", ")+", ..., "+a.map(((e,t)=>Ih(e,s[i-3+t],n))).join(", ")+"]"]}return["["+("complex64"===n?Fh(e):Array.from(e)).map(((e,t)=>Ih(e,s[t],n))).join(", ")+"]"]}const u=t.slice(1),c=r.slice(1),d=r[0]*o,h=[];if(i>20){for(let t=0;t<3;t++){const r=t*d,a=r+d;h.push(...Lh(e.slice(r,a),u,n,c,s,!1))}h.push("...");for(let t=i-3;t<i;t++){const r=t*d,a=r+d;h.push(...Lh(e.slice(r,a),u,n,c,s,t===i-1))}}else for(let m=0;m<i;m++){const t=m*d,r=t+d;h.push(...Lh(e.slice(t,r),u,n,c,s,m===i-1))}const p=2===l?",":"";h[0]="["+(i>0?h[0]+p:"");for(let m=1;m<h.length-1;m++)h[m]=" "+h[m]+p;let f=",\n";for(let m=2;m<l;m++)f+="\n";return h[h.length-1]=" "+h[h.length-1]+"]"+(a?"":f),h}function Fh(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class jh{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=Pd(e),null!=n){const e=n.length;Ad(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||Fd(t,this.size),this.strides=Vd(e)}set(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),Ad(n.length===this.rank,(()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`));const s=this.locToIndex(n);this.values[s]=e}get(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);let r=0;for(const a of t){if(a<0||a>=this.shape[r]){const e=`Requested out of range element at ${t}.   Buffer shape=${this.shape}`;throw new Error(e)}r++}let s=t[t.length-1];for(let a=0;a<t.length-1;++a)s+=this.strides[a]*t[a];return this.values[s]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return $h().makeTensor(this.values,this.shape,this.dtype)}}let $h=null,Bh=null,zh=null;class Vh{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=Pd(e),this.strides=Vd(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Bh.buffer(this.shape,this.dtype,e)}bufferSync(){return Bh.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Wd(this.shape,e,"complex64"===this.dtype)}arraySync(){return Wd(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=$h().read(this.dataId);if("string"===this.dtype){const t=await e;try{return t.map((e=>_h(e)))}catch(Xk){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),$h().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=$h().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>_h(e)))}catch(Xk){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await $h().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),$h().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Bh.print(this,e)}clone(){return this.throwIfDisposed(),Bh.clone(this)}toString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Dh(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Bh.cast(this,e)}variable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),$h().makeVariable(this,e,t,n)}}function Uh(){return nh("Tensor",(()=>Vh))}Object.defineProperty(Vh,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),Uh();class Wh extends Vh{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!Dd(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);$h().disposeTensor(this),this.dataId=e.dataId,$h().incRef(this,null)}dispose(){$h().disposeVariable(this),this.isDisposedInternal=!0}}var qh,Hh,Kh,Gh,Yh;Object.defineProperty(Wh,Symbol.hasInstance,{value:e=>e instanceof Vh&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(qh||(qh={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(Hh||(Hh={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(Kh||(Kh={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(Gh||(Gh={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(Yh||(Yh={}));const Qh={float32:Gh,int32:Hh,bool:Kh,complex64:Yh};function Xh(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return Qh[e][t]}function Jh(e){return null!=e&&"object"===typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function Zh(e){return"undefined"!==typeof GPUBuffer&&null!=e&&"object"===typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}function ep(e,t){if(e.dtype===t.dtype)return[e,t];const n=Xh(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function tp(e){const t=[];return np(e,t,new Set),t}function np(e,t,n){if(null==e)return;if(e instanceof Vh)return void t.push(e);if(r=e,!Array.isArray(r)&&"object"!==typeof r)return;var r;const s=e;for(const a in s){const e=s[a];n.has(e)||(n.add(e),np(e,t,n))}}function rp(e){return null!=e.kernelName}class sp{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class ap{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new sp}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(bh(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Oh(this.backendInstance),!0}setupRegisteredKernels(){yh(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){yh(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof _d||"function"!==typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,bh(`Initialization of backend ${e} failed`),bh(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(n){return bh(`Initialization of backend ${e} failed`),bh(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:s}=this.initializeBackend(n);if(s||r)return{name:n,asyncInit:s}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,s=this.readSync(t),a=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,s,n.shape,n.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(r){throw t(),r}}nextTensorId(){return ap.nextTensorId++}nextVariableId(){return ap.nextVariableId++}clone(e){const t=ip.runKernel(ah,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return ip.runKernel(rh,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=mh(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let s=0;n.forEach((e=>{s+="complex64"===e.dtype?3:1}));const a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-s-a;if(o>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${o} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),s=this.state.numBytes,a=this.state.numTensors;let o,i;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=rp(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(rp(e)){const{kernelName:t,inputs:s,attrs:a}=e;null==this.backendName&&this.backend;const l=mh(t,this.backendName);Ad(null!=l,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),o=()=>{const e=this.backend.numDataIds();i=l.kernelFunc({inputs:s,attrs:a,backend:this.backend});const o=Array.isArray(i)?i:[i];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,o);const u=o.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(r){const e=this.getTensorsForGradient(t,s,u);n=this.saveTensorsForBackwardMode(e)}return u}}else{const{forwardFunc:t}=e,s=e=>{r&&(n=e.map((e=>this.keep(this.clone(e)))))};o=()=>{const e=this.backend.numDataIds();i=this.tidy((()=>t(this.backend,s)));const n=Array.isArray(i)?i:[i];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:u,attrs:c}=e,d=rp(e)?null:e.backwardsFunc;let h;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(h=this.profiler.profileKernel(l,u,(()=>o())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(h),t=h.outputs):t=o()})),r&&this.addTapeNode(l,u,t,d,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-a,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map((e=>null!=u[e]?u[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:h.timeMs,extraInfo:h.extraInfo}),Array.isArray(i)?t:t[0]}saveTensorsForBackwardMode(e){const t=e.map((e=>this.keep(this.clone(e))));return t}getTensorsForGradient(e,t,n){const r=gh(e);if(null!=r){const e=r.inputsToSave||[],s=r.outputsToSave||[];let a;r.saveAllInputs?(Ad(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),a=Object.keys(t).map((e=>t[e]))):a=e.map((e=>t[e]));const o=n.filter(((e,t)=>s[t]));return a.concat(o)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let s=e;"string"===n&&$d(e[0])&&(s=e.map((e=>Nh(e))));const a=r.write(s,t,n),o=new Vh(t,n,a,this.nextTensorId());if(this.trackTensor(o,r),"string"===n){const e=this.state.tensorInfo.get(a),t=function(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}(s);this.state.numBytes+=t-e.bytes,e.bytes=t}return o}makeTensorFromDataId(e,t,n,r){const s={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(s,r)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:r,dtype:s}=e,a=new Vh(r,s,n,this.nextTensorId());return this.trackTensor(a,t),a}makeVariable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const s=new Wh(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[s.name])throw new Error(`Variable with name ${s.name} was already registered`);return this.state.registeredVariables[s.name]=s,this.incRef(s,this.backend),s}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*jd(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof Wh||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*jd(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,s,a){const o={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:s},i=gh(e);null!=i&&(r=i.gradFunc),null!=r&&(o.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=Hd(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],s,a))),this.state.activeTape.push(o)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=tp(e),n=new Set(t.map((e=>e.id)));for(let s=0;s<this.state.activeScope.track.length;s++){const e=this.state.activeScope.track[s];e.kept||n.has(e.id)||e.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Ad(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const s=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));Ad(s instanceof Vh,(()=>"The result y returned by f() must be a tensor."));const a=function(e,t,n){const r={},s={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const n=e[l],a=n.inputs;for(const e in a){const o=a[e];let i=!1;for(let e=0;e<t.length;e++)if(r[o.id]){n.outputs.forEach((e=>r[e.id]=!0)),i=!0,s[n.id]=!0;break}if(i)break}}const a={};a[n.id]=!0;const o={};for(let l=e.length-1;l>=0;l--){const t=e[l],n=t.inputs;for(let e=0;e<t.outputs.length;e++)if(a[t.outputs[e].id]){for(const e in n)a[n[e].id]=!0,o[t.id]=!0;break}}const i=[];for(let l=0;l<e.length;l++){const t=e[l];if(s[t.id]&&o[t.id]){const e={};for(const s in t.inputs){const n=t.inputs[s];r[n.id]&&(e[s]=n)}const n=Object.assign({},t);n.inputs=e,n.outputs=t.outputs,i.push(n)}}return i}(this.state.activeTape,t,s);if(!r&&0===a.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[s.id]=null==n?function(e){const t=qd(Pd(e),"float32");return ip.makeTensor(t,e,"float32")}(s.shape):n,function(e,t,n,r){for(let s=t.length-1;s>=0;s--){const a=t[s],o=[];if(a.outputs.forEach((t=>{const n=e[t.id];null!=n?o.push(n):o.push(null)})),null==a.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${a.kernelName}.`);const i=a.gradient(o);for(const t in a.inputs){if(!(t in i))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(i)}.`);const s=n((()=>i[t]()));if("float32"!==s.dtype)throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${s.dtype}'`);const o=a.inputs[t];if(!Dd(s.shape,o.shape))throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input '${t}' has shape '${s.shape}', which does not match the shape of the input '${o.shape}'`);if(null==e[o.id])e[o.id]=s;else{const t=e[o.id];e[o.id]=r(t,s),t.dispose()}}}}(e,a,(e=>this.tidy(e)),lp);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:s,grads:r}}))}customGrad(e){var t=this;return Ad(zd(e),(()=>"The f passed in customGrad(f) must be a function.")),function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];let a;Ad(r.every((e=>e instanceof Vh)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const o={};r.forEach(((e,t)=>{o[t]=e}));return t.runKernelFunc({forwardFunc:(t,n)=>(a=e(...r,n),Ad(a.value instanceof Vh,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),Ad(zd(a.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),a.value),backwardsFunc:(e,t)=>{const n=a.gradFunc(e,t),s=Array.isArray(n)?n:[n];Ad(s.length===r.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),Ad(s.every((e=>e instanceof Vh)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const o={};return s.forEach(((e,t)=>{o[t]=()=>e})),o},inputs:o})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=Th(),n=await this.backend.time(e);return n.wallMs=Th()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new sp;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function op(){const e=th();if(null==e._tfengine){const t=new Qd(e);e._tfengine=new ap(t)}var t;return t=e._tfengine.ENV,eh=t,$h=()=>e._tfengine,e._tfengine}ap.nextTensorId=0,ap.nextVariableId=0;const ip=op();function lp(e,t){const n={a:e,b:t};return ip.runKernel("Add",n)}const up=Jd();function cp(e,t){let n=e;if(Ch(e))return"string"===t?[]:[e.length];if(Jh(e)){const t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(Zh(e))return[e.buffer.size/(null==t?4:jd(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||Ch(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&Jd().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&dp(e,r,[]),r}function dp(e,t,n){if(n=n||[],!Array.isArray(e)&&!Ch(e))return void Ad(0===t.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));Ad(t.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),Ad(e.length===t[0],(()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const r=t.slice(1);for(let s=0;s<e.length;++s)dp(e[s],r,n.concat(s))}function hp(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function pp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof Uh())return hp(r,e.dtype,t,n),e;let s=Bd(e);if("string"!==s&&["bool","int32","float32"].indexOf(r)>=0&&(s=r),hp(r,s,t,n),null==e||!Ch(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){const r=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${r}'`)}const a=cp(e,s);Ch(e)||Array.isArray(e)||(e=[e]);const o="string"!==s?Eh(e,s):Ah(e,[],!0);return ip.makeTensor(o,a,s)}function fp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,s)=>pp(e,`${t}[${s}]`,n,r)))}up.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),up.registerFlag("IS_BROWSER",(()=>"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope)),up.registerFlag("IS_NODE",(()=>"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node)),up.registerFlag("IS_CHROME",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),up.registerFlag("IS_SAFARI",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor))),up.registerFlag("PROD",(()=>!1)),up.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>up.getBool("DEBUG"))),up.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),up.registerFlag("IS_TEST",(()=>!1)),up.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>up.getBool("DEBUG"))),up.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),up.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),up.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1));const mp="__op";function gp(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=mp;const s=function(){ip.startScope(n);try{const e=r(...arguments);return Gd(e)&&console.error("Cannot return a Promise inside of tidy."),ip.endScope(e),e}catch(e){throw ip.endScope(null),e}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}const yp=gp({complex_:function(e,t){const n=pp(e,"real","complex"),r=pp(t,"imag","complex");Od(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const s={real:n,imag:r};return ip.runKernel("Complex",s)}});function vp(e,t,n,r){if(null==r)r=Bd(e);else if("complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(Zh(e)||Jh(e)){if("float32"!==r&&"int32"!==r)throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return ip.backend.createTensorFromGPUData(e,t||n,r)}if(!Ch(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){Kd(t);const e=Pd(t),r=Pd(n);Ad(e===r,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${r}`));for(let s=0;s<n.length;++s){const e=n[s],r=s!==n.length-1||e!==Pd(t.slice(s));Ad(n[s]===t[s]||!r,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `))}}return Ch(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?Eh(e,r):Ah(e,[],!0),ip.makeTensor(e,t,r)}function bp(e,t,n){return vp(e,t,cp(e,n),n)}const wp={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class xp{static join(e){return new xp(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e)return;if(e instanceof Array||(e=[e]),0===(e=e.map((e=>Ch(e)?e.buffer:e))).length)return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let n=0;n<e.length;n++){const r=e[n];n!==e.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const s=t+r.byteLength;this.shards.push({buffer:r,start:t,end:s}),t=s}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;if(0===this.shards.length)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),t=Math.min(this.byteLength,t),t<=e)return new ArrayBuffer(0);const n=this.findShardForByte(e);if(-1===n)throw new Error(`Could not find start shard for byte ${e}`);const r=new ArrayBuffer(t-e),s=new Uint8Array(r);let a=0;for(let o=n;o<this.shards.length;o++){const n=this.shards[o],r=e+a-n.start,i=a,l=Math.min(t,n.end)-n.start,u=new Uint8Array(n.buffer,r,l-r);if(s.set(u,i),a+=u.length,t<n.end)break}return r}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;const n=function(e,t){let n=0,r=e.length;for(;n<=r;){const s=Math.floor((r-n)/2)+n,a=t(e[s]);if(0===a)return s;a<0?r=s:n=s+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}function Sp(e,t){return ip.tidy(e,t)}function kp(e){tp(e).forEach((e=>e.dispose()))}function Ep(e){return ip.keep(e)}zh=function(e){Jd().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")};const Tp=4;async function Np(e,t){const n=[],r=[],s=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let a=0;a<s.length;++a){const o=s[a],i=Array.isArray(e)?e[a].tensor:e[o];if("float32"!==i.dtype&&"int32"!==i.dtype&&"bool"!==i.dtype&&"string"!==i.dtype&&"complex64"!==i.dtype)throw new Error(`Unsupported dtype in weight '${o}': ${i.dtype}`);const l={name:o,shape:i.shape,dtype:i.dtype};if("string"===i.dtype){const e=new Promise((async e=>{const t=await i.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+Tp*t.length,r=new Uint8Array(n);let s=0;for(let a=0;a<t.length;a++){const e=t[a],n=new Uint8Array(new Uint32Array([e.length]).buffer);r.set(n,s),s+=Tp,r.set(e,s),s+=e.length}e(r)}));r.push(e)}else r.push(i.data());null!=t&&(l.group=t),n.push(l)}return{data:Dp(await Promise.all(r)),specs:n}}function _p(e,t){const n=new xp(e),r={};let s=0;for(const a of t){const e=Cp(a,((e,t)=>n.slice(s+e,s+t)));r[a.name]=Op(a,n.slice(s,s+e)),s+=e}return r}function Cp(e,t){const n=Pd(e.shape);let r;if("quantization"in e){const t=e.quantization;r=wp[t.dtype]}else{if("string"===e.dtype){let e=0;for(let r=0;r<n;r++)e+=Tp+new Uint32Array(t(e,e+Tp))[0];return e}r=wp[e.dtype]}return n*r}async function Ap(e,t){const n=Pd(e.shape);let r;if("quantization"in e){const t=e.quantization;r=wp[t.dtype]}else{if("string"===e.dtype){let e=0;for(let r=0;r<n;r++)e+=Tp+new Uint32Array(await t(e,e+Tp))[0];return e}r=wp[e.dtype]}return n*r}function Op(e,t){const n=e.name,r=e.dtype,s=e.shape,a=Pd(s);let o,i=0;if("quantization"in e){const s=e.quantization;if("uint8"===s.dtype||"uint16"===s.dtype){if(!("min"in s)||!("scale"in s))throw new Error(`Weight ${e.name} with quantization ${s.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==s.dtype)throw new Error(`Weight ${e.name} has unknown quantization dtype ${s.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==r)throw new Error(`Weight ${e.name} is quantized with ${s.dtype} which only supports weights of type float32 not ${r}.`)}const l=wp[s.dtype],u="uint8"===s.dtype?new Uint8Array(t):new Uint16Array(t);if("float32"===r)if("uint8"===s.dtype||"uint16"===s.dtype){o=new Float32Array(u.length);for(let e=0;e<u.length;e++){const t=u[e];o[e]=t*s.scale+s.min}}else{if("float16"!==s.dtype)throw new Error(`Unsupported quantization type ${s.dtype} for weight type float32.`);{const e=function(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0===(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return r=>{const s=new ArrayBuffer(4*r.length),a=new Uint32Array(s);for(let o=0;o<r.length;o++){const s=r[o],i=e[n[s>>10]+(1023&s)]+t[s>>10];a[o]=i}return new Float32Array(s)}}();o=e(u)}}else{if("int32"!==r)throw new Error(`Unsupported dtype in weight '${n}': ${r}`);if("uint8"!==s.dtype&&"uint16"!==s.dtype)throw new Error(`Unsupported quantization type ${s.dtype} for weight type int32.`);o=new Int32Array(u.length);for(let e=0;e<u.length;e++){const t=u[e];o[e]=Math.round(t*s.scale+s.min)}}i+=a*l}else if("string"===r){const n=Pd(e.shape);o=[];for(let e=0;e<n;e++){const e=new Uint32Array(t.slice(i,i+Tp))[0];i+=Tp;const n=new Uint8Array(t.slice(i,i+e));o.push(n),i+=e}}else{const e=wp[r];if("float32"===r)o=new Float32Array(t);else if("int32"===r)o=new Int32Array(t);else{if("bool"!==r){if("complex64"===r){o=new Float32Array(t);const e=new Float32Array(o.length/2),n=new Float32Array(o.length/2);for(let t=0;t<e.length;t++)e[t]=o[2*t],n[t]=o[2*t+1];const r=bp(e,s,"float32"),a=bp(n,s,"float32"),i=yp(r,a);return r.dispose(),a.dispose(),i}throw new Error(`Unsupported dtype in weight '${n}': ${r}`)}o=new Uint8Array(t)}i+=a*e}return bp(o,s,r)}async function Rp(e,t,n){let r=new Uint8Array(t);for(;r.byteLength<n;){const{done:t,value:s}=await e.read();if(t&&null==s){const e=n-r.byteLength;throw new Error(`Reader is done but ${e} bytes are still expected`)}const a=new Uint8Array(r.length+s.byteLength);a.set(r,0),a.set(new Uint8Array(s),r.length),r=a}return r.buffer}async function Pp(e,t){const n={},r=e.getReader();let s=new ArrayBuffer(0);for(const a of t){const e=await Ap(a,(async(e,t)=>(s=await Rp(r,s,t),s.slice(e,t))));s=await Rp(r,s,e);const t=s.slice(0,e);s=s.slice(e);const o=Op(a,t);if(n[a.name]=o,"webgpu"===ip.backendName){const e=ip.backend;"uploadToGPU"in e&&Pd(o.shape)>=Jd().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&e.uploadToGPU(o.dataId)}}return n}function Dp(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const r=new Uint8Array(t);let s=0;return n.forEach((e=>{r.set(new Uint8Array(e.buffer),s),s+=e.byteLength})),r.buffer}const Ip="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function Mp(e){return Ip?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function Lp(e){return xp.join(e)}function Fp(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function jp(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function $p(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}async function Bp(e,t){let n,r;return null!=e.weightsManifest&&([n,r]=await t(e.weightsManifest)),$p(e,n,r)}function zp(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:Mp(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:Mp(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new xp(e.weightData).byteLength}}function Vp(e){const t=[];for(const n of e)t.push(...n.weights);return t}class Up{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==Up.instance&&(Up.instance=new Up),Up.instance}static registerSaveRouter(e){Up.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Up.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Up.getHandlers(e,"save")}static getLoadHandlers(e,t){return Up.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[];return("load"===t?Up.getInstance().loadRouters:Up.getInstance().saveRouters).forEach((t=>{const s=t(e,n);null!==s&&r.push(s)})),r}}const Wp=e=>Up.registerSaveRouter(e),qp=e=>Up.registerLoadRouter(e),Hp=e=>Up.getSaveHandlers(e),Kp=(e,t)=>Up.getLoadHandlers(e,t),Gp="tensorflowjs",Yp="models_store",Qp="model_info_store";function Xp(){if(!Jd().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Jp(e){const t=e.result;t.createObjectStore(Yp,{keyPath:"modelPath"}),t.createObjectStore(Qp,{keyPath:"modelPath"})}class Zp{constructor(e){if(this.indexedDB=Xp(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open(Gp,1);r.onupgradeneeded=()=>Jp(r),r.onsuccess=()=>{const s=r.result;if(null==t){const t=s.transaction(Yp,"readonly"),r=t.objectStore(Yp).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return s.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(r.result.modelArtifacts)},r.onerror=e=>(s.close(),n(r.error)),t.oncomplete=()=>s.close()}else{t.weightData=xp.join(t.weightData);const r=zp(t),o=s.transaction(Qp,"readwrite");let i,l,u=o.objectStore(Qp);try{i=u.put({modelPath:this.modelPath,modelArtifactsInfo:r})}catch(a){return n(a)}i.onsuccess=()=>{l=s.transaction(Yp,"readwrite");const i=l.objectStore(Yp);let c;try{c=i.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r})}catch(a){return n(a)}c.onsuccess=()=>e({modelArtifactsInfo:r}),c.onerror=e=>{u=o.objectStore(Qp);const t=u.delete(this.modelPath);t.onsuccess=()=>(s.close(),n(c.error)),t.onerror=e=>(s.close(),n(c.error))}},i.onerror=e=>(s.close(),n(i.error)),o.oncomplete=()=>{null==l?s.close():l.oncomplete=()=>s.close()}}},r.onerror=e=>n(r.error)}))}}Zp.URL_SCHEME="indexeddb://";const ef=e=>{return Jd().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Zp.URL_SCHEME)?(t=e.slice(Zp.URL_SCHEME.length),new Zp(t)):null;var t};Up.registerSaveRouter(ef),Up.registerLoadRouter(ef);class tf{constructor(){this.indexedDB=Xp()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(Gp,1);n.onupgradeneeded=()=>Jp(n),n.onsuccess=()=>{const r=n.result,s=r.transaction(Qp,"readonly"),a=s.objectStore(Qp).getAll();a.onsuccess=()=>{const t={};for(const e of a.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},a.onerror=e=>(r.close(),t(a.error)),s.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(Zp.URL_SCHEME)?t.slice(Zp.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open(Gp,1);r.onupgradeneeded=()=>Jp(r),r.onsuccess=()=>{const s=r.result,a=s.transaction(Qp,"readwrite"),o=a.objectStore(Qp),i=o.get(e);let l;i.onsuccess=()=>{if(null==i.result)return s.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const r=o.delete(e),a=()=>{l=s.transaction(Yp,"readwrite");const r=l.objectStore(Yp).delete(e);r.onsuccess=()=>t(i.result.modelArtifactsInfo),r.onerror=e=>n(i.error)};r.onsuccess=a,r.onerror=e=>(a(),s.close(),n(i.error))}},i.onerror=e=>(s.close(),n(i.error)),a.oncomplete=()=>{null==l?s.close():l.oncomplete=()=>s.close()}},r.onerror=e=>n(r.error)}))}}const nf="/",rf="tensorflowjs_models",sf="info",af="model_topology",of="weight_specs",lf="weight_data",uf="model_metadata";function cf(e){return{info:[rf,e,sf].join(nf),topology:[rf,e,af].join(nf),weightSpecs:[rf,e,of].join(nf),weightData:[rf,e,lf].join(nf),modelMetadata:[rf,e,uf].join(nf)}}function df(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function hf(e){const t=e.split(nf);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(nf)}class pf{constructor(e){if(!Jd().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=cf(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),s=zp(e),a=xp.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(s)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(e){if(Ip)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,s=t.length;r<s;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(a));const t={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(t)),{modelArtifactsInfo:s}}catch(t){throw df(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${s.modelTopologyBytes}, weightSpecsBytes=${s.weightSpecsBytes}, weightDataBytes=${s.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;const s=this.LS.getItem(this.keys.modelMetadata);if(null!=s){const e=JSON.parse(s);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const a=this.LS.getItem(this.keys.weightData);if(null==a)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(Ip){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}(a),t}}pf.URL_SCHEME="localstorage://";const ff=e=>{return Jd().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(pf.URL_SCHEME)?(t=e.slice(pf.URL_SCHEME.length),new pf(t)):null;var t};Up.registerSaveRouter(ff),Up.registerLoadRouter(ff);class mf{constructor(){Ad(Jd().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),Ad("undefined"===typeof window||"undefined"!==typeof window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=rf+nf,n=nf+sf;for(let r=0;r<this.LS.length;++r){const s=this.LS.key(r);if(s.startsWith(t)&&s.endsWith(n)){e[hf(s)]=JSON.parse(this.LS.getItem(s))}}return e}async removeModel(e){var t;const n=cf(e=(t=e).startsWith(pf.URL_SCHEME)?t.slice(pf.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return df(n),r}}const gf="://";class yf{constructor(){this.managers={}}static getInstance(){return null==yf.instance&&(yf.instance=new yf),yf.instance}static registerManager(e,t){Ad(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(gf)&&(e=e.slice(0,e.indexOf(gf))),Ad(e.length>0,(()=>"scheme must not be an empty string."));const n=yf.getInstance();Ad(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=yf.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(yf.getInstance().managers)}}function vf(e){if(-1===e.indexOf(gf))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${yf.getSchemes().join(",")}`);return{scheme:e.split(gf)[0],path:e.split(gf)[1]}}async function bf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Ad(e!==t,(()=>`Old path and new path are the same: '${e}'`));const r=Up.getLoadHandlers(e);Ad(r.length>0,(()=>`Copying failed because no load handler is found for source URL ${e}.`)),Ad(r.length<2,(()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${e}.`));const s=r[0],a=Up.getSaveHandlers(t);Ad(a.length>0,(()=>`Copying failed because no save handler is found for destination URL ${t}.`)),Ad(a.length<2,(()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${t}.`));const o=a[0],i=vf(e).scheme,l=vf(e).path,u=i===vf(e).scheme,c=await s.load();n&&u&&await yf.getManager(i).removeModel(l);const d=await o.save(c);return n&&!u&&await yf.getManager(i).removeModel(l),d.modelArtifactsInfo}async function wf(){const e=yf.getSchemes(),t={};for(const n of e){const e=await yf.getManager(n).listModels();for(const r in e){t[n+gf+r]=e[r]}}return t}async function xf(e){const t=vf(e);return yf.getManager(t.scheme).removeModel(t.path)}async function Sf(e,t){return bf(e,t,!1)}async function kf(e,t){return bf(e,t,!0)}class Ef{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){"undefined"!==typeof window&&Jd().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}}),!0))):setTimeout(e,t)}isTypedArray(e){return wh(e)}}if(Jd().get("IS_BROWSER")){Jd().setPlatform("browser",new Ef);try{yf.registerManager(pf.URL_SCHEME,new mf)}catch(Jk){}try{yf.registerManager(Zp.URL_SCHEME,new tf)}catch(Jk){}}const Tf=()=>n(291);let Nf;class _f{constructor(){this.util=n(24),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=Jd().global.fetch?Jd().global.fetch(e,t):(null==Nf&&(Nf=Tf()),Nf(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}function Cf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",Kd(e),new jh(e,t,n)}Jd().get("IS_NODE")&&!Jd().get("IS_BROWSER")&&Jd().setPlatform("node",new _f);const Af=gp({cast_:function(e,t){const n=pp(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r={x:n},s={dtype:t};return ip.runKernel(rh,r,s)}});const Of=gp({clone_:function(e){const t={x:pp(e,"x","clone","string_or_numeric")};return ip.runKernel(ah,t)}});function Rf(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}op();Bh={buffer:Cf,cast:Af,clone:Of,print:Rf};const Pf=gp({add_:function(e,t){let n=pp(e,"a","add"),r=pp(t,"b","add");[n,r]=ep(n,r);const s={a:n,b:r};return ip.runKernel("Add",s)}});const Df=gp({floorDiv_:function(e,t){let n=pp(e,"a","floorDiv"),r=pp(t,"b","floorDiv");[n,r]=ep(n,r);const s={a:n,b:r};return ip.runKernel("FloorDiv",s)}});const If=gp({div_:function(e,t){let n=pp(e,"a","div"),r=pp(t,"b","div");if([n,r]=ep(n,r),"int32"===n.dtype&&"int32"===r.dtype)return Df(n,r);const s={a:n,b:r};return ip.runKernel("RealDiv",s,{})}});const Mf=gp({mul_:function(e,t){let n=pp(e,"a","mul"),r=pp(t,"b","mul");[n,r]=ep(n,r);const s={a:n,b:r};return ip.runKernel("Multiply",s)}});const Lf=gp({sqrt_:function(e){const t={x:pp(e,"x","sqrt","float32")};return ip.runKernel("Sqrt",t)}});const Ff=gp({square_:function(e){const t=pp(e,"x","square");return ip.runKernel("Square",{x:t},{})}});const jf=gp({zerosLike_:function(e){const t={x:pp(e,"x","zerosLike")};return ip.runKernel("ZerosLike",t)}});function $f(e){return ip.customGrad(e)}function Bf(e,t){if((Ch(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&Ch(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return vp(e,[],[],t)}const zf=new Map,Vf=new Map;class Uf{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class Wf{constructor(){this.classNameMap={}}static getMap(){return null==Wf.instance&&(Wf.instance=new Wf),Wf.instance}static register(e){Wf.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function qf(e,t,n){Ad(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),Ad("string"===typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),Ad(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),"undefined"===typeof t&&(t="Custom"),"undefined"===typeof n&&(n=e.className);const r=t+">"+n;return Wf.register(e),zf.set(r,e),Vf.set(e,r),e}class Hf extends Uf{minimize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{value:r,grads:s}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:s[e.name]})));this.applyGradients(e)}else this.applyGradients(s);return kp(s),t?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return function(e,t){Ad(zd(e),(()=>"The f passed in variableGrads(f) must be a function")),Ad(null==t||Array.isArray(t)&&t.every((e=>e instanceof Wh)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in ip.registeredVariables)t.push(ip.registeredVariables[e])}const r=n?t.filter((e=>!e.trainable)):null,s=t.length;t=t.filter((e=>e.trainable)),Ad(t.length>0,(()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${s} variables is trainable.`));const{value:a,grads:o}=ip.gradients(e,t,null,!0);Ad(o.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),Ad(0===a.rank,(()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${a.rank} tensor`));const i={};return t.forEach(((e,t)=>{null!=o[t]&&(i[e.name]=o[t])})),null!=r&&r.forEach((e=>i[e.name]=null)),{value:a,grads:i}}(e,t)}dispose(){null!=this.iterations_&&kp(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:Bf(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(Hf,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});function Kf(e,t,n){Kd(e);const r={shape:e,value:t,dtype:n=n||Bd(t)};return ip.runKernel(sh,{},r)}const Gf=gp({pow_:function(e,t){let n=pp(e,"base","pow"),r=pp(t,"exp","pow");[n,r]=ep(n,r);const s={a:n,b:r};return ip.runKernel("Pow",s)}});const Yf=gp({sub_:function(e,t){let n=pp(e,"a","sub"),r=pp(t,"b","sub");[n,r]=ep(n,r);const s={a:n,b:r};return ip.runKernel("Sub",s)}});const Qf=gp({abs_:function(e){const t=pp(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return ip.runKernel("ComplexAbs",e)}{const e={x:t};return ip.runKernel("Abs",e)}}});function Xf(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let s=0;s<n;s++){let a=e[e.length-s-1];null==a&&(a=1);let o=t[t.length-s-1];if(null==o&&(o=1),1===a)r[n-s-1]=o;else if(1===o)r[n-s-1]=a;else{if(a!==o){throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`)}r[n-s-1]=a}}return r}const Jf=gp({maximum_:function(e,t){let n=pp(e,"a","maximum"),r=pp(t,"b","maximum");[n,r]=ep(n,r),"bool"===n.dtype&&(n=Af(n,"int32"),r=Af(r,"int32")),Xf(n.shape,r.shape);const s={a:n,b:r};return ip.runKernel("Maximum",s)}});class Zf extends Hf{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const s=ip.registeredVariables[t];Sp((()=>{const e=Pf(Mf(this.c,r),s);s.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=Ep(Bf(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}const em=[class extends Hf{static get className(){return"Adadelta"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=ip.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=ip.registeredVariables[t],s=!1;null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:`${t}/accum_grad`,variable:Sp((()=>jf(r).variable(s)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:`${t}/accum_var`,variable:Sp((()=>jf(r).variable(s)))});const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const o=this.accumulatedGrads[n].variable,i=this.accumulatedUpdates[n].variable;Sp((()=>{const e=Pf(Mf(o,this.rho),Mf(Ff(a),1-this.rho)),t=Mf(If(Lf(Pf(i,this.epsilon)),Lf(Pf(o,this.epsilon))),a),n=Pf(Mf(i,this.rho),Mf(Ff(t),1-this.rho));o.assign(e),i.assign(n);const s=Pf(Mf(t,-this.learningRate),r);r.assign(s)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(kp(this.accumulatedGrads.map((e=>e.variable))),kp(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2,n=!1;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}},class extends Hf{static get className(){return"Adagrad"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=ip.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:`${t}/accumulator`,variable:Sp((()=>Kf(r.shape,this.initialAccumulatorValue).variable(e)))}}const s=Array.isArray(e)?e[n].tensor:e[t];if(null==s)return;const a=this.accumulatedGrads[n].variable;Sp((()=>{const e=Pf(a,Ff(s));a.assign(e);const t=Pf(Mf(If(s,Lf(Pf(e,ip.backend.epsilon()))),-this.learningRate),r);r.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&kp(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}},class extends Hf{static get className(){return"Adam"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Sp((()=>{this.accBeta1=Bf(t).variable(),this.accBeta2=Bf(n).variable()})),null==r&&(this.epsilon=ip.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);Sp((()=>{const n=Yf(1,this.accBeta1),r=Yf(1,this.accBeta2);t.forEach(((t,s)=>{const a=ip.registeredVariables[t],o=!1;null==this.accumulatedFirstMoment[s]&&(this.accumulatedFirstMoment[s]={originalName:`${t}/m`,variable:Sp((()=>jf(a).variable(o)))}),null==this.accumulatedSecondMoment[s]&&(this.accumulatedSecondMoment[s]={originalName:`${t}/v`,variable:Sp((()=>jf(a).variable(o)))});const i=Array.isArray(e)?e[s].tensor:e[t];if(null==i)return;const l=this.accumulatedFirstMoment[s].variable,u=this.accumulatedSecondMoment[s].variable,c=Pf(Mf(l,this.beta1),Mf(i,1-this.beta1)),d=Pf(Mf(u,this.beta2),Mf(Ff(i),1-this.beta2)),h=If(c,n),p=If(d,r);l.assign(c),u.assign(d);const f=Pf(Mf(If(h,Pf(Lf(p),this.epsilon)),-this.learningRate),a);a.assign(f)})),this.accBeta1.assign(Mf(this.accBeta1,this.beta1)),this.accBeta2.assign(Mf(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&kp(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&kp(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),Sp((()=>{this.accBeta1.assign(Gf(this.beta1,this.iterations_+1)),this.accBeta2.assign(Gf(this.beta2,this.iterations_+1))}));const t=e.length/2,n=!1;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}},class extends Hf{static get className(){return"Adamax"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.decay=s,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Sp((()=>{this.iteration=Bf(0).variable(),this.accBeta1=Bf(t).variable()})),null==r&&(this.epsilon=ip.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);Sp((()=>{const n=Yf(1,this.accBeta1),r=If(-this.learningRate,Pf(Mf(this.iteration,this.decay),1));t.forEach(((t,s)=>{const a=ip.registeredVariables[t],o=!1;null==this.accumulatedFirstMoment[s]&&(this.accumulatedFirstMoment[s]={originalName:`${t}/m`,variable:jf(a).variable(o)}),null==this.accumulatedWeightedInfNorm[s]&&(this.accumulatedWeightedInfNorm[s]={originalName:`${t}/v`,variable:jf(a).variable(o)});const i=Array.isArray(e)?e[s].tensor:e[t];if(null==i)return;const l=this.accumulatedFirstMoment[s].variable,u=this.accumulatedWeightedInfNorm[s].variable,c=Pf(Mf(l,this.beta1),Mf(i,1-this.beta1)),d=Mf(u,this.beta2),h=Qf(i),p=Jf(d,h);l.assign(c),u.assign(p);const f=Pf(Mf(If(r,n),If(c,Pf(p,this.epsilon))),a);a.assign(f)})),this.iteration.assign(Pf(this.iteration,1)),this.accBeta1.assign(Mf(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&kp(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&kp(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}},class extends Zf{static get className(){return"Momentum"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=Bf(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=ip.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:`${t}/momentum`,variable:Sp((()=>jf(r).variable(e)))}}const s=this.accumulations[n].variable,a=Array.isArray(e)?e[n].tensor:e[t];null!=a&&Sp((()=>{let e;const t=Pf(Mf(this.m,s),a);e=this.useNesterov?Pf(Mf(this.c,Pf(a,Mf(t,this.m))),r):Pf(Mf(this.c,t),r),s.assign(t),r.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&kp(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}},class extends Hf{static get className(){return"RMSProp"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=s,null==r&&(this.epsilon=ip.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=ip.registeredVariables[t],s=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:`${t}/rms`,variable:Sp((()=>jf(r).variable(s)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:`${t}/momentum`,variable:Sp((()=>jf(r).variable(s)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${t}/mg`,variable:Sp((()=>jf(r).variable(s)))});const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const o=this.accumulatedMeanSquares[n].variable,i=this.accumulatedMoments[n].variable;Sp((()=>{const e=Pf(Mf(o,this.decay),Mf(Ff(a),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,s=Pf(Mf(t,this.decay),Mf(a,1-this.decay)),l=If(Mf(a,this.learningRate),Lf(Yf(e,Pf(Ff(s),this.epsilon)))),u=Pf(Mf(i,this.momentum),l);o.assign(e),t.assign(s),i.assign(u);const c=Yf(r,u);r.assign(c)}else{const e=Pf(Mf(o,this.decay),Mf(Ff(a),1-this.decay)),t=Pf(Mf(i,this.momentum),If(Mf(a,this.learningRate),Lf(Pf(e,this.epsilon))));o.assign(e),i.assign(t);const n=Yf(r,t);r.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&kp(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&kp(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&kp(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}},Zf];function tm(e){return new Promise((e=>setTimeout(e))).then(e)}class nm{constructor(e){if(!Jd().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(nm.URL_SCHEME)&&(e=e.slice(nm.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"===typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=xp.join(e.weightData),n=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const t=jp(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),r=window.URL.createObjectURL(new Blob([JSON.stringify(t)],{type:"application/json"})),s=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(s.download=this.modelJsonFileName,s.href=r,await tm((()=>s.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=n,await tm((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:zp(e)}}}}nm.URL_SCHEME="downloads://";class rm{constructor(e){if(null==e||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const r=JSON.parse(n.target.result),s=r.modelTopology;if(null==s)return void t(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));if(null==r.weightsManifest)return void t(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));if(0===this.weightsFiles.length)return void e({modelTopology:s});const a=Bp(r,(e=>this.loadWeights(e)));e(a)},n.onerror=e=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const a of e)t.push(...a.weights),n.push(...a.paths);const r=this.checkManifestAndWeightFiles(e),s=n.map((e=>this.loadWeightsFile(e,r[e])));return Promise.all(s).then((e=>[t,e]))}loadWeightsFile(e,t){return new Promise(((n,r)=>{const s=new FileReader;s.onload=e=>{const t=e.target.result;n(t)},s.onerror=t=>r(`Failed to weights data from file of path '${e}'.`),s.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>Fp(e.name))),r={};for(const s of e)s.paths.forEach((e=>{const s=Fp(e);if(-1!==t.indexOf(s))throw new Error(`Duplicate file basename found in weights manifest: '${s}'`);if(t.push(s),-1===n.indexOf(s))throw new Error(`Weight file with basename '${s}' is not provided.`);r[e]=this.weightsFiles[n.indexOf(s)]}));if(t.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}function sm(e){return new rm(e)}function am(e,t,n,r){!function(e){Ad(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){Ad(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),Ad(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),Ad(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,r=null==r?1:r);let s=0;return Promise.all(e.map((a=>(a.then((a=>{const o=n+ ++s/e.length*(r-n);return t(o),a})),a))))}async function om(e,t){null==t&&(t={});const n=null==t.fetchFunc?Jd().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),s=(null==t.onProgress?await Promise.all(r):await am(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(s):await am(s,t.onProgress,.5,1)}async function im(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return lm((e=>om(e,{requestInit:r})))(e,t,n)}function lm(e){return async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;const s=t.map((()=>!1)),a={},o=null!=r?r.map((()=>!1)):[],i=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,u=wp[l]*Pd(e.shape),c=()=>{s[t]=!0,null==a[t]&&(a[t]=[]),a[t].push({manifestEntry:e,groupOffset:n,sizeBytes:u})};null!=r?r.forEach(((t,n)=>{t===e.name&&(c(),o[n]=!0)})):c(),i.push(e.name),n+=u}))})),!o.every((e=>e))){const e=r.filter(((e,t)=>!o[t]));throw new Error(`Could not find weights in manifest with names: ${e.join(", ")}. \nManifest JSON has weights with names: ${i.join(", ")}.`)}const l=s.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),u=[];l.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;u.push(t)}))}));const c=await e(u),d={};let h=0;return l.forEach((e=>{const n=t[e].paths.length,r=new xp(c.slice(h,h+n));a[e].forEach((e=>{const t=_p(r.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const n in t)d[n]=t[n]})),h+=n})),d}}Up.registerSaveRouter((e=>Jd().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(nm.URL_SCHEME)?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new nm(e)}(e.slice(nm.URL_SCHEME.length)):null));class um{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(Ad("function"===typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=Jd().platform.fetch,Ad(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&Ad(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=jp(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData){const n=xp.join(e.weightData);t.body.append("model.weights.bin",new Blob([n],{type:"application/octet-stream"}),"model.weights.bin")}const r=await this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:zp(e),responses:[r]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${r.status}.`)}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(Qk){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return t}async load(){if(this.loadOptions.streamWeights)return this.loadStream();return Bp(await this.loadModelJSON(),(e=>this.loadWeights(e)))}async loadStream(){const e=await this.loadModelJSON(),t=await this.getWeightUrls(e.weightsManifest),n=Vp(e.weightsManifest);return Object.assign(Object.assign({},e),{weightSpecs:n,getWeightStream:()=>function(e,t){var n;const r=null==t.fetchFunc?Jd().platform.fetch:t.fetchFunc;let s,a=0;return null===(n=t.onProgress)||void 0===n||n.call(t,0),new ReadableStream({pull:async n=>{for(var o;a<e.length;){if(!s){const n=(await r(e[a],t.requestInit,{isBinary:!0})).body;s=n.getReader()}const{done:i,value:l}=await s.read();if(!i)return void n.enqueue(l);a++,s=void 0,null===(o=t.onProgress)||void 0===o||o.call(t,a/e.length)}n.close()}})}(t,this.loadOptions)})}async getWeightUrls(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),s=n>t?e.substring(n):"";return[r+"/",s]}(t),s=this.weightPathPrefix||n,a=[],o=[];for(const i of e)for(const e of i.paths)null!=this.weightUrlConverter?o.push(this.weightUrlConverter(e)):a.push(s+e+r);return this.weightUrlConverter&&a.push(...await Promise.all(o)),a}async loadWeights(e){const t=await this.getWeightUrls(e);return[Vp(e),await om(t,this.loadOptions)]}}function cm(e){return null!=e.match(um.URL_SCHEME_REGEX)}um.URL_SCHEME_REGEX=/^https?:\/\//;const dm=(e,t)=>{if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>cm(e))):cm(e),n)return hm(e,t)}return null};function hm(e,t){return new um(e,t)}function pm(e,t){return hm(e,t)}Up.registerSaveRouter(dm),Up.registerLoadRouter(dm);class fm{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class mm{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class gm{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function ym(e,t,n,r){return new gm(vm(...arguments))}function vm(e,t,n,r){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new fm(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new fm({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new fm({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function bm(e){return new mm(e)}function wm(e){return new mm(e)}const xm=gp({acos_:function(e){const t={x:pp(e,"x","acos")};return ip.runKernel("Acos",t)}});const Sm=gp({acosh_:function(e){const t={x:pp(e,"x","acosh")};return ip.runKernel("Acosh",t)}});const km=gp({addN_:function(e){Ad(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),Ad(e.length>=1,(()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`));const t=e.map(((e,t)=>pp(e,`tensors${t}`,"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!Dd(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const r=t;return ip.runKernel("AddN",r)}});const Em=gp({all_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:pp(e,"x","all","bool")},s={axis:t,keepDims:n};return ip.runKernel("All",r,s)}});const Tm=gp({any_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:pp(e,"x","any","bool")},s={axis:t,keepDims:n};return ip.runKernel("Any",r,s)}});const Nm=gp({argMax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:pp(e,"x","argMax")},r={axis:t};return ip.runKernel("ArgMax",n,r)}});const _m=gp({argMin_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:pp(e,"x","argMin")},r={axis:t};return ip.runKernel("ArgMin",n,r)}});const Cm=gp({asin_:function(e){const t={x:pp(e,"x","asin")};return ip.runKernel("Asin",t)}});const Am=gp({asinh_:function(e){const t={x:pp(e,"x","asinh")};return ip.runKernel("Asinh",t)}});const Om=gp({atan_:function(e){const t={x:pp(e,"x","atan")};return ip.runKernel("Atan",t)}});const Rm=gp({atan2_:function(e,t){let n=pp(e,"a","atan2"),r=pp(t,"b","atan2");[n,r]=ep(n,r);const s={a:n,b:r};return ip.runKernel("Atan2",s)}});const Pm=gp({atanh_:function(e){const t={x:pp(e,"x","atanh")};return ip.runKernel("Atanh",t)}});function Dm(e,t,n,r,s,a){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",[l,u,c,d]=[-1,-1,-1,-1];if("channelsLast"===i)[l,u,c,d]=e;else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);[l,d,u,c]=e}const[h,p,,f]=t,[m,g]=Mm(n),[y,v]=Mm(r),b=Lm(h,y),w=Lm(p,v),{padInfo:x,outHeight:S,outWidth:k}=function(e,t,n,r,s,a,o,i,l){let u,c,d;if("number"===typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const s=function(e,t,n,r,s){null==r&&(r=Im(e,t,n));const a=e[0],o=e[1],i=Fm((a-t+2*r)/n+1,s),l=Fm((o-t+2*r)/n+1,s);return[i,l]}([t,n],a,r,e,i);c=s[0],d=s[1]}else if("same"===e){c=Math.ceil(t/r),d=Math.ceil(n/s);const e=Math.max(0,(c-1)*r+a-t),i=Math.max(0,(d-1)*s+o-n),l=Math.floor(e/2),h=e-l,p=Math.floor(i/2);u={top:l,bottom:h,left:p,right:i-p,type:"SAME"}}else if("valid"===e)u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-a+1)/r),d=Math.ceil((n-o+1)/s);else{if("object"!==typeof e)throw Error(`Unknown padding parameter: ${e}`);{const h="channelsLast"===l?e[1][0]:e[2][0],p="channelsLast"===l?e[1][1]:e[2][1],f="channelsLast"===l?e[2][0]:e[3][0],m="channelsLast"===l?e[2][1]:e[3][1];u={top:h,bottom:p,left:f,right:m,type:0===h&&0===p&&0===f&&0===m?"VALID":"EXPLICIT"},c=Fm((t-a+h+p)/r+1,i),d=Fm((n-o+f+m)/s+1,i)}}return{padInfo:u,outHeight:c,outWidth:d}}(s,u,c,m,g,b,w,a,i),E=o?f*d:f;let T;return"channelsFirst"===i?T=[l,E,S,k]:"channelsLast"===i&&(T=[l,S,k,E]),{batchSize:l,dataFormat:i,inHeight:u,inWidth:c,inChannels:d,outHeight:S,outWidth:k,outChannels:E,padInfo:x,strideHeight:m,strideWidth:g,filterHeight:h,filterWidth:p,effectiveFilterHeight:b,effectiveFilterWidth:w,dilationHeight:y,dilationWidth:v,inShape:e,outShape:T,filterShape:t}}function Im(e,t,n){const r=Lm(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+r)/2)}function Mm(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function Lm(e,t){return t<=1?e:e+(e-1)*(t-1)}function Fm(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function jm(e){const[t,n,r]=Mm(e);return 1===t&&1===n&&1===r}function $m(e,t){return jm(e)||jm(t)}function Bm(e){return Mm(e).every((e=>e>0))}function zm(e,t,n){if(null!=n){if("string"===typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"===typeof t)Ad(Id(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`));else{if("object"!==typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach((t=>{t.forEach((t=>{Ad(Id(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`))}))}))}}}const Vm=gp({reshape_:function(e,t){const n={x:pp(e,"x","reshape","string_or_numeric")},r={shape:t};return ip.runKernel("Reshape",n,r)}});const Um=gp({avgPool_:function(e,t,n,r,s){const a=pp(e,"x","avgPool","float32");Ad($m(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let o=a,i=!1;3===a.rank&&(i=!0,o=Vm(a,[1,a.shape[0],a.shape[1],a.shape[2]])),Ad(4===o.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${o.rank}.`)),zm("avgPool",r,s);const l={x:o},u={filterSize:t,strides:n,pad:r,dimRoundingMode:s};let c=ip.runKernel("AvgPool",l,u);return c=Af(c,a.dtype),i?Vm(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const Wm=gp({avgPool3d_:function(e,t,n,r,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const o=pp(e,"x","avgPool3d","float32");let i=o,l=!1;4===o.rank&&(l=!0,i=Vm(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),Ad(5===i.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${i.rank}.`)),Ad("NDHWC"===a,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`)),Ad("number"===typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,(()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`)),zm("avgPool3d",r,s);const u={x:i},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s,dataFormat:a};let d=ip.runKernel("AvgPool3D",u,c);return d=Af(d,i.dtype),l?Vm(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const qm=gp({concat_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Ad(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=fp(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===n.length)return Of(n[0]);const r=n,s={axis:t};return ip.runKernel("Concat",r,s)}});const Hm=gp({matMul_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=pp(e,"a","matMul"),a=pp(t,"b","matMul");[s,a]=ep(s,a);const o={a:s,b:a},i={transposeA:n,transposeB:r};return ip.runKernel("BatchMatMul",o,i)}});const Km=gp({sigmoid_:function(e){const t={x:pp(e,"x","sigmoid","float32")};return ip.runKernel("Sigmoid",t)}});const Gm=gp({slice_:function(e,t,n){const r=pp(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");const s={x:r},a={begin:t,size:n};return ip.runKernel("Slice",s,a)}});const Ym=gp({tanh_:function(e){const t={x:pp(e,"x","tanh","float32")};return ip.runKernel("Tanh",t)}});const Qm=gp({basicLSTMCell_:function(e,t,n,r,s,a){const o=pp(e,"forgetBias","basicLSTMCell"),i=pp(t,"lstmKernel","basicLSTMCell"),l=pp(n,"lstmBias","basicLSTMCell"),u=pp(r,"data","basicLSTMCell"),c=pp(s,"c","basicLSTMCell"),d=pp(a,"h","basicLSTMCell"),h=qm([u,d],1),p=Hm(h,i),f=Pf(p,l),m=f.shape[0],g=f.shape[1]/4,y=[m,g],v=Gm(f,[0,0],y),b=Gm(f,[0,g],y),w=Gm(f,[0,2*g],y),x=Gm(f,[0,3*g],y),S=Pf(Mf(Km(v),Ym(b)),Mf(c,Km(Pf(o,w))));return[S,Mf(Ym(S),Km(x))]}});const Xm=gp({batchToSpaceND_:function(e,t,n){const r=pp(e,"x","batchToSpaceND"),s=t.reduce(((e,t)=>e*t));Ad(r.rank>=1+t.length,(()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`)),Ad(n.length===t.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`)),Ad(r.shape[0]%s===0,(()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${s}`));const a={x:r},o={blockShape:t,crops:n};return ip.runKernel("BatchToSpaceND",a,o)}});const Jm=gp({batchNorm_:function(e,t,n,r,s,a){null==a&&(a=.001);const o=pp(e,"x","batchNorm"),i=pp(t,"mean","batchNorm"),l=pp(n,"variance","batchNorm");let u,c;null!=s&&(u=pp(s,"scale","batchNorm")),null!=r&&(c=pp(r,"offset","batchNorm")),Ad(i.rank===l.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),Ad(null==c||i.rank===c.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),Ad(null==u||i.rank===u.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const d={x:function(e){let t;return t=0===e.rank||1===e.rank?Vm(e,[1,1,1,e.size]):2===e.rank?Vm(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?Vm(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(o),scale:u,offset:c,mean:i,variance:l},h={varianceEpsilon:a},p=ip.runKernel("FusedBatchNorm",d,h);return Vm(p,o.shape)}});const Zm=gp({batchNorm2d_:function(e,t,n,r,s,a){const o=pp(e,"x","batchNorm"),i=pp(t,"mean","batchNorm"),l=pp(n,"variance","batchNorm");let u,c;return null!=s&&(u=pp(s,"scale","batchNorm")),null!=r&&(c=pp(r,"offset","batchNorm")),Ad(2===o.rank,(()=>`Error in batchNorm2D: x must be rank 2 but got rank ${o.rank}.`)),Ad(2===i.rank||1===i.rank,(()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${i.rank}.`)),Ad(2===l.rank||1===l.rank,(()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`)),null!=u&&Ad(2===u.rank||1===u.rank,(()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`)),null!=c&&Ad(2===c.rank||1===c.rank,(()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`)),Jm(o,i,l,c,u,a)}});const eg=gp({batchNorm3d_:function(e,t,n,r,s,a){const o=pp(e,"x","batchNorm"),i=pp(t,"mean","batchNorm"),l=pp(n,"variance","batchNorm");let u,c;return null!=s&&(u=pp(s,"scale","batchNorm")),null!=r&&(c=pp(r,"offset","batchNorm")),Ad(3===o.rank,(()=>`Error in batchNorm3D: x must be rank 3 but got rank ${o.rank}.`)),Ad(3===i.rank||1===i.rank,(()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${i.rank}.`)),Ad(3===l.rank||1===l.rank,(()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`)),null!=u&&Ad(3===u.rank||1===u.rank,(()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`)),null!=c&&Ad(3===c.rank||1===c.rank,(()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`)),Jm(o,i,l,c,u,a)}});const tg=gp({batchNorm4d_:function(e,t,n,r,s,a){const o=pp(e,"x","batchNorm"),i=pp(t,"mean","batchNorm"),l=pp(n,"variance","batchNorm");let u,c;return null!=s&&(u=pp(s,"scale","batchNorm")),null!=r&&(c=pp(r,"offset","batchNorm")),Ad(4===o.rank,(()=>`Error in batchNorm4D: x must be rank 4 but got rank ${o.rank}.`)),Ad(4===i.rank||1===i.rank,(()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${i.rank}.`)),Ad(4===l.rank||1===l.rank,(()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`)),null!=u&&Ad(4===u.rank||1===u.rank,(()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`)),null!=c&&Ad(4===c.rank||1===c.rank,(()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`)),Jm(o,i,l,c,u,a)}});const ng=gp({bincount_:function(e,t,n){const r=pp(e,"x","bincount"),s=pp(t,"weights","bincount");Ad("int32"===r.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`)),Ad(n>=0,(()=>`size must be non-negative, but got ${n}.`)),Ad(s.size===r.size||0===s.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${s.shape}.`));const a={x:r,weights:s},o={size:n};return ip.runKernel("Bincount",a,o)}});const rg=gp({bitwiseAnd_:function(e,t){const n=pp(e,"x","bitwiseAnd"),r=pp(t,"y","bitwiseAnd");if(!Dd(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if("int32"!==n.dtype||"int32"!==r.dtype)throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);const s={a:n,b:r};return ip.runKernel("BitwiseAnd",s)}});const sg=gp({broadcastArgs_:function(e,t){const n=pp(e,"s0","broadcastArgs","int32"),r=pp(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(1!==r.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const s={s0:n,s1:r};return ip.runKernel("BroadcastArgs",s)}});const ag=gp({broadcastTo_:function(e,t){let n=pp(e,"broadcastTo","x");const r=n.shape;if(Kd(t),t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=Vm(n,e)}const s=n.shape,a=Array.from(t);for(let l=t.length-1;l>=0;l--)if(s[l]===t[l])a[l]=1;else if(1!==n.shape[l])throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);if(0===a.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return Of(n);const o={x:n},i={reps:a};return ip.runKernel(lh,o,i)}});const og=gp({ceil_:function(e){const t={x:pp(e,"x","ceil","float32")};return ip.runKernel("Ceil",t)}});const ig=gp({clipByValue_:function(e,t,n){const r=pp(e,"x","clipByValue");if(Ad(t<=n,(()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`)),t===n)return Kf(r.shape,t,r.dtype);const s={x:r},a={clipValueMin:t,clipValueMax:n};return ip.runKernel("ClipByValue",s,a)}});const lg=gp({concat1d_:function(e){return qm(e,0)}});const ug=gp({concat2d_:function(e,t){return qm(e,t)}});const cg=gp({concat3d_:function(e,t){return qm(e,t)}});const dg=gp({concat4d_:function(e,t){return qm(e,t)}});const hg=gp({conv2d_:function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0;const i=pp(e,"x","conv2d","float32"),l=pp(t,"filter","conv2d","float32");let u=i,c=!1;3===i.rank&&(c=!0,u=Vm(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Ad(4===u.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`)),Ad(4===l.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`)),zm("conv2d",r,o);const d="NHWC"===s?u.shape[3]:u.shape[1];Ad(d===l.shape[2],(()=>`Error in conv2d: depth of input (${d}) must match input depth for filter ${l.shape[2]}.`)),Ad($m(n,a),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`)),Ad(Bm(a),(()=>"Error in conv2D: Dilated rates should be larger than 0.")),Ad(Bm(n),(()=>"Error in conv2D: Strides should be larger than 0."));const h={x:u,filter:l},p={strides:n,pad:r,dataFormat:s,dilations:a,dimRoundingMode:o},f=ip.runKernel("Conv2D",h,p);return c?Vm(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const pg=gp({conv1d_:function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6?arguments[6]:void 0;const i=pp(e,"x","conv1d"),l=pp(t,"filter","conv1d");let u=i,c=!1;2===i.rank&&(c=!0,u=Vm(i,[1,i.shape[0],i.shape[1]])),Ad(3===u.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`)),Ad(3===l.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`)),zm("conv1d",r,o),Ad(u.shape[2]===l.shape[1],(()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`)),Ad($m(n,a),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${a}'`)),Ad(Bm(a),(()=>"Error in conv1D: Dilated rates should be larger than 0.")),Ad(Bm(n),(()=>"Error in conv1D: Stride should be larger than 0.")),Ad("NWC"===s,(()=>`Error in conv1d: got dataFormat of ${s} but only NWC is currently supported.`));const d=Vm(l,[1,l.shape[0],l.shape[1],l.shape[2]]),h=Vm(u,[u.shape[0],1,u.shape[1],u.shape[2]]),p=hg(h,d,[1,n],r,"NHWC",[1,a],o);return Vm(p,c?[p.shape[2],p.shape[3]]:[p.shape[0],p.shape[2],p.shape[3]])}});const fg=gp({conv2DBackpropInput_:function(e,t,n,r,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",o=arguments.length>6?arguments[6]:void 0;Ad(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let i=e,l=t,u=!1;3===t.rank&&(u=!0,l=Vm(t,[1,t.shape[0],t.shape[1],t.shape[2]]),i=[1,e[0],e[1],e[2]]),Ad(4===i.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${i.length}.`)),Ad(4===l.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`)),Ad(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const c="NHWC"===a?i[3]:i[1],d="NHWC"===a?l.shape[3]:l.shape[1];Ad(c===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`)),Ad(d===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${d}) must match output depth for filter ${n.shape[3]}.`)),zm("conv2dDerInput",s,o);const h={dy:l,filter:n},p={strides:r,pad:s,dataFormat:a,dimRoundingMode:o,inputShape:i},f=ip.runKernel("Conv2DBackpropInput",h,p);return u?Vm(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const mg=gp({conv2dTranspose_:function(e,t,n,r,s,a){const o=pp(e,"x","conv2dTranspose"),i=pp(t,"filter","conv2dTranspose");return fg(n,o,i,r,s,"NHWC",a)}});const gg=gp({conv3d_:function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1];const o=pp(e,"x","conv3d"),i=pp(t,"filter","conv3d");let l=o,u=!1;4===o.rank&&(u=!0,l=Vm(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),Ad(5===l.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`)),Ad(5===i.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${i.rank}.`)),Ad(l.shape[4]===i.shape[3],(()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${i.shape[3]}.`)),Ad($m(n,a),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`)),Ad("NDHWC"===s,(()=>`Error in conv3d: got dataFormat of ${s} but only NDHWC is currently supported.`)),Ad(Bm(a),(()=>"Error in conv3D: Dilated rates should be larger than 0.")),Ad(Bm(n),(()=>"Error in conv3D: Strides should be larger than 0."));const c={x:l,filter:i},d={strides:n,pad:r,dataFormat:s,dilations:a},h=ip.runKernel("Conv3D",c,d);return u?Vm(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});const yg=gp({conv3DBackpropInput_:function(e,t,n,r,s){Ad(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let a=e,o=t,i=!1;4===t.rank&&(i=!0,o=Vm(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),a=[1,e[0],e[1],e[2],e[3]]);const l=a[4],u=o.shape[4];Ad(5===a.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${a.length}.`)),Ad(5===o.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${o.rank}`)),Ad(5===n.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`)),Ad(l===n.shape[3],(()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`)),Ad(u===n.shape[4],(()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`));const c={dy:o,filter:n},d={pad:s,strides:r,inputShape:a},h=ip.runKernel("Conv3DBackpropInputV2",c,d);return i?Vm(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});const vg=gp({conv3dTranspose_:function(e,t,n,r,s){const a=pp(e,"x","conv3dTranspose"),o=pp(t,"filter","conv3dTranspose");return yg(n,a,o,r,s)}});const bg=gp({cos_:function(e){const t={x:pp(e,"x","cos","float32")};return ip.runKernel("Cos",t)}});const wg=gp({cosh_:function(e){const t={x:pp(e,"x","cosh","float32")};return ip.runKernel("Cosh",t)}});const xg=gp({cumprod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s={x:pp(e,"x","cumprod")},a={axis:t,exclusive:n,reverse:r};return ip.runKernel("Cumprod",s,a)}});const Sg=gp({cumsum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s={x:pp(e,"x","cumsum")},a={axis:t,exclusive:n,reverse:r};return ip.runKernel("Cumsum",s,a)}});const kg=gp({denseBincount_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=pp(e,"x","denseBincount"),a=pp(t,"weights","denseBincount");Ad("int32"===s.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${s.dtype}`)),Ad(s.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${s.rank}.`)),Ad(n>=0,(()=>`size must be non-negative, but got ${n}.`)),Ad(a.size===s.size||0===a.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${s.shape}, weights shape: ${a.shape}.`));const o={x:s,weights:a},i={size:n,binaryOutput:r};return ip.runKernel("DenseBincount",o,i)}});const Eg=gp({depthToSpace_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC";const r=pp(e,"x","depthToSpace","float32"),s="NHWC"===n?r.shape[1]:r.shape[2],a="NHWC"===n?r.shape[2]:r.shape[3],o="NHWC"===n?r.shape[3]:r.shape[1];Ad(t>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`)),Ad(s*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${s} and ${t}  for depthToSpace with input shape\n    ${r.shape}`)),Ad(a*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${a} and ${t} for depthToSpace with input shape\n        ${r.shape}`)),Ad(o%(t*t)===0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${o} for depthToSpace with input shape ${r.shape}`));const i={x:r},l={blockSize:t,dataFormat:n};return ip.runKernel("DepthToSpace",i,l)}});const Tg=gp({depthwiseConv2d_:function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0;const i=pp(e,"x","depthwiseConv2d","float32"),l=pp(t,"filter","depthwiseConv2d","float32");let u=i,c=!1;3===i.rank&&(c=!0,u=Vm(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Ad(4===u.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`)),Ad(4===l.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`));const d="NHWC"===s?u.shape[3]:u.shape[1];Ad(d===l.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${d}) must match the inChannels dimension in filter ${l.shape[2]}.`)),zm("depthwiseConv2d",r,o);const h={x:u,filter:l},p={strides:n,pad:r,dataFormat:s,dilations:a,dimRoundingMode:o},f=ip.runKernel("DepthwiseConv2dNative",h,p);return c?Vm(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const Ng=gp({diag_:function(e){const t={x:pp(e,"x","diag")};return ip.runKernel("Diag",t)}});const _g=gp({dilation2d_:function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC";const o=pp(e,"x","dilation2d"),i=pp(t,"filter","dilation2d");Ad(3===o.rank||4===o.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${o.rank}.`)),Ad(3===i.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${i.rank}.`)),Ad("NHWC"===a,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${a}`));let l=o,u=!1;3===o.rank&&(l=Vm(o,[1,o.shape[0],o.shape[1],o.shape[2]]),u=!0),Ad(l.shape[3]===i.shape[2],(()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${i.shape[2]}`));const c={x:l,filter:i},d={strides:n,pad:r,dilations:s},h=ip.runKernel("Dilation2D",c,d);return u?Vm(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});const Cg=gp({equal_:function(e,t){let n=pp(e,"a","equal","string_or_numeric"),r=pp(t,"b","equal","string_or_numeric");[n,r]=ep(n,r),Xf(n.shape,r.shape);const s={a:n,b:r};return ip.runKernel("Equal",s)}});const Ag=gp({where_:function(e,t,n){const r=pp(t,"a","where"),s=pp(n,"b","where"),a=pp(e,"condition","where","bool"),o=Xf(Xf(a.shape,r.shape),s.shape),i={condition:ag(a,o),t:ag(r,o),e:ag(s,o)};return ip.runKernel("Select",i)}});const Og=gp({divNoNan_:function(e,t){let n=pp(e,"a","div"),r=pp(t,"b","div");[n,r]=ep(n,r);const s=If(n,r),a=jf(s),o=Cg(r,a);return Ag(o,a,s)}});const Rg=gp({dot_:function(e,t){const n=pp(e,"t1","dot"),r=pp(t,"t2","dot");Ad((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`));const s=1===n.rank?n.size:n.shape[1],a=1===r.rank?r.size:r.shape[0];if(Ad(s===a,(()=>`Error in dot: inner dimensions of inputs must match, but got ${s} and ${a}.`)),1===n.rank&&1===r.rank){const e=Vm(n,[1,-1]),t=Vm(r,[-1,1]),s=Hm(e,t);return Vm(s,[])}if(1===n.rank&&2===r.rank){const e=Vm(n,[1,-1]),t=Vm(r,[r.shape[0],r.shape[1]]),s=Hm(e,t);return Vm(s,[s.size])}if(2===n.rank&&1===r.rank){const e=Vm(r,[-1,1]),t=Hm(n,e);return Vm(t,[t.size])}{const e=Vm(r,[r.shape[0],r.shape[1]]);return Hm(n,e)}}});const Pg=gp({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(((e,t)=>pp(e,`tensors${t}`,"einsum"))),a={equation:e};return ip.runKernel("Einsum",s,a)}});const Dg=gp({elu_:function(e){const t={x:pp(e,"x","elu","float32")};return ip.runKernel("Elu",t)}});const Ig=gp({ensureShape_:function(e,t){const n=pp(e,"x","ensureShape","string_or_numeric");if(!function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(null!==e[n]&&null!==t[n]&&e[n]!==t[n])return!1;return!0}(n.shape,t))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${t}`);return e}});const Mg=gp({erf_:function(e){let t=pp(e,"x","erf");Ad("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=Af(t,"float32"));const n={x:t};return ip.runKernel("Erf",n)}});function Lg(e,t){return function(e,t,n){const r=e.length+t.length,s=[];let a=0,o=0;for(let i=0;i<r;i++)-1===n.indexOf(i)?s.push(e[a++]):s.push(t[o++]);return s}(e,t.map((e=>1)),t)}const Fg=gp({max_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:pp(e,"x","max")},s={reductionIndices:t,keepDims:n};return ip.runKernel("Max",r,s)}});const jg=gp({min_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:pp(e,"x","min")},s={axis:t,keepDims:n};return ip.runKernel("Min",r,s)}});const $g=gp({sum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=pp(e,"x","sum");"bool"===r.dtype&&(r=Af(r,"int32"));const s={x:r},a={axis:t,keepDims:n};return ip.runKernel("Sum",s,a)}});function Bg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return Qf(e);if(1!==e.rank&&null===n)return Bg(Vm(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return $g(Qf(e),n);if(t===1/0)return Fg(Qf(e),n);if(t===-1/0)return jg(Qf(e),n);if("euclidean"===t||2===t)return Lf($g(Gf(Qf(e),Bf(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return Fg($g(Qf(e),n[0]),n[1]-1);if(t===1/0)return Fg($g(Qf(e),n[1]),n[0]);if(t===-1/0)return jg($g(Qf(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return Lf($g(Ff(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const zg=gp({norm_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=Bg(e=pp(e,"x","norm"),t,n);let a=s.shape;if(r){const t=Ld(n,e.shape);a=Lg(s.shape,t)}return Vm(s,a)}});const Vg=gp({euclideanNorm_:function(e){return zg(e,"euclidean",arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}});const Ug=gp({exp_:function(e){const t={x:pp(e,"x","exp")};return ip.runKernel("Exp",t)}});const Wg=gp({expandDims_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=pp(e,"x","expandDims","string_or_numeric");Ad(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const r={input:n},s={dim:t};return ip.runKernel("ExpandDims",r,s)}});const qg=gp({expm1_:function(e){const t={x:pp(e,"x","expm1")};return ip.runKernel("Expm1",t)}});const Hg=gp({tile_:function(e,t){const n=pp(e,"x","tile","string_or_numeric");Ad(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`));const r={x:n},s={reps:t};return ip.runKernel(lh,r,s)}});const Kg=gp({eye_:function(e,t,n){null==t&&(t=e);const r=Cf([e,t],arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32"),s=e<=t?e:t;for(let o=0;o<s;++o)r.set(1,o,o);const a=Vm(r.toTensor(),[e,t]);if(null==n)return a;if(1===n.length)return Hg(Wg(a,0),[n[0],1,1]);if(2===n.length)return Hg(Wg(Wg(a,0),0),[n[0],n[1],1,1]);if(3===n.length)return Hg(Wg(Wg(Wg(a,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});const Gg=gp({floor_:function(e){const t={x:pp(e,"x","floor","float32")};return ip.runKernel("Floor",t)}});const Yg=gp({gather_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const s={x:pp(e,"x","gather"),indices:pp(t,"indices","gather","int32")},a={axis:n,batchDims:r};return ip.runKernel("GatherV2",s,a)}});const Qg=gp({greater_:function(e,t){let n=pp(e,"a","greater","string_or_numeric"),r=pp(t,"b","greater","string_or_numeric");[n,r]=ep(n,r),Xf(n.shape,r.shape);const s={a:n,b:r};return ip.runKernel("Greater",s)}});const Xg=gp({greaterEqual_:function(e,t){let n=pp(e,"a","greaterEqual","string_or_numeric"),r=pp(t,"b","greaterEqual","string_or_numeric");[n,r]=ep(n,r),Xf(n.shape,r.shape);const s={a:n,b:r};return ip.runKernel("GreaterEqual",s)}});const Jg=gp({imag_:function(e){const t={input:pp(e,"input","imag")};return ip.runKernel("Imag",t)}});const Zg=gp({isFinite_:function(e){const t={x:pp(e,"x","isFinite")};return ip.runKernel("IsFinite",t)}});const ey=gp({isInf_:function(e){const t={x:pp(e,"x","isInf")};return ip.runKernel("IsInf",t)}});const ty=gp({isNaN_:function(e){const t={x:pp(e,"x","isNaN")};return ip.runKernel("IsNan",t)}});const ny=gp({leakyRelu_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;const n={x:pp(e,"x","leakyRelu")},r={alpha:t};return ip.runKernel("LeakyRelu",n,r)}});const ry=gp({less_:function(e,t){let n=pp(e,"a","less","string_or_numeric"),r=pp(t,"b","less","string_or_numeric");[n,r]=ep(n,r),Xf(n.shape,r.shape);const s={a:n,b:r};return ip.runKernel("Less",s)}});const sy=gp({lessEqual_:function(e,t){let n=pp(e,"a","lessEqual","string_or_numeric"),r=pp(t,"b","lessEqual","string_or_numeric");[n,r]=ep(n,r),Xf(n.shape,r.shape);const s={a:n,b:r};return ip.runKernel("LessEqual",s)}});function ay(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:e,stop:t,num:n};return ip.runKernel(oh,{},r)}const oy=gp({localResponseNormalization_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;const a=pp(e,"x","localResponseNormalization");Ad(4===a.rank||3===a.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${a.rank}.`)),Ad(Id(t),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`));let o=a,i=!1;3===a.rank&&(i=!0,o=Vm(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const l={x:o},u={depthRadius:t,bias:n,alpha:r,beta:s},c=ip.runKernel("LRN",l,u);return i?Vm(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const iy=gp({log_:function(e){const t={x:pp(e,"x","log","float32")};return ip.runKernel("Log",t)}});const ly=gp({log1p_:function(e){const t={x:pp(e,"x","log1p")};return ip.runKernel("Log1p",t)}});const uy=gp({neg_:function(e){const t={x:pp(e,"x","neg")};return ip.runKernel("Neg",t)}});const cy=gp({softplus_:function(e){const t={x:pp(e,"x","softplus")};return ip.runKernel("Softplus",t)}});const dy=gp({logSigmoid_:function(e){const t=pp(e,"x","logSigmoid");return $f((e=>({value:uy(cy(uy(e))),gradFunc:t=>Mf(t,Km(uy(e)))})))(t)}});const hy=gp({logSoftmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=pp(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);const r=$f(((e,n)=>{const r=Fg(e,t,!0),s=Yf(e,r),a=Yf(Af(s,"float32"),iy($g(Ug(s),t,!0)));n([a]);return{value:a,gradFunc:(e,n)=>{const[r]=n,s=Ug(r);return Yf(e,Mf($g(e,t,!0),s))}}}));return r(n)}});const py=gp({logSumExp_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=pp(e,"x","logSumExp"),s=Ld(t,r.shape),a=Fg(r,s,!0),o=Yf(r,a),i=Ug(o),l=$g(i,s),u=iy(l),c=Pf(Vm(a,u.shape),u);if(n){const e=Lg(c.shape,s);return Vm(c,e)}return c}});const fy=gp({logicalAnd_:function(e,t){const n=pp(e,"a","logicalAnd","bool"),r=pp(t,"b","logicalAnd","bool");Xf(n.shape,r.shape);const s={a:n,b:r};return ip.runKernel("LogicalAnd",s)}});const my=gp({logicalNot_:function(e){const t={x:pp(e,"x","logicalNot","bool")};return ip.runKernel("LogicalNot",t)}});const gy=gp({logicalOr_:function(e,t){const n=pp(e,"a","logicalOr","bool"),r=pp(t,"b","logicalOr","bool");Xf(n.shape,r.shape);const s={a:n,b:r};return ip.runKernel("LogicalOr",s)}});const yy=gp({logicalXor_:function(e,t){const n=pp(e,"a","logicalXor","bool"),r=pp(t,"b","logicalXor","bool");return Xf(n.shape,r.shape),fy(gy(e,t),my(fy(e,t)))}}),vy=2147483648;const by=gp({searchSorted_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";const r=pp(e,"sortedSequence","searchSorted"),s=pp(t,"values","searchSorted"),a=r.shape[r.shape.length-1],o=s.shape[s.shape.length-1],i=Vm(r,[-1,a]),l=Vm(s,[-1,o]);if(i.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(i.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Pd(l.shape)>=vy)throw new Error("values tensor size must less than 2147483648");if(i.shape[1]>=vy)throw new Error(`trailing dim_size must less than 2147483648 for int32 output type, was ${i.shape[1]}`);const u={sortedSequence:i,values:l},c={side:n};return ip.runKernel("SearchSorted",u,c)}});function wy(e,t){return by(e,t,"left")}const xy=gp({maxPool_:function(e,t,n,r,s){const a=pp(e,"x","maxPool");let o=a,i=!1;3===a.rank&&(i=!0,o=Vm(a,[1,a.shape[0],a.shape[1],a.shape[2]])),Ad(4===o.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${o.rank}.`)),Ad($m(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),zm("maxPool",r,s);const l={x:o},u={filterSize:t,strides:n,pad:r,dimRoundingMode:s},c=ip.runKernel("MaxPool",l,u);return i?Vm(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const Sy=gp({maxPool3d_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const o=pp(e,"x","maxPool3d");let i=o,l=!1;4===o.rank&&(l=!0,i=Vm(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),Ad(5===i.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${i.rank}.`)),Ad("NDHWC"===a,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`)),zm("maxPool3d",r,s);const u={x:i},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s,dataFormat:a},d=ip.runKernel("MaxPool3D",u,c);return l?Vm(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const ky=gp({maxPoolWithArgmax_:function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a={x:pp(e,"x","maxPoolWithArgmax")},o={filterSize:t,strides:n,pad:r,includeBatchInIndex:s},i=ip.runKernel("MaxPoolWithArgmax",a,o);return{result:i[0],indexes:i[1]}}});const Ey=gp({mean_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:pp(e,"x","mean")},s={axis:t,keepDims:n};return ip.runKernel("Mean",r,s)}});function Ty(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(Kd(e),"complex64"===t){const t=Ty(e,"float32"),n=Ty(e,"float32");return yp(t,n)}const n=Hd(Pd(e),t);return ip.makeTensor(n,e,t)}function Ny(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(Kd(e),"complex64"===t){const t=Ny(e,"float32"),n=Ty(e,"float32");return yp(t,n)}const n=qd(Pd(e),t);return ip.makeTensor(n,e,t)}function _y(e,t){let{indexing:n="xy"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("xy"!==n&&"ij"!==n)throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(void 0===e)return[];let r=pp(e,"x","meshgrid",e instanceof Vh?e.dtype:"float32");if(void 0===t)return[r];let s=pp(t,"y","meshgrid",t instanceof Vh?t.dtype:"float32");const a=Pd(r.shape),o=Pd(s.shape);return"xy"===n?(r=Vm(r,[1,-1]),s=Vm(s,[-1,1]),[Hm(Ny([o,1],r.dtype),r),Hm(s,Ny([1,a],s.dtype))]):(r=Vm(r,[-1,1]),s=Vm(s,[1,-1]),[Hm(r,Ny([1,o],r.dtype)),Hm(Ny([a,1],s.dtype),s)])}const Cy=gp({minimum_:function(e,t){let n=pp(e,"a","minimum"),r=pp(t,"b","minimum");[n,r]=ep(n,r),"bool"===n.dtype&&(n=Af(n,"int32"),r=Af(r,"int32")),Xf(n.shape,r.shape);const s={a:n,b:r};return ip.runKernel("Minimum",s)}});const Ay=gp({mirrorPad_:function(e,t,n){Ad("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const r=pp(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");Ad(t.length===r.rank,(()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`));const s="reflect"===n?1:0;for(let i=0;i<r.rank;i++)Ad(2===t[i].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Ad(t[i][0]>=0&&t[i][0]<=r.shape[i]-s&&t[i][1]>=0&&t[i][1]<=r.shape[i]-s,(()=>`Padding in dimension ${i} cannot be greater than or equal to ${r.shape[i]-s} or less than 0 for input of shape ${r.shape}`));const a={paddings:t,mode:n},o={x:r};return ip.runKernel("MirrorPad",o,a)}});const Oy=gp({mod_:function(e,t){let n=pp(e,"a","mod"),r=pp(t,"b","mod");[n,r]=ep(n,r);const s={a:n,b:r};return ip.runKernel("Mod",s)}});const Ry=gp({moments_:function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=Ld(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=pp(e,"x","moments")).shape),r=Ey(e,n,t);let s=r.shape;t||(s=Lg(r.shape,n));const a=Ff(Yf(Af(e,"float32"),Vm(r,s)));return{mean:r,variance:Ey(a,n,t)}}});const Py=gp({multiRNNCell_:function(e,t,n,r){const s=pp(t,"data","multiRNNCell"),a=fp(n,"c","multiRNNCell"),o=fp(r,"h","multiRNNCell");let i=s;const l=[];for(let d=0;d<e.length;d++){const t=e[d](i,a[d],o[d]);l.push(t[0]),l.push(t[1]),i=t[1]}const u=[],c=[];for(let d=0;d<l.length;d+=2)u.push(l[d]),c.push(l[d+1]);return[u,c]}});const Dy=gp({multinomial_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=pp(e,"logits","multinomial"),a=s.size,o=s.rank;if(a<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${a}.`);if(o>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${o}`);n=n||Math.random();const i={logits:1===o?Vm(s,[1,-1]):s},l={numSamples:t,seed:n,normalized:r},u=ip.runKernel("Multinomial",i,l);return 1===o?Vm(u,[u.size]):u}});const Iy=gp({notEqual_:function(e,t){let n=pp(e,"a","notEqual","string_or_numeric"),r=pp(t,"b","notEqual","string_or_numeric");[n,r]=ep(n,r),Xf(n.shape,r.shape);const s={a:n,b:r};return ip.runKernel("NotEqual",s)}});const My=gp({oneHot_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const a={indices:pp(e,"indices","oneHot","int32")},o={dtype:s,depth:t,onValue:n,offValue:r};return ip.runKernel("OneHot",a,o)}});const Ly=gp({onesLike_:function(e){const t={x:pp(e,"x","onesLike")};return ip.runKernel("OnesLike",t)}});const Fy=gp({outerProduct_:function(e,t){const n=pp(e,"v1","outerProduct"),r=pp(t,"v2","outerProduct");Ad(1===n.rank&&1===r.rank,(()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`));const s=Vm(n,[-1,1]),a=Vm(r,[1,-1]);return Hm(s,a)}});const jy=gp({pad_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=pp(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const s={paddings:t,constantValue:n},a={x:r};return ip.runKernel("PadV2",a,s)}});const $y=gp({pad1d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Ad(2===t.length,(()=>"Invalid number of paddings. Must be length of 2.")),jy(e,[t],n)}});const By=gp({pad2d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Ad(2===t.length&&2===t[0].length&&2===t[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),jy(e,t,n)}});const zy=gp({pad3d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Ad(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),jy(e,t,n)}});const Vy=gp({pad4d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Ad(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),jy(e,t,n)}});const Uy=gp({spaceToBatchND_:function(e,t,n){const r=pp(e,"x","spaceToBatchND");Ad(r.rank>=1+t.length,(()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`)),Ad(n.length===t.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`)),Ad(r.shape.reduce(((e,r,s)=>s>0&&s<=t.length?e&&(r+n[s-1][0]+n[s-1][1])%t[s-1]===0:e),!0),(()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`));const s={x:r},a={blockShape:t,paddings:n};return ip.runKernel("SpaceToBatchND",s,a)}});const Wy=gp({pool_:function(e,t,n,r,s,a,o){null==s&&(s=[1,1]),null==a&&(a=1),0===r&&(r="valid");const i=pp(e,"x","maxPool");let l=i,u=!1;3===i.rank&&(u=!0,l=Vm(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Ad($m(a,s),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${a} and dilations '${s}'`));const c=function(e,t,n,r,s,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast";const[i,l]=Mm(t);let u;if("channelsLast"===o)u=[i,l,e[3],e[3]];else{if("channelsFirst"!==o)throw new Error(`Unknown dataFormat ${o}`);u=[i,l,e[1],e[1]]}return Dm(e,u,n,r,s,a,!1,o)}(l.shape,t,a,s,r),d=[c.dilationHeight,c.dilationWidth];let h;h="same"===r?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))),r=n.map((e=>e-1)),s=r.map((e=>Math.floor(e/2))),a=r.map(((e,t)=>e-s[t]));return r.map(((e,t)=>[s[t],a[t]]))}([c.filterHeight,c.filterWidth],d):[[0,0],[0,0]];const p=1===d[0]&&1===d[1],[f,m]=function(e,t,n){const r=n.map((e=>e[0])),s=n.map((e=>e[1])),a=e.concat(r,s),o=t.map(((e,t)=>(e-a[t]%e)%e)),i=s.map(((e,t)=>e+o[t])),l=t.map(((e,t)=>[r[t],i[t]])),u=t.map(((e,t)=>[0,o[t]]));return[l,u]}([c.inHeight,c.inWidth],d,h),g=p?r:"valid",y=p?l:Uy(l,d,f),v=("avg"===n?()=>Um(y,t,a,g,o):()=>xy(y,t,a,g,o))(),b=p?v:Xm(v,d,m);return u?Vm(b,[b.shape[1],b.shape[2],b.shape[3]]):b}});const qy=gp({prelu_:function(e,t){const n={x:pp(e,"x","prelu"),alpha:pp(t,"alpha","prelu")};return ip.runKernel("Prelu",n)}});const Hy=gp({prod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=pp(e,"x","prod");"bool"===r.dtype&&(r=Af(r,"int32"));const s={x:r},a={axis:t,keepDims:n};return ip.runKernel("Prod",s,a)}});const Ky=gp({raggedGather_:function(e,t,n,r){const s={paramsNestedSplits:e.map(((e,t)=>pp(e,`tensors${t}`,"raggedGather","int32"))),paramsDenseValues:pp(t,"paramsDenseValues","raggedGather"),indices:pp(n,"indices","raggedGather","int32")},a={outputRaggedRank:r},o=ip.runKernel("RaggedGather",s,a);return{outputNestedSplits:o.slice(0,o.length-1),outputDenseValues:o[o.length-1]}}});const Gy=gp({raggedRange_:function(e,t,n){const r=pp(e,"starts","raggedRange"),s={starts:r,limits:pp(t,"limits","raggedRange",r.dtype),deltas:pp(n,"deltas","raggedRange",r.dtype)},a=ip.runKernel("RaggedRange",s);return{rtNestedSplits:a[0],rtDenseValues:a[1]}}});const Yy=gp({raggedTensorToTensor_:function(e,t,n,r,s){const a=pp(e,"shape","raggedTensorToTensor","int32"),o=pp(t,"values","raggedTensorToTensor"),i={shape:a,values:o,defaultValue:pp(n,"defaultValue","raggedTensorToTensor",o.dtype),rowPartitionTensors:r.map(((e,t)=>pp(e,`tensors${t}`,"raggedTensorToTensor","int32")))},l={rowPartitionTypes:s};return ip.runKernel("RaggedTensorToTensor",i,l)}});const Qy=gp({rand_:function(e,t,n){Kd(e);const r=Pd(e);let s=null;if(null==n||"float32"===n)s=new Float32Array(r);else if("int32"===n)s=new Int32Array(r);else{if("bool"!==n)throw new Error(`Unknown data type ${n}`);s=new Uint8Array(r)}for(let a=0;a<r;a++)s[a]=t();return ip.makeTensor(s,e,n)}});var Xy=n(185);class Jy{constructor(e,t,n,r,s){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const a=s||Math.random();this.random=Xy.alea(a.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,s,a;do{r=2*this.random()-1,s=2*this.random()-1,a=r*r+s*s}while(a>=1||0===a);const o=Math.sqrt(-2*Math.log(a)/a);e=this.mean+this.stdDev*r*o,t=this.mean+this.stdDev*s*o,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class Zy{constructor(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;const s=r||Math.random();this.randu=Xy.alea(s.toString()),this.randn=new Jy(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,r,s,a;for(;;){do{r=this.randn.nextValue(),a=1+this.c*r}while(a<=0);if(a*=a*a,e=r*r,t=1-.331*e*e,n=.5*e+this.d*(1-a+Math.log(a)),s=this.randu(),s<t||Math.log(s)<n)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class ev{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"===typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=Xy.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const tv=gp({randomGamma_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",s=arguments.length>4?arguments[4]:void 0;if(Kd(e),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error(`Unsupported data type ${r}`);const a=new Zy(t,n,r,s),o=Cf(e,r);for(let i=0;i<o.values.length;i++)o.values[i]=a.nextValue();return o.toTensor()}});const nv=gp({randomNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;if(Kd(e),null!=r&&"bool"===r)throw new Error(`Unsupported data type ${r}`);const a=new Jy(t,n,r,!1,s),o=Cf(e,r);for(let i=0;i<o.values.length;i++)o.values[i]=a.nextValue();return o.toTensor()}});const rv=gp({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error(`Unsupported data type ${t}`);return nv(e,0,1,t,n)}});const sv=gp({randomUniform_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",s=arguments.length>4?arguments[4]:void 0;Kd(e);const a=Cf(e,r),o=new ev(t,n,null,s);for(let i=0;i<a.values.length;i++)a.values[i]=o.nextValue();return a.toTensor()}});const av=gp({randomUniformInt_:function(e,t,n,r){return sv(e,t,n,"int32",r)}});function ov(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");const s={start:e,stop:t,step:n,dtype:r};return ip.runKernel(ih,{},s)}const iv=gp({real_:function(e){const t={input:pp(e,"input","real")};return ip.runKernel("Real",t)}});const lv=gp({reciprocal_:function(e){const t={x:pp(e,"x","reciprocal")};return ip.runKernel("Reciprocal",t)}});const uv=gp({relu_:function(e){const t={x:pp(e,"x","relu")};return ip.runKernel("Relu",t)}});const cv=gp({relu6_:function(e){const t={x:pp(e,"x","relu6")};return ip.runKernel("Relu6",t)}});const dv=gp({reverse_:function(e,t){const n={x:pp(e,"x","reverse")},r={dims:t};return ip.runKernel("Reverse",n,r)}});const hv=gp({reverse1d_:function(e){const t=pp(e,"x","reverse");return Ad(1===t.rank,(()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`)),dv(t,0)}});const pv=gp({reverse2d_:function(e,t){const n=pp(e,"x","reverse");return Ad(2===n.rank,(()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`)),dv(n,t)}});const fv=gp({reverse3d_:function(e,t){const n=pp(e,"x","reverse");return Ad(3===n.rank,(()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`)),dv(n,t)}});const mv=gp({reverse4d_:function(e,t){const n=pp(e,"x","reverse");return Ad(4===n.rank,(()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`)),dv(n,t)}});const gv=gp({round_:function(e){const t={x:pp(e,"x","round")};return ip.runKernel("Round",t)}});const yv=gp({rsqrt_:function(e){const t={x:pp(e,"x","rsqrt","float32")};return ip.runKernel("Rsqrt",t)}});const vv=gp({selu_:function(e){const t={x:pp(e,"x","selu")};return ip.runKernel("Selu",t)}});const bv=gp({separableConv2d_:function(e,t,n,r,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC";const i=pp(e,"x","separableConv2d"),l=pp(t,"depthwiseFilter","separableConv2d"),u=pp(n,"pointwiseFilter","separableConv2d");let c=i,d=!1;if(3===i.rank&&(d=!0,c=Vm(i,[1,i.shape[0],i.shape[1],i.shape[2]])),"NCHW"===o)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");Ad(4===c.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`)),Ad(4===l.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`)),Ad(4===u.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`)),Ad(1===u.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`)),Ad(1===u.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`));const h=l.shape[2],p=l.shape[3];Ad(u.shape[2]===h*p,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${h*p}, but got ${u.shape[2]}.`));const f=Tg(c,l,r,s,o,a),m=hg(f,u,1,"valid",o);return d?Vm(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});const wv=async function(e,t){const n=pp(e,"x","setdiff1d"),r=pp(t,"y","setdiff1d");Ad(n.dtype===r.dtype,(()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`)),Ad(1===n.rank,(()=>`x should be 1D tensor, but got x (${n.shape}).`)),Ad(1===r.rank,(()=>`y should be 1D tensor, but got y (${r.shape}).`));const s=await n.data(),a=await r.data(),o=new Set(a);let i=0;for(let c=0;c<s.length;c++)o.has(s[c])||i++;const l=new jh([i],n.dtype),u=new jh([i],"int32");for(let c=0,d=0;c<s.length;c++)o.has(s[c])||(l.values[d]=s[c],u.values[d]=c,d++);return[l.toTensor(),u.toTensor()]};const xv=gp({sign_:function(e){const t={x:pp(e,"x","sign")};return ip.runKernel("Sign",t)}});const Sv=gp({sin_:function(e){const t={x:pp(e,"x","sin","float32")};return ip.runKernel("Sin",t)}});const kv=gp({sinh_:function(e){const t={x:pp(e,"x","sinh")};return ip.runKernel("Sinh",t)}});const Ev=gp({slice1d_:function(e,t,n){const r=pp(e,"x","slice1d");return Ad(1===r.rank,(()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`)),Gm(r,[t],[n])}});const Tv=gp({slice2d_:function(e,t,n){const r=pp(e,"x","slice2d");return Ad(2===r.rank,(()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`)),Gm(r,t,n)}});const Nv=gp({slice3d_:function(e,t,n){const r=pp(e,"x","slice3d");return Ad(3===r.rank,(()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`)),Gm(r,t,n)}});const _v=gp({slice4d_:function(e,t,n){const r=pp(e,"x","slice4d");return Ad(4===r.rank,(()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`)),Gm(r,t,n)}});const Cv=gp({softmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=pp(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const r={logits:n},s={dim:t};return ip.runKernel("Softmax",r,s)}});const Av=gp({fft_:function(e){Ad("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return ip.runKernel("FFT",t)}});const Ov=gp({ifft_:function(e){Ad("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return ip.runKernel("IFFT",t)}});const Rv=gp({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const s=Vm(e,[n,t]);r=Ov(s)}else{const s=[n,2*(t-1)],a=Vm(iv(e),[n,t]),o=Vm(Jg(e),[n,t]),i=dv(Gm(a,[0,1],[n,t-2]),1),l=Mf(dv(Gm(o,[0,1],[n,t-2]),1),Bf(-1)),u=qm([a,i],1),c=qm([o,l],1),d=Vm(yp(u,c),[s[0],s[1]]);r=Ov(d)}if(r=iv(r),3===e.rank&&0!==e.shape[0]){const t=r,n=e.shape[0];r=Vm(r,[n,r.shape[0]/n,r.shape[1]]),t.dispose()}return r}});const Pv=gp({split_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r={x:pp(e,"x","split")},s={numOrSizeSplits:t,axis:n};return ip.runKernel("SplitV",r,s)}});const Dv=gp({rfft_:function(e,t){Ad("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let n=e.shape[e.shape.length-1];const r=e.size/n;let s;if(null!=t&&t<n){const r=e.shape.map((e=>0)),a=e.shape.map((e=>e));a[e.shape.length-1]=t,s=Gm(e,r,a),n=t}else if(null!=t&&t>n){const r=e.shape.map((e=>e));r[e.shape.length-1]=t-n,s=qm([e,Ty(r)],e.shape.length-1),n=t}else s=e;const a=jf(s),o=Vm(yp(s,a),[r,n]),i=Av(o),l=Math.floor(n/2)+1,u=iv(i),c=Jg(i),d=Pv(u,[l,n-l],u.shape.length-1),h=Pv(c,[l,n-l],c.shape.length-1),p=s.shape.slice();return p[s.shape.length-1]=l,Vm(yp(d[0],h[0]),p)}});const Iv=gp({squaredDifference_:function(e,t){let n=pp(e,"a","squaredDifference"),r=pp(t,"b","squaredDifference");[n,r]=ep(n,r),Xf(n.shape,r.shape);const s={a:n,b:r};return ip.runKernel("SquaredDifference",s,{})}});const Mv=gp({squeeze_:function(e,t){const n=pp(e,"x","squeeze","string_or_numeric");return Vm(n,function(e,t){const n=[],r=[],s=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||s?null:Ld(t,e).sort();let o=0;for(let i=0;i<e.length;++i){if(null!=a){if(a[o]===i&&1!==e[i])throw new Error(`Can't squeeze axis ${i} since its dim '${e[i]}' is not 1`);(null==a[o]||a[o]>i)&&1===e[i]&&(n.push(e[i]),r.push(i)),a[o]<=i&&o++}1!==e[i]&&(n.push(e[i]),r.push(i))}return{newShape:n,keptDims:r}}(n.shape,t).newShape)}});const Lv=gp({stack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=fp(e,"tensors","stack","string_or_numeric");Ad(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&Ad(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const r=n,s={axis:t};return ip.runKernel("Pack",r,s)}});const Fv=gp({step_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:pp(e,"x","step")},r={alpha:t};return ip.runKernel("Step",n,r)}});const jv=gp({stridedSlice_:function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;const u={x:pp(e,"x","stridedSlice","string_or_numeric")},c={begin:t,end:n,strides:r,beginMask:s,endMask:a,ellipsisMask:o,newAxisMask:i,shrinkAxisMask:l};return ip.runKernel("StridedSlice",u,c)}});const $v=gp({tan_:function(e){const t={x:pp(e,"x","tan","float32")};return ip.runKernel("Tan",t)}});function Bv(e,t){Rd(e);const n=cp(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return vp(e,null,n,t)}function zv(e,t,n){if(Rd(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=cp(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return vp(e,t,r,n)}function Vv(e,t,n){if(Rd(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const r=cp(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return vp(e,t,r,n)}function Uv(e,t,n){if(Rd(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const r=cp(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return vp(e,t,r,n)}function Wv(e,t,n){if(Rd(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const r=cp(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return vp(e,t,r,n)}function qv(e,t,n){if(Rd(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const r=cp(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return vp(e,t=t||r,r,n)}function Hv(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}!function(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,s=t.rank>1?t.rank-1:1,a=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${s}.`;if(n.rank<s)throw new Error(a+` update.rank < ${s}. `);if(e.length<r+(n.rank-s))throw new Error(a+` Output shape length < ${r+(n.rank-s)}`);if(n.rank!==s+e.length-r)throw new Error(a+" update.rank != "+(s+e.length-r));for(let o=0;o<s;++o)if(n.shape[o]!==t.shape[o])throw new Error(a+` updates.shape[${o}] (${n.shape[o]}) != indices.shape[${o}] (${t.shape[o]}).`);for(let o=0;o<n.rank-s;++o)if(n.shape[o+s]!==e[o+r])throw new Error(a+` updates.shape[${o+s}] (${n.shape[o+s]}) != shape[${o+s}] (${e[o+s]})`)}(n,t,e)}const Kv=gp({tensorScatterUpdate_:function(e,t,n){const r=pp(e,"tensor","tensorScatterupdate"),s=pp(t,"indices","tensorScatterupdate","int32"),a=pp(n,"updates","tensorScatterupdate");if(Hv(a,s,r.shape),r.dtype!==a.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${a.dtype}.`);const o={tensor:r,indices:s,updates:a};return ip.runKernel("TensorScatterUpdate",o,{})}});const Gv=gp({topk_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=pp(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const s=r.shape[r.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>s)throw new Error(`'k' passed to topk() must be <= the last dimension (${s}) but got ${t}`);const a={x:r},o={k:t,sorted:n},[i,l]=ip.runKernel("TopK",a,o);return{values:i,indices:l}}});const Yv=gp({truncatedNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;if(Kd(e),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const a=new Jy(t,n,r,!0,s),o=Cf(e,r);for(let i=0;i<o.values.length;i++)o.values[i]=a.nextValue();return o.toTensor()}});const Qv=gp({unique_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=pp(e,"x","unique","string_or_numeric");Ad(n.rank>0,(()=>"The input tensor must be at least 1D"));const r={x:n},s={axis:t},[a,o]=ip.runKernel("Unique",r,s);return{values:a,indices:o}}});const Xv=gp({unsortedSegmentSum_:function(e,t,n){const r=pp(e,"x","unsortedSegmentSum"),s=pp(t,"segmentIds","unsortedSegmentSum","int32");Ad(Id(n),(()=>"numSegments must be of dtype int"));const a={x:r,segmentIds:s},o={numSegments:n};return ip.runKernel("UnsortedSegmentSum",a,o)}});const Jv=gp({unstack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=pp(e,"x","unstack","string_or_numeric");Ad(t>=-n.shape.length&&t<n.shape.length,(()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`));const r={value:n},s={axis:t};return ip.runKernel("Unpack",r,s)}});function Zv(e,t){return by(e,t,"right")}function eb(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return ip.makeVariable(e,t,n,r)}const tb=async function(e){const t=pp(e,"condition","whereAsync","bool"),n=await t.data(),r=function(e,t){const n=[];for(let a=0;a<t.length;a++)t[a]&&n.push(a);const r=Cf(e,"int32"),s=Cf([n.length,e.length],"int32");for(let a=0;a<n.length;a++){const t=r.indexToLoc(n[a]),o=a*e.length;s.values.set(t,o)}return s.toTensor()}(t.shape,n);return e!==t&&t.dispose(),r};const nb=async function(e,t,n){const r=pp(e,"tensor","boolMask"),s=pp(t,"mask","boolMask","bool"),a=null==n?0:n,o=s.rank,i=r.shape;Ad(o>0,(()=>"mask cannot be scalar")),Od(i.slice(a,a+o),s.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=a;m<a+o;m++)l*=i[m];const u=i.slice(0,a).concat([l],i.slice(a+o)),c=Vm(r,u),d=Vm(s,[-1]),h=await tb(d),p=Mv(h,[1]),f=Yg(c,p,a);return e!==r&&r.dispose(),t!==s&&s.dispose(),p.dispose(),c.dispose(),d.dispose(),h.dispose(),f};const rb=gp({transpose_:function(e,t,n){const r=pp(e,"x","transpose");if(null==t&&(t=r.shape.map(((e,t)=>t)).reverse()),Ad(r.rank===t.length,(()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${t}.`)),t.forEach((e=>{Ad(e>=0&&e<r.rank,(()=>"All entries in 'perm' must be between 0 and "+(r.rank-1)+` but got ${t}`))})),r.rank<=1)return r.clone();const s={x:r},a={perm:t};return"complex64"===r.dtype?Sp((()=>{let e=iv(r),t=Jg(r);return e=ip.runKernel(uh,{x:e},a),t=ip.runKernel(uh,{x:t},a),n&&(t=uy(t)),yp(e,t)})):ip.runKernel(uh,s,a)}});const sb=gp({movingAverage_:function(e,t,n,r){let s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const a=pp(e,"v","movingAverage"),o=pp(t,"x","movingAverage"),i=pp(n,"decay","movingAverage");var l,u;u=o,Ad((l=a).dtype===u.dtype,(()=>`The dtypes of the first(${l.dtype}) and second(${u.dtype}) input must match`)),Ad(Dd(a.shape,o.shape),(()=>"Shape mismatch in v and x"));const c=Bf(1),d=Yf(c,i);let h=Mf(Yf(o,a),d);if(s){Ad(null!=r,(()=>"When using zeroDebias: true, step is required."));const e=pp(r,"step","movingAverage");h=If(h,Yf(c,Gf(i,e)))}return Pf(a,h)}});const ab=gp({scatterND_:function(e,t,n){Kd(n);const r=pp(e,"indices","scatterND","int32"),s=pp(t,"updates","scatterND");Hv(s,r,n);const a={indices:r,updates:s},o={shape:n};return ip.runKernel("ScatterNd",a,o)}});const ob=gp({sparseToDense_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Kd(n);const s=pp(e,"sparseIndices","sparseToDense","int32"),a=pp(t,"sparseValues","sparseToDense","string_or_numeric"),o=pp(r,"defaultValue","sparseToDense",a.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const s=e.rank>0?e.shape[0]:1,a=e.rank>1?e.shape[1]:1;if(n.length!==a)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${a}.`);const o=t.size;if(0!==t.rank&&(1!==t.rank||o!==s))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${s}]`);if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(s,a,n,o);const i={sparseIndices:s,sparseValues:a,defaultValue:o},l={outputShape:n};return ip.runKernel("SparseToDense",i,l)}});const ib=gp({gatherND_:function(e,t){const n=pp(t,"indices","gatherND","int32"),r={params:pp(e,"x","gatherND","string_or_numeric"),indices:n};return ip.runKernel("GatherNd",r)}});const lb=gp({dropout_:function(e,t,n,r){const s=pp(e,"x","dropout");if(Ad("float32"===s.dtype,(()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${s.dtype} tensor instead.`)),Ad(t>=0&&t<1,(()=>`rate must be a float in the range [0, 1), but got ${t}.`)),0===t)return e instanceof Vh?s.clone():s;const a=function(e,t){if(null==t)return e.shape.slice();if(Dd(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(s,n),o=1-t,i=If(Gg(Pf(sv(a,0,1,"float32",r),o)),o);return Mf(s,i)}});function ub(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function cb(e,t,n){const r=1-e%2,s=new Float32Array(e);for(let a=0;a<e;++a){const o=2*Math.PI*a/(e+r-1);s[a]=t-n*Math.cos(o)}return Bv(s,"float32")}const db=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=pp(e,"predictions","inTopK"),s=pp(t,"targets","inTopK");Ad(r.rank>1,(()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`)),Ad(r.rank-1===s.rank,(()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${s.rank}`)),Od(r.shape.slice(0,r.shape.length-1),s.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const a=r.shape[r.shape.length-1];Ad(n>0&&n<=a,(()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${a}), but got ${n}`));const o=await r.data(),i=await s.data(),[l,u]=[o.length/a,a],c=function(e,t){return Fd(e,t)}("bool",l);for(let d=0;d<l;d++){const e=d*u,t=o.subarray(e,e+u),r=[];for(let n=0;n<t.length;n++)r.push({value:t[n],index:n});r.sort(((e,t)=>t.value-e.value)),c[d]=0;for(let s=0;s<n;s++)if(r[s].index===i[d]){c[d]=1;break}}return e!==r&&r.dispose(),t!==s&&s.dispose(),bp(c,s.shape,"bool")};const hb=gp({conv2DBackpropFilter_:function(e,t,n,r,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",o=arguments.length>6?arguments[6]:void 0,i=e;3===e.rank&&(i=Vm(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=Vm(t,[1,t.shape[0],t.shape[1],t.shape[2]])),Ad(4===i.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${i.shape}.`)),Ad(4===l.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`)),Ad(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const u="NHWC"===a?i.shape[3]:i.shape[1],c="NHWC"===a?l.shape[3]:l.shape[1];Ad(u===n[2],(()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`)),Ad(c===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`)),zm("conv2dDerFilter",s,o);const d={x:i,dy:l},h={strides:r,pad:s,dataFormat:a,dimRoundingMode:o,filterShape:n};return ip.runKernel("Conv2DBackpropFilter",d,h)}});function pb(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return Mf(e,Fv(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function fb(e,t){let n=t;const r=function(e,t){const n=[];for(let r=0;r<t.length;r++){const s=e[e.length-r-1],a=t.length-r-1,o=t[a];(null==s||1===s&&o>1)&&n.unshift(a)}return n}(e.shape,t.shape);return r.length>0&&(n=$g(n,r)),Vm(n,e.shape)}function mb(e,t,n,r){if("linear"===t)return e;if("relu"===t)return uv(e);if("elu"===t)return Dg(e);if("relu6"===t)return cv(e);if("prelu"===t)return qy(e,n);if("leakyrelu"===t)return ny(e,r);if("sigmoid"===t)return Km(e);throw new Error(`Unknown fused activation ${t}.`)}const gb=(e,t)=>!(e>0)||"linear"===t;const yb=gp({fusedConv2d_:function(e){let{x:t,filter:n,strides:r,pad:s,dataFormat:a="NHWC",dilations:o=[1,1],dimRoundingMode:i,bias:l,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:d}=e;if(u=u||"linear",!1===gb(ip.state.gradientDepth,u)){Ad("NHWC"===a,(()=>`Error in fused conv2d: got dataFormat of ${a} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`));let e=hg(t,n,r,s,a,o,i);return null!=l&&(e=Pf(e,l)),mb(e,u,c,d)}const h=pp(t,"x","conv2d","float32"),p=pp(n,"filter","conv2d","float32");let f=h,m=!1;3===h.rank&&(m=!0,f=Vm(h,[1,h.shape[0],h.shape[1],h.shape[2]])),Ad(4===f.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${f.rank}.`)),Ad(4===p.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${p.rank}.`)),zm("fused conv2d",s,i);const g="NHWC"===a?f.shape[3]:f.shape[1];Ad(p.shape[2]===g,(()=>`Error in conv2d: depth of input (${g}) must match input depth for filter ${p.shape[2]}.`)),Ad($m(r,o),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${r} and dilations '${o}'`));const y=Dm(f.shape,p.shape,r,o,s,i);let v,b;if(null!=l&&(v=pp(l,"bias","fused conv2d"),[v]=ep(v,h),"NHWC"===a?Xf(y.outShape,v.shape):(Ad(v.shape.length<=1,(()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${v.shape.length}.`)),Ad(0===v.shape.length||v.shape[0]===y.outChannels||1===v.shape[0],(()=>`Error in fused conv2d: bias shape (${v.shape}) is not compatible with the number of output channels (${y.outChannels})`)))),null!=c){const e=c.shape;if(Ad(e.length<=1||3===e.length,(()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${e.length}.`)),1===e.length)Ad(1===e[0]||e[0]===y.outChannels,(()=>`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the number of output channels (${y.outChannels}).`));else if(3===e.length)try{Xf(e,y.outShape)}catch(Qk){const n=`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the output shape of the conv2d (${y.outShape}).`;throw Error(n)}b=pp(c,"prelu weights","fused conv2d")}const w=(e,t)=>{Ad("NHWC"===a,(()=>`Error in gradient of fused conv2D: got dataFormat of ${a} but only NHWC is currently supported.`));const[n,i,l,c]=t,d=pb(e,l,u);Ad(jm(o),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${o}'`));const h=[fg(i.shape,d,n,r,s),hb(i,d,n.shape,r,s)];if(null!=c){const e=fb(c,d);h.push(e)}return h},x={x:f,filter:p,bias:v,preluActivationWeights:b},S={strides:r,pad:s,dataFormat:a,dilations:o,dimRoundingMode:i,activation:u,leakyreluAlpha:d};if(null==l){const e=$f(((e,t,n)=>{let r=ip.runKernel(dh,x,S);return n([t,e,r]),m&&(r=Vm(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:w}}));return e(f,p)}{const e=$f(((e,t,n,r)=>{let s=ip.runKernel(dh,x,S);return r([t,e,s,n]),m&&(s=Vm(s,[s.shape[1],s.shape[2],s.shape[3]])),{value:s,gradFunc:w}}));return e(f,p,v)}}});const vb=gp({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0,i=e;3===e.rank&&(i=Vm(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=Vm(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={x:i,dy:l},c={strides:r,pad:s,dimRoundingMode:o,dilations:a,filterShape:n};return ip.runKernel("DepthwiseConv2dNativeBackpropFilter",u,c)}});const bb=gp({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0,i=t,l=!1;3===t.rank&&(l=!0,i=Vm(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={dy:i,filter:n},c={strides:r,pad:s,dimRoundingMode:o,dilations:a,inputShape:e},d=ip.runKernel("DepthwiseConv2dNativeBackpropInput",u,c);return l?Vm(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});const wb=gp({fusedDepthwiseConv2d_:function(e){let{x:t,filter:n,strides:r,pad:s,dataFormat:a="NHWC",dilations:o=[1,1],dimRoundingMode:i,bias:l,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:d}=e;if(!1===gb(ip.state.gradientDepth,u)){let e=Tg(t,n,r,s,a,o,i);return null!=l&&(e=Pf(e,l)),mb(e,u,c,d)}const h=pp(t,"x","depthwiseConv2d","float32"),p=pp(n,"filter","depthwiseConv2d","float32");let f=h,m=!1;3===h.rank&&(m=!0,f=Vm(h,[1,h.shape[0],h.shape[1],h.shape[2]])),Ad(4===f.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${f.rank}.`)),Ad(4===p.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${p.rank}.`)),Ad(f.shape[3]===p.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${f.shape[3]}) must match the inChannels dimension in filter ${p.shape[2]}.`)),null==o&&(o=[1,1]),Ad($m(r,o),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${r} and dilations '${o}'`)),zm("fused depthwiseConv2d",s,i);const g=Dm(f.shape,p.shape,r,o,s,i,!0);let y,v;null!=l&&(y=pp(l,"bias","fused conv2d"),[y]=ep(y,h),Xf(g.outShape,y.shape)),null!=c&&(v=pp(c,"prelu weights","fused depthwiseConv2d"));const b=(e,t)=>{Ad(jm(o),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`));const[n,a,l,c]=t,d=pb(e,l,u),h=bb(a.shape,d,n,r,s,o,i),p=vb(a,d,n.shape,r,s,o,i);if(null!=c){return[h,p,fb(y,d)]}return[h,p]},w={x:f,filter:p,bias:y,preluActivationWeights:v},x={strides:r,pad:s,dataFormat:a,dilations:o,dimRoundingMode:i,activation:u,leakyreluAlpha:d};if(null==l){const e=$f(((e,t,n)=>{let r=ip.runKernel(hh,w,x);return n([t,e,r]),m&&(r=Vm(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}}));return e(f,p)}{const e=$f(((e,t,n,r)=>{let s=ip.runKernel(hh,w,x);return r([t,e,s,n]),m&&(s=Vm(s,[s.shape[1],s.shape[2],s.shape[3]])),{value:s,gradFunc:b}}));return e(f,p,y)}}});const xb=gp({fusedMatMul_:function(e){let{a:t,b:n,transposeA:r=!1,transposeB:s=!1,bias:a,activation:o="linear",preluActivationWeights:i,leakyreluAlpha:l=.2}=e;if(!1===gb(ip.state.gradientDepth,o)){let e=Hm(t,n,r,s);return null!=a&&(e=Pf(e,a)),mb(e,o,i,l)}let u=pp(t,"a","fused matMul"),c=pp(n,"b","fused matMul");[u,c]=ep(u,c);const d=r?u.shape[u.rank-2]:u.shape[u.rank-1],h=s?c.shape[c.rank-1]:c.shape[c.rank-2],p=r?u.shape[u.rank-1]:u.shape[u.rank-2],f=s?c.shape[c.rank-2]:c.shape[c.rank-1],m=u.shape.slice(0,-2),g=c.shape.slice(0,-2),y=Pd(m),v=Pd(g);Ad(d===h,(()=>`Error in fused matMul: inner shapes (${d}) and (${h}) of Tensors with shapes ${u.shape} and ${c.shape} and transposeA=${r} and transposeB=${s} must match.`));const b=Xf(u.shape.slice(0,-2),c.shape.slice(0,-2)).concat([p,f]),w=Vm(u,r?[y,d,p]:[y,p,d]),x=Vm(c,s?[v,f,h]:[v,h,f]);let S,k;null!=a&&(S=pp(a,"bias","fused matMul"),[S]=ep(S,u),Xf(b,S.shape)),null!=i&&(k=pp(i,"prelu weights","fused matMul"));const E=(e,t)=>{const[n,i,l,u]=t,c=pb(Vm(e,l.shape),l,o);let d,h;if(r||s?!r&&s?(d=Hm(c,i,!1,!1),h=Hm(c,n,!0,!1)):r&&!s?(d=Hm(i,c,!1,!0),h=Hm(n,c,!1,!1)):(d=Hm(i,c,!0,!0),h=Hm(c,n,!0,!0)):(d=Hm(c,i,!1,!0),h=Hm(n,c,!0,!1)),null!=a){return[d,h,fb(u,c)]}return[d,h]},T={a:w,b:x,bias:S,preluActivationWeights:k},N={transposeA:r,transposeB:s,activation:o,leakyreluAlpha:l};if(null==a){const e=$f(((e,t,n)=>{const r=ip.runKernel(ch,T,N);return n([e,t,r]),{value:Vm(r,b),gradFunc:E}}));return e(w,x)}{const e=$f(((e,t,n,r)=>{const s=ip.runKernel(ch,T,N);return r([e,t,s,n]),{value:Vm(s,b),gradFunc:E}}));return e(w,x,S)}}});const Sb=gp({hammingWindow_:function(e){return cb(e,.54,.46)}});const kb=gp({hannWindow_:function(e){return cb(e,.5,.5)}});const Eb=gp({frame_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=0;const o=[];for(;a+t<=e.size;)o.push(Gm(e,a,t)),a+=n;if(r)for(;a<e.size;){const r=a+t-e.size,i=qm([Gm(e,a,t-r),Kf([r],s)]);o.push(i),a+=n}return 0===o.length?zv([],[0,t]):Vm(qm(o),[o.length,t])}});const Tb=gp({stft_:function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:kb;null==r&&(r=ub(t));const a=Eb(e,t,n),o=Mf(a,s(t));return Dv(o,r)}});const Nb=gp({cropAndResize_:function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const o=pp(e,"image","cropAndResize"),i=pp(t,"boxes","cropAndResize","float32"),l=pp(n,"boxInd","cropAndResize","int32"),u=i.shape[0];Ad(4===o.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${o.rank}.`)),Ad(2===i.rank&&4===i.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${i.shape}.`)),Ad(1===l.rank&&l.shape[0]===u,(()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${i.shape}.`)),Ad(2===r.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`)),Ad(r[0]>=1&&r[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${r}`)),Ad("bilinear"===s||"nearest"===s,(()=>`method must be bilinear or nearest, but was ${s}`));const c={image:o,boxes:i,boxInd:l},d={method:s,extrapolationValue:a,cropSize:r};return ip.runKernel("CropAndResize",c,d)}});const _b=gp({flipLeftRight_:function(e){const t=pp(e,"image","flipLeftRight","float32");Ad(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const n={image:t};return ip.runKernel("FlipLeftRight",n,{})}});const Cb=gp({grayscaleToRGB_:function(e){const t=pp(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];Ad(t.rank>=2,(()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`)),Ad(1===r,(()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`));const s=new Array(t.rank);return s.fill(1,0,n),s[n]=3,Hg(t,s)}});const Ab=gp({rgbToGrayscale_:function(e){const t=pp(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];Ad(t.rank>=2,(()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`)),Ad(3===r,(()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`));const s=t.dtype,a=Af(t,"float32"),o=Bv([.2989,.587,.114]);let i;switch(t.rank){case 2:i=Pg("ij,j->i",a,o);break;case 3:i=Pg("ijk,k->ij",a,o);break;case 4:i=Pg("ijkl,l->ijk",a,o);break;case 5:i=Pg("ijklm,m->ijkl",a,o);break;case 6:i=Pg("ijklmn,n->ijklm",a,o);break;default:throw new Error("Not a valid tensor rank.")}return i=Wg(i,-1),Af(i,s)}});const Ob=gp({rotateWithOffset_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const s=pp(e,"image","rotateWithOffset","float32");Ad(4===s.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${s.rank}.`));const a={image:s},o={radians:t,fillValue:n,center:r};return ip.runKernel("RotateWithOffset",a,o)}});function Rb(e,t,n,r,s,a){null==r&&(r=.5),null==s&&(s=Number.NEGATIVE_INFINITY),null==a&&(a=0);const o=e.shape[0];return n=Math.min(n,o),Ad(0<=r&&r<=1,(()=>`iouThreshold must be in [0, 1], but was '${r}'`)),Ad(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),Ad(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),Ad(1===t.rank,(()=>"scores must be a 1D tensor")),Ad(t.shape[0]===o,(()=>`scores has incompatible shape with boxes. Expected ${o}, but was ${t.shape[0]}`)),Ad(0<=a&&a<=1,(()=>`softNmsSigma must be in [0, 1], but was '${a}'`)),{maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:a}}const Pb=gp({nonMaxSuppression_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const a=pp(e,"boxes","nonMaxSuppression","float32"),o=pp(t,"scores","nonMaxSuppression","float32"),i=Rb(a,o,n,r,s);n=i.maxOutputSize,r=i.iouThreshold,s=i.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:s};return ip.runKernel("NonMaxSuppressionV3",{boxes:a,scores:o},l)}});function Db(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,s=e.length,a=0,o=!1;for(;r<s;){a=r+(s-r>>>1);const i=n(t,e[a]);i>0?r=a+1:(s=a,o=!i)}return o?r:-r-1}(e,t,n||Ib)}(e,t,n),s=r<0?-(r+1):r;e.splice(s,0,t)}function Ib(e,t){return e>t?1:e<t?-1:0}function Mb(e,t,n,r,s,a){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const u=[];for(let g=0;g<t.length;g++)t[g]>s&&u.push({score:t[g],boxIndex:g,suppressBeginIndex:0});u.sort(jb);const c=a>0?-.5/a:0,d=[],h=[];for(;d.length<n&&u.length>0;){const t=u.pop(),{score:n,boxIndex:a,suppressBeginIndex:o}=t;if(n<s)break;let i=!1;for(let l=d.length-1;l>=o;--l){const n=Lb(e,a,d[l]);if(n>=r){i=!0;break}if(t.score=t.score*Fb(r,c,n),t.score<=s)break}t.suppressBeginIndex=d.length,i||(t.score===n?(d.push(a),h.push(t.score)):t.score>s&&Db(u,t,jb))}const p=d.length,f=n-p;i&&f>0&&(d.push(...new Array(f).fill(0)),h.push(...new Array(f).fill(0)));const m={selectedIndices:d};return o&&(m.selectedScores=h),l&&(m.validOutputs=p),m}function Lb(e,t,n){const r=e.subarray(4*t,4*t+4),s=e.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),i=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(s[0],s[2]),c=Math.min(s[1],s[3]),d=Math.max(s[0],s[2]),h=Math.max(s[1],s[3]),p=(i-a)*(l-o),f=(d-u)*(h-c);if(p<=0||f<=0)return 0;const m=Math.max(a,u),g=Math.max(o,c),y=Math.min(i,d),v=Math.min(l,h),b=Math.max(y-m,0)*Math.max(v-g,0);return b/(p+f-b)}function Fb(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function jb(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const $b=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const a=pp(e,"boxes","nonMaxSuppressionAsync"),o=pp(t,"scores","nonMaxSuppressionAsync"),i=Rb(a,o,n,r,s);n=i.maxOutputSize,r=i.iouThreshold,s=i.scoreThreshold;const l=await Promise.all([a.data(),o.data()]),u=l[0],c=l[1],{selectedIndices:d}=function(e,t,n,r,s){return Mb(e,t,n,r,s,0)}(u,c,n,r,s);return a!==e&&a.dispose(),o!==t&&o.dispose(),Bv(d,"int32")};const Bb=gp({nonMaxSuppressionWithScore_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const o=pp(e,"boxes","nonMaxSuppression"),i=pp(t,"scores","nonMaxSuppression"),l=Rb(o,i,n,r,s,a);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,a=l.softNmsSigma;const u={boxes:o,scores:i},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:a},d=ip.runKernel("NonMaxSuppressionV5",u,c);return{selectedIndices:d[0],selectedScores:d[1]}}});const zb=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const o=pp(e,"boxes","nonMaxSuppressionAsync"),i=pp(t,"scores","nonMaxSuppressionAsync"),l=Rb(o,i,n,r,s,a);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,a=l.softNmsSigma;const u=await Promise.all([o.data(),i.data()]),c=u[0],d=u[1],{selectedIndices:h,selectedScores:p}=function(e,t,n,r,s,a){return Mb(e,t,n,r,s,a,!0)}(c,d,n,r,s,a);return o!==e&&o.dispose(),i!==t&&i.dispose(),{selectedIndices:Bv(h,"int32"),selectedScores:Bv(p)}};const Vb=gp({nonMaxSuppressionPadded_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const o=pp(e,"boxes","nonMaxSuppression"),i=pp(t,"scores","nonMaxSuppression"),l=Rb(o,i,n,r,s,null),u={boxes:o,scores:i},c={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:a},d=ip.runKernel("NonMaxSuppressionV4",u,c);return{selectedIndices:d[0],validOutputs:d[1]}}});const Ub=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const o=pp(e,"boxes","nonMaxSuppressionAsync"),i=pp(t,"scores","nonMaxSuppressionAsync"),l=Rb(o,i,n,r,s,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,[h,p]=await Promise.all([o.data(),i.data()]),{selectedIndices:f,validOutputs:m}=function(e,t,n,r,s,a){return Mb(e,t,n,r,s,0,!1,a,!0)}(h,p,u,c,d,a);return o!==e&&o.dispose(),i!==t&&i.dispose(),{selectedIndices:Bv(f,"int32"),validOutputs:Bf(m,"int32")}};const Wb=gp({resizeBilinear_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=pp(e,"images","resizeBilinear");Ad(3===s.rank||4===s.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${s.rank}.`)),Ad(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`)),Ad(!1===r||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let a=s,o=!1;3===s.rank&&(o=!0,a=Vm(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const[]=t,i={images:a},l={alignCorners:n,halfPixelCenters:r,size:t},u=ip.runKernel("ResizeBilinear",i,l);return o?Vm(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const qb=gp({resizeNearestNeighbor_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=pp(e,"images","resizeNearestNeighbor");Ad(3===s.rank||4===s.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${s.rank}.`)),Ad(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),Ad("float32"===s.dtype||"int32"===s.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),Ad(!1===r||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let a=s,o=!1;3===s.rank&&(o=!0,a=Vm(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const[]=t,i={images:a},l={alignCorners:n,halfPixelCenters:r,size:t},u=ip.runKernel("ResizeNearestNeighbor",i,l);return o?Vm(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const Hb=gp({threshold_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const s=pp(e,"image","threshold"),a=s.shape[0]*s.shape[1];let o,i,l,u,c=Mf(Bv([r]),255);if(Ad(3===s.rank,(()=>`Error in threshold: image must be rank 3,but got rank ${s.rank}.`)),Ad(3===s.shape[2]||1===s.shape[2],(()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${s.shape[2]}.`)),Ad("int32"===s.dtype||"float32"===s.dtype,(()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${s.dtype}.`)),Ad("otsu"===t||"binary"===t,(()=>`Method must be binary or otsu, but was ${t}`)),3===s.shape[2]){[o,i,l]=Pv(s,[1,1,1],-1);const e=Mf(o,.2989),t=Mf(i,.587),n=Mf(l,.114);u=Pf(Pf(e,t),n)}else u=e;if("otsu"===t){c=function(e,t){let n,r,s,a,o,i,l=Bv([-1]),u=Bv([0]),c=Bv([0]);for(let d=0;d<e.size-1;d++){n=Gm(e,0,d+1),r=Gm(e,d+1),o=If($g(n),t),i=If($g(r),t);const h=$g(Mf(n,ov(0,n.size)));s=If(h,$g(n));const p=Kf(r.shape,n.size),f=Pf(ov(0,r.size),p),m=Mf(r,f);a=If($g(m),$g(r));const g=Yf(s,a),y=Yf(s,a),v=Mf(o,i);c=Mf(Mf(v,g),y);const b=Qg(c,u);u=Ag(b,c,u),l=Ag(b,Bv([d]),l)}return l}(ng(Af(gv(u),"int32"),bp([]),256),a)}const d=n?sy(u,c):Qg(u,c);return Af(Mf(d,255),"int32")}});const Kb=gp({transform_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0;const o=pp(e,"image","transform","float32"),i=pp(t,"transforms","transform","float32");Ad(4===o.rank,(()=>`Error in transform: image must be rank 4,but got rank ${o.rank}.`)),Ad(2===i.rank&&(i.shape[0]===o.shape[0]||1===i.shape[0])&&8===i.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),Ad(null==a||2===a.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${a}.`));const l={image:o,transforms:i},u={interpolation:n,fillMode:r,fillValue:s,outputShape:a};return ip.runKernel("Transform",l,u)}});const Gb=gp({bandPart_:function(e,t,n){const r=pp(e,"a","bandPart");Ad(r.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`));const s=r.shape,[a,o]=r.shape.slice(-2);let i,l;"number"===typeof t?(Ad(t%1===0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),Ad(t<=a,(()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${a}).`)),i=pp(t<0?a:t,"numLower","bandPart")):(Ad("int32"===t.dtype,(()=>"bandPart(): numLower's dtype must be an int32.")),i=Ag(ry(t,0),a,Cy(t,a))),"number"===typeof n?(Ad(n%1===0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`)),Ad(n<=o,(()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${o}).`)),l=pp(n<0?o:n,"numUpper","bandPart")):(Ad("int32"===n.dtype,(()=>"bandPart(): numUpper's dtype must be an int32.")),l=Ag(ry(n,0),o,Cy(n,o)));const u=Vm(ov(0,a,1,"int32"),[-1,1]),c=ov(0,o,1,"int32"),d=Yf(u,c),h=fy(sy(d,i),Xg(d,uy(l))),p=Ty([a,o],r.dtype);return Vm(Lv(Jv(Vm(r,[-1,a,o])).map((e=>Ag(h,e,p)))),s)}});const Yb=gp({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,Ad(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)Ad(e[t].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`))}else t=!0,e=Pv(e,e.shape[0],0).map((e=>Mv(e,[0])));Ad(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const n=[],r=e;for(let s=0;s<e.length;++s)n.push(ip.tidy((()=>{let e=r[s];if(s>0)for(let t=0;t<s;++t){const r=Mf($g(Mf(n[t],e)),n[t]);e=Yf(e,r)}return If(e,zg(e,"euclidean"))})));return t?Lv(n,0):n}});function Qb(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ip.tidy((()=>{Ad(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const n=e.shape[0],r=e.shape[1];let s=Kg(n),a=Of(e);const o=zv([[1]],[1,1]);let i=Of(o);const l=n>=r?r:n;for(let e=0;e<l;++e){const t=a,l=i,u=s;[i,a,s]=ip.tidy((()=>{const t=Gm(a,[e,e],[n-e,1]),l=zg(t),u=Gm(a,[e,e],[1,1]),c=Ag(Qg(u,0),zv([[-1]]),zv([[1]])),d=Yf(u,Mf(c,l)),h=If(t,d);i=1===h.shape[0]?Of(o):qm([o,Gm(h,[1,0],[h.shape[0]-1,h.shape[1]])],0);const p=uy(If(Hm(c,d),l)),f=Gm(a,[e,0],[n-e,r]),m=Mf(p,i),g=rb(i);if(0===e)a=Yf(f,Hm(m,Hm(g,f)));else{const t=Yf(f,Hm(m,Hm(g,f)));a=qm([Gm(a,[0,0],[e,r]),t],0)}const y=rb(m),v=Gm(s,[0,e],[n,s.shape[1]-e]);if(0===e)s=Yf(v,Hm(Hm(v,i),y));else{const t=Yf(v,Hm(Hm(v,i),y));s=qm([Gm(s,[0,0],[n,e]),t],1)}return[i,a,s]})),kp([t,l,u])}return!t&&n>r&&(s=Gm(s,[0,0],[n,r]),a=Gm(a,[0,0],[r,r])),[s,a]}))}const Xb=gp({qr_:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Ad(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return Qb(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),r=Jv(Vm(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),s=[],a=[];r.forEach((e=>{const[n,r]=Qb(e,t);s.push(n),a.push(r)}));return[Vm(Lv(s,0),e.shape),Vm(Lv(a,0),e.shape)]}}});var Jb;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(Jb||(Jb={}));const Zb=gp({computeWeightedLoss_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jb.SUM_BY_NONZERO_WEIGHTS;const r=pp(e,"losses","computeWeightedLoss");let s=null;null!=t&&(s=pp(t,"weights","computeWeightedLoss"));const a=null==s?r:Mf(r,s);if(n===Jb.NONE)return a;if(n===Jb.SUM)return $g(a);if(n===Jb.MEAN){if(null==s)return Ey(a);{const e=r.size/s.size,t=If($g(a),$g(s));return e>1?If(t,Bf(e)):t}}if(n===Jb.SUM_BY_NONZERO_WEIGHTS){if(null==s)return If($g(a),Bf(r.size));{const e=Mf(s,Ny(r.shape)),t=Af($g(Iy(e,Bf(0))),"float32");return If($g(a),t)}}throw Error(`Unknown reduction: ${n}`)}});const ew=gp({absoluteDifference_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Jb.SUM_BY_NONZERO_WEIGHTS;const s=pp(e,"labels","absoluteDifference"),a=pp(t,"predictions","absoluteDifference");let o=null;null!=n&&(o=pp(n,"weights","absoluteDifference")),Od(s.shape,a.shape,"Error in absoluteDifference: ");const i=Qf(Yf(s,a));return Zb(i,o,r)}});const tw=gp({cosineDistance_:function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jb.SUM_BY_NONZERO_WEIGHTS;const a=pp(e,"labels","cosineDistance"),o=pp(t,"predictions","cosineDistance");let i=null;null!=r&&(i=pp(r,"weights","cosineDistance")),Od(a.shape,o.shape,"Error in cosineDistance: ");const l=Bf(1),u=Yf(l,$g(Mf(a,o),n,!0));return Zb(u,i,s)}});const nw=gp({hingeLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Jb.SUM_BY_NONZERO_WEIGHTS,s=pp(e,"labels","hingeLoss");const a=pp(t,"predictions","hingeLoss");let o=null;null!=n&&(o=pp(n,"weights","hingeLoss")),Od(s.shape,a.shape,"Error in hingeLoss: ");const i=Bf(1);s=Yf(Mf(Bf(2),s),i);const l=uv(Yf(i,Mf(s,a)));return Zb(l,o,r)}});const rw=gp({huberLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jb.SUM_BY_NONZERO_WEIGHTS;const a=pp(e,"labels","huberLoss"),o=pp(t,"predictions","huberLoss");let i=null;null!=n&&(i=pp(n,"weights","huberLoss")),Od(a.shape,o.shape,"Error in huberLoss: ");const l=Bf(r),u=Qf(Yf(o,a)),c=Cy(u,l),d=Yf(u,c),h=Pf(Mf(Bf(.5),Ff(c)),Mf(l,d));return Zb(h,i,s)}});const sw=gp({logLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jb.SUM_BY_NONZERO_WEIGHTS;const a=pp(e,"labels","logLoss"),o=pp(t,"predictions","logLoss");let i=null;null!=n&&(i=pp(n,"weights","logLoss")),Od(a.shape,o.shape,"Error in logLoss: ");const l=Bf(1),u=Bf(r),c=uy(Mf(a,iy(Pf(o,u)))),d=Mf(Yf(l,a),iy(Pf(Yf(l,o),u))),h=Yf(c,d);return Zb(h,i,s)}});const aw=gp({meanSquaredError_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Jb.SUM_BY_NONZERO_WEIGHTS;const s=pp(e,"labels","meanSquaredError"),a=pp(t,"predictions","meanSquaredError");let o=null;null!=n&&(o=pp(n,"weights","meanSquaredError")),Od(s.shape,a.shape,"Error in meanSquaredError: ");const i=Iv(s,a);return Zb(i,o,r)}});const ow=gp({sigmoidCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jb.SUM_BY_NONZERO_WEIGHTS,a=pp(e,"multiClassLabels","sigmoidCrossEntropy");const o=pp(t,"logits","sigmoidCrossEntropy");let i=null;if(null!=n&&(i=pp(n,"weights","sigmoidCrossEntropy")),Od(a.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){const e=Bf(r),t=Bf(1),n=Bf(.5);a=Pf(Mf(a,Yf(t,e)),Mf(n,e))}const l=function(e,t){const n=pp(e,"labels","sigmoidCrossEntropyWithLogits"),r=pp(t,"logits","sigmoidCrossEntropyWithLogits");Od(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const s=uv(r),a=Mf(r,n),o=ly(Ug(uy(Qf(r))));return Pf(Yf(s,a),o)}(a,o);return Zb(l,i,s)}});const iw=gp({softmaxCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jb.SUM_BY_NONZERO_WEIGHTS,a=pp(e,"onehotLabels","softmaxCrossEntropy");const o=pp(t,"logits","softmaxCrossEntropy");let i=null;if(null!=n&&(i=pp(n,"weights","softmaxCrossEntropy")),Od(a.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){const e=Bf(r),t=Bf(1),n=Bf(a.shape[1]);a=Pf(Mf(a,Yf(t,e)),If(e,n))}const l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);const r=$f(((e,t,r)=>{const s=py(t,[n],!0),a=Yf(Af(t,"float32"),s);r([e,a]);const o=uy(Mf(a,e));return{value:$g(o,[n]),gradFunc:(e,t)=>{const[r,s]=t,a=Lg(e.shape,[n]);return[Mf(Vm(e,a),Yf(Af(r,"float32"),Ug(s))),Mf(Vm(e,a),Yf(Ug(s),Af(r,"float32")))]}}}));return r(e,t)}(a,o);return Zb(l,i,s)}});const lw=gp({sparseFillEmptyRows_:function(e,t,n,r){const s=pp(e,"indices","sparseFillEmptyRows","int32"),a=pp(t,"values","sparseFillEmptyRows"),o=pp(n,"denseShape","sparseFillEmptyRows","int32"),i=pp(r,"defaultValue","sparseFillEmptyRows",a.dtype);if(2!==s.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${s.shape}`);if(1!==a.rank)throw new Error(`Values should be Tensor1D but received shape ${a.shape}`);if(1!==o.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${o.shape}`);if(0!==i.rank)throw new Error(`Default value should be a scalar but received shape ${i.shape}`);const l={indices:s,values:a,denseShape:o,defaultValue:i},u=ip.runKernel("SparseFillEmptyRows",l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}});const uw=gp({sparseReshape_:function(e,t,n){const r=pp(e,"inputIndices","sparseReshape","int32"),s=pp(t,"inputShape","sparseReshape","int32"),a=pp(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==s.rank)throw new Error(`Input shape should be Tensor1D but received shape ${s.shape}`);if(1!==a.rank)throw new Error(`New shape should be Tensor1D but received shape ${a.shape}`);const o={inputIndices:r,inputShape:s,newShape:a},i=ip.runKernel("SparseReshape",o);return{outputIndices:i[0],outputShape:i[1]}}});const cw=gp({sparseSegmentMean_:function(e,t,n){const r=pp(e,"data","sparseSegmentMean"),s=pp(t,"indices","sparseSegmentMean","int32"),a=pp(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==s.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${s.shape}`);if(1!==a.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${a.shape}`);const o={data:r,indices:s,segmentIds:a};return ip.runKernel("SparseSegmentMean",o)}});const dw=gp({sparseSegmentSum_:function(e,t,n){const r=pp(e,"data","sparseSegmentSum"),s=pp(t,"indices","sparseSegmentSum","int32"),a=pp(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==s.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${s.shape}`);if(1!==a.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${a.shape}`);const o={data:r,indices:s,segmentIds:a};return ip.runKernel("SparseSegmentSum",o)}});const hw=gp({stringNGrams_:function(e,t,n,r,s,a,o,i){const l=pp(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error(`Data must be a vector, saw: ${l.shape}`);const u=pp(t,"dataSplits","stringNGrams");if("int32"!==u.dtype)throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:s,rightPad:a,padWidth:o,preserveShortSequences:i},d={data:l,dataSplits:u},h=ip.runKernel("StringNGrams",d,c);return{nGrams:h[0],nGramsSplits:h[1]}}});const pw={fft:Av,ifft:Ov,rfft:Dv,irfft:Rv},fw={hammingWindow:Sb,hannWindow:kb,frame:Eb,stft:Tb},mw={flipLeftRight:_b,grayscaleToRGB:Cb,resizeNearestNeighbor:qb,resizeBilinear:Wb,rgbToGrayscale:Ab,rotateWithOffset:Ob,cropAndResize:Nb,nonMaxSuppression:Pb,nonMaxSuppressionAsync:$b,nonMaxSuppressionWithScore:Bb,nonMaxSuppressionWithScoreAsync:zb,nonMaxSuppressionPadded:Vb,nonMaxSuppressionPaddedAsync:Ub,threshold:Hb,transform:Kb},gw={bandPart:Gb,gramSchmidt:Yb,qr:Xb},yw={absoluteDifference:ew,computeWeightedLoss:Zb,cosineDistance:tw,hingeLoss:nw,huberLoss:rw,logLoss:sw,meanSquaredError:aw,sigmoidCrossEntropy:ow,softmaxCrossEntropy:iw},vw={sparseFillEmptyRows:lw,sparseReshape:uw,sparseSegmentMean:cw,sparseSegmentSum:dw},bw={stringNGrams:hw,stringSplit:gp({stringSplit_:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=pp(e,"input","stringSplit","string"),s=pp(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(0!==s.rank)throw new Error(`Delimiter should be a scalar but received shape ${s.shape}`);const a={skipEmpty:n},o={input:r,delimiter:s},i=ip.runKernel("StringSplit",o,a);return{indices:i[0],values:i[1],shape:i[2]}}}),stringToHashBucketFast:gp({stringToHashBucketFast_:function(e,t){const n=pp(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const s={input:n};return ip.runKernel("StringToHashBucketFast",s,r)}}),staticRegexReplace:gp({staticRegexReplace_:function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const s=pp(e,"input","staticRegexReplace","string"),a={pattern:t,rewrite:n,replaceGlobal:r};return ip.runKernel("StaticRegexReplace",{x:s},a)}})};!function(){for(const e of em)qf(e)}();var ww,xw;Jd().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(ww||(ww={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(xw||(xw={}));const Sw={};function kw(e){return Sw[e]}function Ew(e,t,n,r,s){const a=t.inputParams[e];if(a&&void 0!==a.inputIndexStart){const e=a.inputIndexStart,o=0===a.inputIndexEnd?void 0:void 0===a.inputIndexEnd?e+1:a.inputIndexEnd,i=e<0?t.inputNames.length+e:e;if("tensor"===a.type)return Tw(t.inputNames[i],n,r,s);if("tensors"===a.type){const a=t.inputs.slice(e,o);return t.inputNames.slice(e,o).filter(((e,t)=>{var n;return"NoOp"!==(null===(n=a[t])||void 0===n?void 0:n.op)})).map((e=>Tw(e,n,r,s)))}const l=Tw(t.inputNames[i],n,r,s),u=l.dataSync();return"number"===a.type?u[0]:Wd(l.shape,u)}const o=t.attrParams[e];return o&&o.value}function Tw(e,t,n,r){const[s,a]=Aw(e,n);if(null!=r){const e=r.getHashTableHandleByName(s);if(null!=e)return e}const o=n.currentContextIds.find((e=>!!t[Cw(s,e)]));return void 0!==o?t[Cw(s,o)][a]:void 0}function Nw(e,t,n){return t[Cw(e,n.currentContextId)]}function _w(e,t){const[n,r,s]=Aw(e,t);return[Cw(n,t&&t.currentContextId),r,s]}function Cw(e,t){return t?`${e}-${t}`:e}function Aw(e,t){if(""===e)return["",0,void 0];const n=null!=t&&null!=t.parseNodeNameCache;if(n){const n=t.parseNodeNameCache.get(e);if(null!=n)return n}const r=e.split(":");let s;if(1===r.length)s=[e,0,void 0];else{const e=r[0],t=3===r.length?r[1]:void 0;s=[e,Number(r[r.length-1]),t]}return n&&t.parseNodeNameCache.set(e,s),s}function Ow(e,t,n){let r=Ew("pad",e,t,n);if("explicit"===r){r=Ew("explicitPaddings",e,t,n);const s=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)s[e][0]=r[2*e],s[e][1]=r[2*e+1];return s}return r}function Rw(e){return e.kept?e:Of(e)}const Pw=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Dw=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Iw=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],Mw=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],Lw=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],Fw=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],jw=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],$w=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],Bw=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],zw=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],Vw=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],Uw=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],Ww=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],qw=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],Hw=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],Kw=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],Gw=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],Yw=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],Qw=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class Xw{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[s,a,o,i,l,u,c,d,h,p,f,m,g,y,v,b,w,x,S].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.node,r=[],s=[],a=[],o=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?r.push(e[t.name]):"Const"===t.op?s.push(e[t.name]):null!=t.input&&0!==t.input.length||a.push(e[t.name]),e)),{});let i=[];const l=[];let u={},c={};null!=t&&(u=this.mapSignatureEntries(t.inputs),c=this.mapSignatureEntries(t.outputs));const d=Object.keys(o);d.forEach((e=>{const t=o[e];t.inputNames.forEach(((e,n)=>{const[r,,s]=_w(e),a=o[r];if(null!=a.outputs){const e=a.outputs.indexOf(s);if(-1!==e){const s=`${r}:${e}`;t.inputNames[n]=s}}t.inputs.push(a),a.children.push(t)}))})),0===Object.keys(c).length?d.forEach((e=>{const t=o[e];0===t.children.length&&l.push(t)})):Object.keys(c).forEach((e=>{const[t]=_w(e),n=o[t];null!=n&&(n.signatureKey=c[e],l.push(n))})),Object.keys(u).length>0?Object.keys(u).forEach((e=>{const[t]=_w(e),n=o[t];n&&(n.signatureKey=u[e],i.push(n))})):i=r;let h={};null!=e.library&&null!=e.library.function&&(h=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const p={nodes:o,inputs:i,outputs:l,weights:s,placeholders:r,signature:t,functions:h};return a.length>0&&(p.initNodes=a),p}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=kw(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.slice(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const r=n.type;let s;switch(n.type){case"string":s=Zw(e.attr,n.tfName,n.defaultValue),void 0===s&&n.tfDeprecatedName&&(s=Zw(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":s=ux(e.attr,n.tfName,n.defaultValue),void 0===s&&n.tfDeprecatedName&&(s=ux(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":s=tx(e.attr,n.tfName,n.defaultValue||0),void 0===s&&n.tfDeprecatedName&&(s=tx(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":s=lx(e.attr,n.tfName,n.defaultValue),void 0===s&&n.tfDeprecatedName&&(s=lx(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":s=ex(e.attr,n.tfName,n.defaultValue),void 0===s&&n.tfDeprecatedName&&(s=ex(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":s=dx(e.attr,n.tfName,n.defaultValue),void 0===s&&n.tfDeprecatedName&&(s=dx(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":s=ix(e.attr,n.tfName,n.defaultValue),void 0===s&&n.tfDeprecatedName&&(s=ix(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":s=cx(e.attr,n.tfName,n.defaultValue),void 0===s&&n.tfDeprecatedName&&(s=cx(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":s=sx(e.attr,n.tfName,n.defaultValue),void 0===s&&n.tfDeprecatedName&&(s=sx(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":s=ax(e.attr,n.tfName,n.defaultValue),void 0===s&&n.tfDeprecatedName&&(s=ax(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":s=rx(e.attr,n.tfName,n.defaultValue),void 0===s&&n.tfDeprecatedName&&(s=rx(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${n.type} for op: ${e.op}`)}return t[n.name]={value:s,type:r},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let r={};null!=t&&(r=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const s=[],a=[];e.signature.inputArg.forEach((e=>{const[t]=_w(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:nx(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,s.push(n),r[t]=n}));Object.keys(r).forEach((e=>{const t=r[e];t.inputNames.forEach(((e,n)=>{const[s,,a]=_w(e),o=r[s];if(null!=o.outputs){const e=o.outputs.indexOf(a);if(-1!==e){const r=`${s}:${e}`;t.inputNames[n]=r}}t.inputs.push(o),o.children.push(t)}))}));const o=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=_w(o[e.name]),s=r[t];null!=s&&(s.defaultOutput=n,a.push(s))}));const i=this.mapArgsToSignature(e);return{nodes:r,inputs:s,outputs:a,weights:n,placeholders:[],signature:i}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function Jw(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=Jd().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function Zw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=e[t];return null!=s?Jw(s.s,r):n}function ex(e,t,n){const r=e[t];return r?r.b:n}function tx(e,t,n){const r=e[t]||{},s=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof s?s:parseInt(s,10)}function nx(e){switch("string"===typeof e&&(e=ww[e]),e){case ww.DT_FLOAT:case ww.DT_HALF:return"float32";case ww.DT_INT32:case ww.DT_INT64:case ww.DT_INT8:case ww.DT_UINT8:return"int32";case ww.DT_BOOL:return"bool";case ww.DT_DOUBLE:return"float32";case ww.DT_STRING:return"string";case ww.DT_COMPLEX64:case ww.DT_COMPLEX128:return"complex64";default:return null}}function rx(e,t,n){const r=e[t];return r&&r.func?r.func.name:n}function sx(e,t,n){const r=e[t];return r&&r.type?nx(r.type):n}function ax(e,t,n){const r=e[t];return r&&r.list&&r.list.type?r.list.type.map((e=>nx(e))):n}function ox(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"===typeof e.size?e.size:parseInt(e.size,10))):[]}function ix(e,t,n){const r=e[t];return r&&r.shape?ox(r.shape):n}function lx(e,t,n){const r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((e=>"number"===typeof e?e:parseInt(e,10))):n}function ux(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=e[t];return s&&s.list&&s.list.s?s.list.s.map((e=>Jw(e,r))):n}function cx(e,t,n){const r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((e=>ox(e))):n}function dx(e,t,n){const r=e[t];return r&&r.list&&r.list.b?r.list.b:n}class hx{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return Tw(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return Tw(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return tx(this.node.rawAttrs,e,t);if(null!=n.s)return Zw(this.node.rawAttrs,e,t);if(null!=n.b)return ex(this.node.rawAttrs,e,t);if(null!=n.shape)return ix(this.node.rawAttrs,e,t);if(null!=n.type)return sx(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return lx(this.node.rawAttrs,e,t);if(null!=n.list.s)return ux(this.node.rawAttrs,e,t);if(null!=n.list.shape)return cx(this.node.rawAttrs,e,t);if(null!=n.list.b)return dx(this.node.rawAttrs,e,t);if(null!=n.list.type)return ax(this.node.rawAttrs,e,t)}return t}}function px(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){Ad(e.length===t.length,(()=>n+` Shapes ${e} and ${t} must match`));for(let r=0;r<e.length;r++){const s=e[r],a=t[r];Ad(s<0||a<0||s===a,(()=>n+` Shapes ${e} and ${t} must match`))}}}function fx(e){return"number"!==typeof e&&!e.some((e=>e<0))}function mx(e,t,n){let r=gx(e,n);const s=!fx(r);if(s&&0===t.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(s&&t.forEach((e=>{r=gx(e.shape,r)})),!fx(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function gx(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error(`Incompatible ranks during merge: ${e} vs. ${t}`);const n=[];for(let r=0;r<e.length;++r){const s=e[r],a=t[r];if(s>=0&&a>=0&&s!==a)throw new Error(`Incompatible shape during merge: ${e} vs. ${t}`);n[r]=s>=0?s:a}return n}class yx{constructor(e,t,n,r,s,a,o){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=s,this.dynamicSize=a,this.clearAfterRead=o,this.tensors=[],this.closed_=!1,this.idTensor=Bf(0),Ep(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),px(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,Ep(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return bp([],[0].concat(this.elementShape));const n=this.readMany(e);return px(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),Lv(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return bp([],[0].concat(this.elementShape));const t=[];for(let r=0;r<this.size();r++)t.push(r);const n=this.readMany(t);return px(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),qm(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,Jv(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let n=0;const r=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${n}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const s=0===n?0:t.size/n,a=[];Sp((()=>{t=Vm(t,[1,n,s]);for(let n=0;n<e.length;++n){const o=[0,0===n?0:r[n-1],0],i=[1,e[n],s];a[n]=Vm(Gm(t,o,i),this.elementShape)}return a}));const o=[];for(let i=0;i<e.length;i++)o[i]=i;this.writeMany(o,a)}}class vx{get id(){return this.idTensor.id}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${e.dtype}`);px(t,e.shape,"TensorList shape mismatch: "),Ep(e)})),this.idTensor=Bf(0),this.maxNumElements=r,Ep(this.idTensor)}copy(){return new vx([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(-1!==n&&this.tensors.length!==n)throw new Error(`Operation expected a list with ${n} elements but got a list with ${this.tensors.length} elements.`);px(e,this.elementShape,"TensorList shape mismatch: ");const r=mx(this.elementShape,this.tensors,e);return Sp((()=>{const e=this.tensors.map((e=>Vm(e,r)));return Lv(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=mx(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,px(r.shape,e,"TensorList shape mismatch: "),Vm(r,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(px(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Ep(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const t=new vx([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)t.tensors[n]=this.tensors[n];return t}getItem(e,t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw new Error(`element at index ${e} is null.`);px(this.tensors[e].shape,t,"TensorList shape mismatch: ");const r=mx(this.elementShape,this.tensors,t);return Vm(this.tensors[e],r)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);px(this.elementShape,t.shape,"TensorList shape mismatch: "),Ep(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);px(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=mx(this.elementShape,this.tensors,n);return 0===e.length?bp([],[0].concat(r)):Sp((()=>{const t=e.map((e=>Vm(this.tensors[e],r)));return Lv(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);px(this.elementShape,t,"TensorList shape mismatch: ");const n=mx(this.elementShape,this.tensors,t);return 0===this.size()?bp([],[0].concat(n)):Sp((()=>{const e=this.tensors.map((e=>Vm(e,n)));return qm(e,0)}))}}const bx=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const r=Ew("thenBranch",e,t,n),s=Ew("elseBranch",e,t,n),a=Ew("cond",e,t,n),o=Ew("args",e,t,n);return(await a.data())[0]?n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap):n.functionMap[s].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=Ew("body",e,t,n),s=Ew("cond",e,t,n),a=Ew("args",e,t,n),o=await n.functionMap[s].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap),i=a.map((e=>e.id));let l=await o[0].data();o.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||e.dispose()}));let u=a;for(;l[0];){const e=u;u=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const t=u.map((e=>e.id));e.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const a=await n.functionMap[s].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await a[0].data(),a.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return u}case"LoopCond":return[Rw(Ew("pred",e,t,n))];case"Switch":{const r=Ew("pred",e,t,n);let s=Ew("data",e,t,n);return s.kept||(s=Rw(s)),(await r.data())[0]?[void 0,s]:[s,void 0]}case"Merge":{const r=e.inputNames.find((e=>void 0!==Tw(e,t,n)));if(r){return[Rw(Tw(r,t,n))]}return}case"Enter":{const r=Ew("frameName",e,t,n),s=Ew("tensor",e,t,n);return n.enterFrame(r),[Rw(s)]}case"Exit":{const r=Ew("tensor",e,t,n);return n.exitFrame(),[Rw(r)]}case"NextIteration":{const r=Ew("tensor",e,t,n);return n.nextIteration(),[Rw(r)]}case"TensorArrayV3":{const r=Ew("size",e,t,n),s=Ew("dtype",e,t,n),a=Ew("elementShape",e,t,n),o=Ew("dynamicSize",e,t,n),i=Ew("clearAfterRead",e,t,n),l=Ew("identicalElementShapes",e,t,n),u=Ew("name",e,t,n),c=new yx(u,s,r,a,l,o,i);return n.addTensorArray(c),[c.idTensor,Bf(1)]}case"TensorArrayWriteV3":{const r=Ew("tensorArrayId",e,t,n),s=Ew("index",e,t,n),a=Ew("tensor",e,t,n),o=n.getTensorArray(r.id);return o.write(s,a),[o.idTensor]}case"TensorArrayReadV3":{const r=Ew("tensorArrayId",e,t,n),s=Ew("index",e,t,n);return[n.getTensorArray(r.id).read(s)]}case"TensorArrayGatherV3":{const r=Ew("tensorArrayId",e,t,n),s=Ew("indices",e,t,n),a=Ew("dtype",e,t,n);return[n.getTensorArray(r.id).gather(s,a)]}case"TensorArrayScatterV3":{const r=Ew("tensorArrayId",e,t,n),s=Ew("indices",e,t,n),a=Ew("tensor",e,t,n),o=n.getTensorArray(r.id);return o.scatter(s,a),[o.idTensor]}case"TensorArrayConcatV3":{const r=Ew("tensorArrayId",e,t,n),s=n.getTensorArray(r.id),a=Ew("dtype",e,t,n);return[s.concat(a)]}case"TensorArraySplitV3":{const r=Ew("tensorArrayId",e,t,n),s=Ew("tensor",e,t,n),a=Ew("lengths",e,t,n),o=n.getTensorArray(r.id);return o.split(a,s),[o.idTensor]}case"TensorArraySizeV3":{const r=Ew("tensorArrayId",e,t,n);return[Bf(n.getTensorArray(r.id).size(),"int32")]}case"TensorArrayCloseV3":{const r=Ew("tensorArrayId",e,t,n),s=n.getTensorArray(r.id);return s.clearAndClose(),[s.idTensor]}case"TensorListSetItem":{const r=Ew("tensorListId",e,t,n),s=Ew("index",e,t,n),a=Ew("tensor",e,t,n),o=n.getTensorList(r.id);return o.setItem(s,a),[o.idTensor]}case"TensorListGetItem":{const r=Ew("tensorListId",e,t,n),s=Ew("index",e,t,n),a=Ew("elementShape",e,t,n),o=Ew("elementDType",e,t,n);return[n.getTensorList(r.id).getItem(s,a,o)]}case"TensorListScatterV2":case"TensorListScatter":{const r=Ew("indices",e,t,n),s=function(e,t,n,r){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const s=Math.max(...t);if(null!=r&&-1!==r&&s>=r)throw new Error(`Max index must be < array size (${s}  vs. ${r})`);const a=new vx([],n,e.dtype,r),o=Jv(e,0);return t.forEach(((e,t)=>{a.setItem(e,o[t])})),a}(Ew("tensor",e,t,n),r,Ew("elementShape",e,t,n),Ew("numElements",e,t,n));return n.addTensorList(s),[s.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=Ew("elementShape",e,t,n),s=Ew("elementDType",e,t,n);let a;a="TensorListReserve"===e.op?"numElements":"maxNumElements";const o=Ew(a,e,t,n),i=function(e,t,n,r){return new vx([],e,t,r)}(r,s,0,"TensorListReserve"===e.op?-1:o);return n.addTensorList(i),[i.idTensor]}case"TensorListGather":{const r=Ew("tensorListId",e,t,n),s=Ew("indices",e,t,n),a=Ew("elementShape",e,t,n),o=Ew("elementDType",e,t,n);return[n.getTensorList(r.id).gather(s,o,a)]}case"TensorListStack":{const r=Ew("tensorListId",e,t,n),s=Ew("elementShape",e,t,n),a=Ew("elementDType",e,t,n),o=Ew("numElements",e,t,n);return[n.getTensorList(r.id).stack(s,a,o)]}case"TensorListFromTensor":{const r=function(e,t,n){const r=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);px(e.shape.slice(1),t,"TensorList shape mismatch: ");const s=Jv(e);return new vx(s,t,r)}(Ew("tensor",e,t,n),Ew("elementShape",e,t,n),Ew("elementDType",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=Ew("tensorListId",e,t,n),s=n.getTensorList(r.id),a=Ew("dtype",e,t,n),o=Ew("elementShape",e,t,n);return[s.concat(a,o)]}case"TensorListPushBack":{const r=Ew("tensorListId",e,t,n),s=Ew("tensor",e,t,n),a=n.getTensorList(r.id);return a.pushBack(s),[a.idTensor]}case"TensorListPopBack":{const r=Ew("tensorListId",e,t,n),s=Ew("elementShape",e,t,n),a=Ew("elementDType",e,t,n);return[n.getTensorList(r.id).popBack(s,a)]}case"TensorListSplit":{const r=Ew("tensor",e,t,n),s=Ew("elementShape",e,t,n),a=function(e,t,n){let r=0;const s=t.map((e=>(r+=e,r)));if(r!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${r}, and tensor's shape is: ${e.shape}`);const a=gx(e.shape.slice(1),n),o=0===r?0:e.size/r,i=Sp((()=>{const n=[];e=Vm(e,[1,r,o]);for(let r=0;r<t.length;++r){const i=[0,0===r?0:s[r-1],0],l=[1,t[r],o];n[r]=Vm(Gm(e,i,l),a)}return e.dispose(),n})),l=new vx([],n,e.dtype,t.length);for(let u=0;u<i.length;u++)l.setItem(u,i[u]);return l}(r,Ew("lengths",e,t,n),s);return n.addTensorList(a),[a.idTensor]}case"TensorListLength":{const r=Ew("tensorListId",e,t,n);return[Bf(n.getTensorList(r.id).size(),"int32")]}case"TensorListResize":{const r=Ew("tensorListId",e,t,n),s=Ew("size",e,t,n),a=n.getTensorList(r.id).resize(s);return n.addTensorList(a),[a.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};function wx(e,t,n){const[r,s]=Ew("fusedOps",e,t,n),a="biasadd"===r,o=!a,i="prelu"===s,l="fusedbatchnorm"===r,u=Ew("numArgs",e,t,n);if(a){if(i&&2!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&a&&1!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=Ew("strides",e,t,n),d=Ow(e,t,n),h=Ew("dataFormat",e,t,n).toUpperCase(),p=Ew("dilations",e,t,n);let[f,m]=Ew("args",e,t,n);o&&(m=f,f=void 0);return{stride:c,pad:d,dataFormat:h,dilations:p,biasArg:f,preluArg:m,activationFunc:s,leakyreluAlpha:Ew("leakyreluAlpha",e,t,n)}}function xx(e,t,n){return{boxes:Ew("boxes",e,t,n),scores:Ew("scores",e,t,n),maxOutputSize:Ew("maxOutputSize",e,t,n),iouThreshold:Ew("iouThreshold",e,t,n),scoreThreshold:Ew("scoreThreshold",e,t,n),softNmsSigma:Ew("softNmsSigma",e,t,n)}}class Sx{get id(){return this.handle.id}constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=Bf(0),this.tensorMap=new Map,Ep(this.handle)}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Bf(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),Sp((()=>{const e=Jv(t),r=n.length,s=e.length;Ad(r===s,(()=>`The number of elements doesn't match, keys has ${r} elements, the values has ${s} elements.`));for(let t=0;t<r;t++){const r=n[t],s=e[t];Ep(s),this.tensorMap.set(r,s)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return Sp((()=>{const e=[];for(let r=0;r<n.length;r++){const s=n[r],a=this.findWithDefault(s,t);e.push(a)}return Lv(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}}function kx(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Sp;const a=((e,t,n)=>{switch(e.category){case"arithmetic":return s((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(Ew("a",e,t,n),Ew("b",e,t,n))];case"AddN":return[r.addN(Ew("tensors",e,t,n))];case"FloorMod":case"Mod":return[r.mod(Ew("a",e,t,n),Ew("b",e,t,n))];case"Mul":return[r.mul(Ew("a",e,t,n),Ew("b",e,t,n))];case"RealDiv":case"Div":return[r.div(Ew("a",e,t,n),Ew("b",e,t,n))];case"DivNoNan":return[r.divNoNan(Ew("a",e,t,n),Ew("b",e,t,n))];case"FloorDiv":return[r.floorDiv(Ew("a",e,t,n),Ew("b",e,t,n))];case"Sub":return[r.sub(Ew("a",e,t,n),Ew("b",e,t,n))];case"Minimum":return[r.minimum(Ew("a",e,t,n),Ew("b",e,t,n))];case"Maximum":return[r.maximum(Ew("a",e,t,n),Ew("b",e,t,n))];case"Pow":return[r.pow(Ew("a",e,t,n),Ew("b",e,t,n))];case"SquaredDifference":return[r.squaredDifference(Ew("a",e,t,n),Ew("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"basic_math":return s((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;switch(e.op){case"Abs":case"ComplexAbs":return[r.abs(Ew("x",e,t,n))];case"Acos":return[r.acos(Ew("x",e,t,n))];case"Acosh":return[r.acosh(Ew("x",e,t,n))];case"Asin":return[r.asin(Ew("x",e,t,n))];case"Asinh":return[r.asinh(Ew("x",e,t,n))];case"Atan":return[r.atan(Ew("x",e,t,n))];case"Atan2":return[r.atan2(Ew("x",e,t,n),Ew("y",e,t,n))];case"Atanh":return[r.atanh(Ew("x",e,t,n))];case"Ceil":return[r.ceil(Ew("x",e,t,n))];case"Complex":return[r.complex(Ew("real",e,t,n),Ew("imag",e,t,n))];case"Cos":return[r.cos(Ew("x",e,t,n))];case"Cosh":return[r.cosh(Ew("x",e,t,n))];case"Elu":return[r.elu(Ew("x",e,t,n))];case"Erf":return[r.erf(Ew("x",e,t,n))];case"Exp":return[r.exp(Ew("x",e,t,n))];case"Expm1":return[r.expm1(Ew("x",e,t,n))];case"Floor":return[r.floor(Ew("x",e,t,n))];case"Log":return[r.log(Ew("x",e,t,n))];case"Log1p":return[r.log1p(Ew("x",e,t,n))];case"Imag":return[r.imag(Ew("x",e,t,n))];case"Neg":return[r.neg(Ew("x",e,t,n))];case"Reciprocal":return[r.reciprocal(Ew("x",e,t,n))];case"Real":return[r.real(Ew("x",e,t,n))];case"Relu":return[r.relu(Ew("x",e,t,n))];case"Round":return[r.round(Ew("x",e,t,n))];case"Selu":return[r.selu(Ew("x",e,t,n))];case"Sigmoid":return[r.sigmoid(Ew("x",e,t,n))];case"Sin":return[r.sin(Ew("x",e,t,n))];case"Sign":return[r.sign(Ew("x",e,t,n))];case"Sinh":return[r.sinh(Ew("x",e,t,n))];case"Softplus":return[r.softplus(Ew("x",e,t,n))];case"Sqrt":return[r.sqrt(Ew("x",e,t,n))];case"Square":return[r.square(Ew("x",e,t,n))];case"Tanh":return[r.tanh(Ew("x",e,t,n))];case"Tan":return[r.tan(Ew("x",e,t,n))];case"ClipByValue":return[r.clipByValue(Ew("x",e,t,n),Ew("clipValueMin",e,t,n),Ew("clipValueMax",e,t,n))];case"Relu6":return[r.relu6(Ew("x",e,t,n))];case"Rsqrt":return[r.rsqrt(Tw(e.inputNames[0],t,n))];case"LeakyRelu":return[r.leakyRelu(Ew("x",e,t,n),Ew("alpha",e,t,n))];case"Prelu":return[r.prelu(Ew("x",e,t,n),Ew("alpha",e,t,n))];case"IsNan":return[r.isNaN(Tw(e.inputNames[0],t,n))];case"IsInf":return[r.isInf(Tw(e.inputNames[0],t,n))];case"IsFinite":return[r.isFinite(Tw(e.inputNames[0],t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"control":return bx(e,t,n);case"convolution":return s((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;switch(e.op){case"Conv1D":{const s=Ew("stride",e,t,n),a=Ew("pad",e,t,n),o=Ew("dataFormat",e,t,n).toUpperCase(),i=Ew("dilation",e,t,n);return[r.conv1d(Ew("x",e,t,n),Ew("filter",e,t,n),s,a,o,i)]}case"Conv2D":{const s=Ew("strides",e,t,n),a=Ow(e,t,n),o=Ew("dataFormat",e,t,n).toUpperCase(),i=Ew("dilations",e,t,n);return[r.conv2d(Ew("x",e,t,n),Ew("filter",e,t,n),[s[1],s[2]],a,o,[i[1],i[2]])]}case"_FusedConv2D":{const{stride:s,pad:a,dataFormat:o,dilations:i,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=wx(e,t,n);return[r.fused.conv2d({x:Ew("x",e,t,n),filter:Ew("filter",e,t,n),strides:[s[1],s[2]],pad:a,dataFormat:o,dilations:[i[1],i[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:s,pad:a,dataFormat:o,dilations:i,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=wx(e,t,n);return[r.fused.depthwiseConv2d({x:Ew("x",e,t,n),filter:Ew("filter",e,t,n),strides:[s[1],s[2]],pad:a,dataFormat:o,dilations:[i[1],i[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const s=Ew("outputShape",e,t,n),a=Ew("strides",e,t,n),o=Ow(e,t,n);return[r.conv2dTranspose(Ew("x",e,t,n),Ew("filter",e,t,n),s,[a[1],a[2]],o)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const s=Ew("strides",e,t,n),a=Ow(e,t,n),o=Ew("dilations",e,t,n),i=Ew("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(Ew("input",e,t,n),Ew("filter",e,t,n),[s[1],s[2]],a,i,[o[1],o[2]])]}case"Conv3D":{const s=Ew("strides",e,t,n),a=Ew("pad",e,t,n),o=Ew("dataFormat",e,t,n).toUpperCase(),i=Ew("dilations",e,t,n);return[r.conv3d(Ew("x",e,t,n),Ew("filter",e,t,n),[s[1],s[2],s[3]],a,o,[i[1],i[2],i[3]])]}case"AvgPool":{const s=Ew("strides",e,t,n),a=Ew("pad",e,t,n),o=Ew("kernelSize",e,t,n);return[r.avgPool(Ew("x",e,t,n),[o[1],o[2]],[s[1],s[2]],a)]}case"MaxPool":{const s=Ew("strides",e,t,n),a=Ew("pad",e,t,n),o=Ew("kernelSize",e,t,n);return[r.maxPool(Ew("x",e,t,n),[o[1],o[2]],[s[1],s[2]],a)]}case"MaxPoolWithArgmax":{const s=Ew("strides",e,t,n),a=Ew("pad",e,t,n),o=Ew("kernelSize",e,t,n),i=Ew("includeBatchInIndex",e,t,n),{result:l,indexes:u}=r.maxPoolWithArgmax(Ew("x",e,t,n),[o[1],o[2]],[s[1],s[2]],a,i);return[l,u]}case"AvgPool3D":{const s=Ew("strides",e,t,n),a=Ew("pad",e,t,n),o=Ew("kernelSize",e,t,n);return[r.avgPool3d(Ew("x",e,t,n),[o[1],o[2],o[3]],[s[1],s[2],s[3]],a)]}case"MaxPool3D":{const s=Ew("strides",e,t,n),a=Ew("pad",e,t,n),o=Ew("kernelSize",e,t,n);return[r.maxPool3d(Ew("x",e,t,n),[o[1],o[2],o[3]],[s[1],s[2],s[3]],a)]}case"Dilation2D":{const s=Ew("strides",e,t,n),a=Ew("pad",e,t,n),o=Ew("dilations",e,t,n),i=s[1],l=s[2],u=o[1],c=o[2];return[r.dilation2d(Ew("x",e,t,n),Ew("filter",e,t,n),[i,l],a,[u,c],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"creation":return s((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;switch(e.op){case"Fill":{const s=Ew("shape",e,t,n),a=Ew("dtype",e,t,n),o=Ew("value",e,t,n);return[r.fill(s,o,a)]}case"LinSpace":{const s=Ew("start",e,t,n),a=Ew("stop",e,t,n),o=Ew("num",e,t,n);return[r.linspace(s,a,o)]}case"Multinomial":{const s=Ew("logits",e,t,n),a=Ew("numSamples",e,t,n),o=Ew("seed",e,t,n);return[r.multinomial(s,a,o)]}case"OneHot":{const s=Ew("indices",e,t,n),a=Ew("depth",e,t,n),o=Ew("onValue",e,t,n),i=Ew("offValue",e,t,n),l=Ew("dtype",e,t,n);return[r.oneHot(s,a,o,i,l)]}case"Ones":return[r.ones(Ew("shape",e,t,n),Ew("dtype",e,t,n))];case"OnesLike":return[r.onesLike(Ew("x",e,t,n))];case"RandomStandardNormal":return[r.randomStandardNormal(Ew("shape",e,t,n),Ew("dtype",e,t,n),Ew("seed",e,t,n))];case"RandomUniform":return[r.randomUniform(Ew("shape",e,t,n),Ew("minval",e,t,n),Ew("maxval",e,t,n),Ew("dtype",e,t,n))];case"RandomUniformInt":return[r.randomUniformInt(Ew("shape",e,t,n),Ew("minval",e,t,n),Ew("maxval",e,t,n),Ew("seed",e,t,n))];case"Range":{const s=Ew("start",e,t,n),a=Ew("stop",e,t,n),o=Ew("step",e,t,n);return[r.range(s,a,o,Ew("dtype",e,t,n))]}case"TruncatedNormal":{const s=Ew("shape",e,t,n),a=Ew("mean",e,t,n),o=Ew("stdDev",e,t,n),i=Ew("seed",e,t,n);return[r.truncatedNormal(s,a,o,Ew("dtype",e,t,n),i)]}case"Zeros":return[r.zeros(Ew("shape",e,t,n),Ew("dtype",e,t,n))];case"ZerosLike":return[r.zerosLike(Ew("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"dynamic":return async function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:k;switch(e.op){case"NonMaxSuppressionV5":{const{boxes:r,scores:a,maxOutputSize:o,iouThreshold:i,scoreThreshold:l,softNmsSigma:u}=xx(e,t,n),c=await s.image.nonMaxSuppressionWithScoreAsync(r,a,o,i,l,u);return[c.selectedIndices,c.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:r,scores:a,maxOutputSize:o,iouThreshold:i,scoreThreshold:l}=xx(e,t,n),u=Ew("padToMaxOutputSize",e,t,n),c=await s.image.nonMaxSuppressionPaddedAsync(r,a,o,i,l,u);return[c.selectedIndices,c.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:r,scores:a,maxOutputSize:o,iouThreshold:i,scoreThreshold:l}=xx(e,t,n);return[await s.image.nonMaxSuppressionAsync(r,a,o,i,l)]}case"Where":{const r=s.cast(Ew("condition",e,t,n),"bool"),a=[await s.whereAsync(r)];return r.dispose(),a}case"ListDiff":return s.setdiff1dAsync(Ew("x",e,t,n),Ew("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n);case"evaluation":return s((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;switch(e.op){case"LowerBound":{const s=Ew("sortedSequence",e,t,n),a=Ew("values",e,t,n);return[r.lowerBound(s,a)]}case"TopKV2":{const s=Ew("x",e,t,n),a=Ew("k",e,t,n),o=Ew("sorted",e,t,n),i=r.topk(s,a,o);return[i.values,i.indices]}case"UpperBound":{const s=Ew("sortedSequence",e,t,n),a=Ew("values",e,t,n);return[r.upperBound(s,a)]}case"Unique":{const s=Ew("x",e,t,n),a=r.unique(s);return[a.values,a.indices]}case"UniqueV2":{const s=Ew("x",e,t,n),a=Ew("axis",e,t,n),o=r.unique(s,a);return[o.values,o.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"image":return s((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;switch(e.op){case"ResizeBilinear":{const s=Ew("images",e,t,n),a=Ew("size",e,t,n),o=Ew("alignCorners",e,t,n),i=Ew("halfPixelCenters",e,t,n);return[r.image.resizeBilinear(s,[a[0],a[1]],o,i)]}case"ResizeNearestNeighbor":{const s=Ew("images",e,t,n),a=Ew("size",e,t,n),o=Ew("alignCorners",e,t,n),i=Ew("halfPixelCenters",e,t,n);return[r.image.resizeNearestNeighbor(s,[a[0],a[1]],o,i)]}case"CropAndResize":{const s=Ew("image",e,t,n),a=Ew("boxes",e,t,n),o=Ew("boxInd",e,t,n),i=Ew("cropSize",e,t,n),l=Ew("method",e,t,n),u=Ew("extrapolationValue",e,t,n);return[r.image.cropAndResize(s,a,o,i,l,u)]}case"ImageProjectiveTransformV3":{const s=Ew("images",e,t,n),a=Ew("transforms",e,t,n),o=Ew("outputShape",e,t,n),i=Ew("fillValue",e,t,n),l=Ew("interpolation",e,t,n),u=Ew("fillMode",e,t,n);return[r.image.transform(s,a,l.toLowerCase(),u.toLowerCase(),i,o)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"graph":return s((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const s=Ew("default",e,t,n);return[Tw(e.name,t,n)||s];case"Placeholder":return[Tw(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[Rw(Ew("x",e,t,n))];case"IdentityN":return Ew("x",e,t,n).map((e=>Rw(e)));case"Shape":return[r.tensor1d(Ew("x",e,t,n).shape,"int32")];case"ShapeN":return Ew("x",e,t,n).map((e=>r.tensor1d(e.shape)));case"Size":return[r.scalar(Ew("x",e,t,n).size,"int32")];case"Rank":return[r.scalar(Ew("x",e,t,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const a=Ew("x",e,t,n),o=Ew("data",e,t,n),i=Ew("message",e,t,n),l=Ew("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(i);for(let e=0;e<o.length;e++)console.log(Array.prototype.slice.call(o[e].dataSync()).slice(0,l));return[a];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"logical":return s((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;switch(e.op){case"Equal":return[r.equal(Ew("a",e,t,n),Ew("b",e,t,n))];case"NotEqual":return[r.notEqual(Ew("a",e,t,n),Ew("b",e,t,n))];case"Greater":return[r.greater(Ew("a",e,t,n),Ew("b",e,t,n))];case"GreaterEqual":return[r.greaterEqual(Ew("a",e,t,n),Ew("b",e,t,n))];case"Less":return[r.less(Ew("a",e,t,n),Ew("b",e,t,n))];case"LessEqual":return[r.lessEqual(Ew("a",e,t,n),Ew("b",e,t,n))];case"LogicalAnd":return[r.logicalAnd(Ew("a",e,t,n),Ew("b",e,t,n))];case"LogicalNot":return[r.logicalNot(Ew("a",e,t,n))];case"LogicalOr":return[r.logicalOr(Ew("a",e,t,n),Ew("b",e,t,n))];case"Select":case"SelectV2":return[r.where(Ew("condition",e,t,n),Ew("a",e,t,n),Ew("b",e,t,n))];case"BitwiseAnd":return[r.bitwiseAnd(Ew("a",e,t,n),Ew("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"matrices":return s((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(Ew("a",e,t,n),Ew("b",e,t,n),Ew("transposeA",e,t,n),Ew("transposeB",e,t,n))];case"Einsum":return[r.einsum(Ew("equation",e,t,n),...Ew("tensors",e,t,n))];case"Transpose":return[r.transpose(Ew("x",e,t,n),Ew("perm",e,t,n))];case"_FusedMatMul":const[s,a]=Ew("fusedOps",e,t,n),o="biasadd"===s,i="prelu"===a,l=Ew("numArgs",e,t,n),u=Ew("leakyreluAlpha",e,t,n);if(o){if(i&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,d]=Ew("args",e,t,n);return[r.fused.matMul({a:Ew("a",e,t,n),b:Ew("b",e,t,n),transposeA:Ew("transposeA",e,t,n),transposeB:Ew("transposeB",e,t,n),bias:c,activation:a,preluActivationWeights:d,leakyreluAlpha:u})];case"MatrixBandPart":return[r.linalg.bandPart(Ew("a",e,t,n),Ew("numLower",e,t,n),Ew("numUpper",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"normalization":return s((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;switch(e.op){case"EuclideanNorm":return[r.euclideanNorm(Ew("x",e,t,n),Ew("axis",e,t,n),Ew("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[r.batchNorm(Ew("x",e,t,n),Ew("mean",e,t,n),Ew("variance",e,t,n),Ew("offset",e,t,n),Ew("scale",e,t,n),Ew("epsilon",e,t,n))];case"LRN":return[r.localResponseNormalization(Ew("x",e,t,n),Ew("radius",e,t,n),Ew("bias",e,t,n),Ew("alpha",e,t,n),Ew("beta",e,t,n))];case"Softmax":return[r.softmax(Ew("x",e,t,n))];case"LogSoftmax":return[r.logSoftmax(Ew("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"ragged":return s((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;switch(e.op){case"RaggedGather":{const{outputNestedSplits:s,outputDenseValues:a}=r.raggedGather(Ew("paramsNestedSplits",e,t,n),Ew("paramsDenseValues",e,t,n),Ew("indices",e,t,n),Ew("outputRaggedRank",e,t,n));return s.concat(a)}case"RaggedRange":{const{rtNestedSplits:s,rtDenseValues:a}=r.raggedRange(Ew("starts",e,t,n),Ew("limits",e,t,n),Ew("splits",e,t,n));return[s,a]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(Ew("shape",e,t,n),Ew("values",e,t,n),Ew("defaultValue",e,t,n),Ew("rowPartitionTensors",e,t,n),Ew("rowPartitionTypes",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"reduction":return s((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;switch(e.op){case"Max":{const s=Ew("axis",e,t,n),a=Ew("keepDims",e,t,n);return[r.max(Ew("x",e,t,n),s,a)]}case"Mean":{const s=Ew("axis",e,t,n),a=Ew("keepDims",e,t,n);return[r.mean(Ew("x",e,t,n),s,a)]}case"Min":{const s=Ew("axis",e,t,n),a=Ew("keepDims",e,t,n);return[r.min(Ew("x",e,t,n),s,a)]}case"Sum":{const s=Ew("axis",e,t,n),a=Ew("keepDims",e,t,n);return[r.sum(Ew("x",e,t,n),s,a)]}case"All":{const s=Ew("axis",e,t,n),a=Ew("keepDims",e,t,n);return[r.all(Ew("x",e,t,n),s,a)]}case"Any":{const s=Ew("axis",e,t,n),a=Ew("keepDims",e,t,n);return[r.any(Ew("x",e,t,n),s,a)]}case"ArgMax":{const s=Ew("axis",e,t,n);return[r.argMax(Ew("x",e,t,n),s)]}case"ArgMin":{const s=Ew("axis",e,t,n);return[r.argMin(Ew("x",e,t,n),s)]}case"Prod":{const s=Ew("axis",e,t,n),a=Ew("keepDims",e,t,n);return[r.prod(Ew("x",e,t,n),s,a)]}case"Cumprod":{const s=Ew("axis",e,t,n),a=Ew("exclusive",e,t,n),o=Ew("reverse",e,t,n);return[r.cumprod(Ew("x",e,t,n),s,a,o)]}case"Cumsum":{const s=Ew("axis",e,t,n),a=Ew("exclusive",e,t,n),o=Ew("reverse",e,t,n);return[r.cumsum(Ew("x",e,t,n),s,a,o)]}case"Bincount":const s=Ew("x",e,t,n),a=Ew("weights",e,t,n),o=Ew("size",e,t,n);return[r.bincount(s,a,o)];case"DenseBincount":{const s=Ew("x",e,t,n),a=Ew("weights",e,t,n),o=Ew("size",e,t,n),i=Ew("binaryOutput",e,t,n);return[r.denseBincount(s,a,o,i)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"slice_join":return s((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;switch(e.op){case"ConcatV2":case"Concat":{const s=Ew("n",e,t,n),a=Ew("axis",e,t,n);let o=Ew("tensors",e,t,n);return o=o.slice(0,s),[r.concat(o,a)]}case"Gather":{const s=Ew("x",e,t,n),a=Ew("indices",e,t,n);return[r.gather(s,r.cast(a,"int32"),0)]}case"GatherV2":{const s=Ew("axis",e,t,n),a=Ew("batchDims",e,t,n),o=Ew("x",e,t,n),i=Ew("indices",e,t,n);return[r.gather(o,r.cast(i,"int32"),s,a)]}case"Reverse":{const s=Ew("dims",e,t,n),a=[];for(let e=0;e<s.length;e++)s[e]&&a.push(e);const o=Ew("x",e,t,n);return[r.reverse(o,a)]}case"ReverseV2":{const s=Ew("axis",e,t,n),a=Ew("x",e,t,n);return[r.reverse(a,s)]}case"Slice":{const s=Ew("begin",e,t,n),a=Ew("size",e,t,n);return[r.slice(Ew("x",e,t,n),s,a)]}case"StridedSlice":{const s=Ew("begin",e,t,n),a=Ew("end",e,t,n),o=Ew("strides",e,t,n),i=Ew("beginMask",e,t,n),l=Ew("endMask",e,t,n),u=Ew("ellipsisMask",e,t,n),c=Ew("newAxisMask",e,t,n),d=Ew("shrinkAxisMask",e,t,n),h=Ew("x",e,t,n);return[r.stridedSlice(h,s,a,o,i,l,u,c,d)]}case"Pack":return Sp((()=>{const s=Ew("axis",e,t,n),a=Ew("tensors",e,t,n),o=a[0].shape,i=r.squeeze(a[0]).shape,l=a.map((e=>{const t=Dd(e.shape,o);if(!t&&!Dd(r.squeeze(e).shape,i))throw new Error("the input tensors shape does not match");return t?e:r.reshape(e,o)}));return[r.stack(l,s)]}));case"Unpack":{const s=Ew("axis",e,t,n),a=Ew("tensor",e,t,n);return r.unstack(a,s)}case"Tile":{const s=Ew("reps",e,t,n);return[r.tile(Ew("x",e,t,n),s)]}case"Split":case"SplitV":{const s=Ew("axis",e,t,n),a=Ew("numOrSizeSplits",e,t,n),o=Ew("x",e,t,n);return r.split(o,a,s)}case"ScatterNd":{const s=Ew("indices",e,t,n),a=Ew("values",e,t,n),o=Ew("shape",e,t,n);return[r.scatterND(s,a,o)]}case"GatherNd":{const s=Ew("x",e,t,n),a=Ew("indices",e,t,n);return[r.gatherND(s,a)]}case"SparseToDense":{const s=Ew("sparseIndices",e,t,n),a=Ew("outputShape",e,t,n),o=Ew("sparseValues",e,t,n),i=Ew("defaultValue",e,t,n);return[r.sparseToDense(s,o,a,o.dtype===i.dtype?i:r.cast(i,o.dtype))]}case"TensorScatterUpdate":{const s=Ew("indices",e,t,n),a=Ew("values",e,t,n),o=Ew("tensor",e,t,n);return[r.tensorScatterUpdate(o,s,a)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"sparse":return s((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:s,outputValues:a,emptyRowIndicator:o,reverseIndexMap:i}=r.sparse.sparseFillEmptyRows(Ew("indices",e,t,n),Ew("values",e,t,n),Ew("denseShape",e,t,n),Ew("defaultValue",e,t,n));return[s,a,o,i]}case"SparseReshape":{const{outputIndices:s,outputShape:a}=r.sparse.sparseReshape(Ew("inputIndices",e,t,n),Ew("inputShape",e,t,n),Ew("newShape",e,t,n));return[s,a]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(Ew("data",e,t,n),Ew("indices",e,t,n),Ew("segmentIds",e,t,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(Ew("data",e,t,n),Ew("indices",e,t,n),Ew("segmentIds",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"spectral":return s((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;switch(e.op){case"FFT":return[r.fft(Ew("x",e,t,n))];case"IFFT":return[r.ifft(Ew("x",e,t,n))];case"RFFT":return[r.rfft(Ew("x",e,t,n))];case"IRFFT":return[r.irfft(Ew("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"string":return s((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;switch(e.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(Ew("input",e,t,n),Ew("pattern",e,t,n),Ew("rewrite",e,t,n),Ew("replaceGlobal",e,t,n))];case"StringNGrams":{const{nGrams:s,nGramsSplits:a}=r.string.stringNGrams(Ew("data",e,t,n),Ew("dataSplits",e,t,n),Ew("separator",e,t,n),Ew("nGramWidths",e,t,n),Ew("leftPad",e,t,n),Ew("rightPad",e,t,n),Ew("padWidth",e,t,n),Ew("preserveShortSequences",e,t,n));return[s,a]}case"StringSplit":{const{indices:s,values:a,shape:o}=r.string.stringSplit(Ew("input",e,t,n),Ew("delimiter",e,t,n),Ew("skipEmpty",e,t,n));return[s,a,o]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(Ew("input",e,t,n),Ew("numBuckets",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"transformation":return s((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;switch(e.op){case"Cast":return[r.cast(Ew("x",e,t,n),Ew("dtype",e,t,n))];case"ExpandDims":{const s=Ew("axis",e,t,n);return[r.expandDims(Ew("x",e,t,n),s)]}case"Squeeze":{const s=Ew("axis",e,t,n);return[r.squeeze(Ew("x",e,t,n),s)]}case"Reshape":return[r.reshape(Ew("x",e,t,n),Ew("shape",e,t,n))];case"EnsureShape":return[r.ensureShape(Ew("x",e,t,n),Ew("shape",e,t,n))];case"MirrorPad":return[r.mirrorPad(Ew("x",e,t,n),Ew("padding",e,t,n),Ew("mode",e,t,n))];case"PadV2":case"Pad":return[r.pad(Ew("x",e,t,n),Ew("padding",e,t,n),Ew("constantValue",e,t,n))];case"SpaceToBatchND":{const s=Ew("blockShape",e,t,n),a=Ew("paddings",e,t,n);return[r.spaceToBatchND(Ew("x",e,t,n),s,a)]}case"BatchToSpaceND":{const s=Ew("blockShape",e,t,n),a=Ew("crops",e,t,n);return[r.batchToSpaceND(Ew("x",e,t,n),s,a)]}case"DepthToSpace":{const s=Ew("blockSize",e,t,n),a=Ew("dataFormat",e,t,n).toUpperCase();return[r.depthToSpace(Ew("x",e,t,n),s,a)]}case"BroadcastTo":return[r.broadcastTo(Ew("x",e,t,n),Ew("shape",e,t,n))];case"BroadcastArgs":return[r.broadcastArgs(Ew("s0",e,t,n),Ew("s1",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"hash_table":return(async(e,t,n,r)=>{switch(e.op){case"HashTable":case"HashTableV2":{const s=r.getHashTableHandleByName(e.name);if(null!=s)return[s];{const s=Ew("keyDType",e,t,n),a=Ew("valueDType",e,t,n),o=new Sx(s,a);return r.addHashTable(e.name,o),[o.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const s=Ew("tableHandle",e,t,n,r),a=Ew("keys",e,t,n),o=Ew("values",e,t,n),i=r.getHashTableById(s.id);return[await i.import(a,o)]}case"LookupTableFind":case"LookupTableFindV2":{const s=Ew("tableHandle",e,t,n,r),a=Ew("keys",e,t,n),o=Ew("defaultValue",e,t,n),i=r.getHashTableById(s.id);return[await i.find(a,o)]}case"LookupTableSize":case"LookupTableSizeV2":{const s=Ew("tableHandle",e,t,n,r);return[r.getHashTableById(s.id).tensorSize()]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n,r);case"custom":const a=kw(e.op);if(a&&a.customExecutor)return a.customExecutor(new hx(e,t,n));throw TypeError(`Custom op ${e.op} is not registered.`);default:throw TypeError(`Unknown op '${e.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return Gd(a)?a.then((e=>[].concat(e))):[].concat(a)}class Ex{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=r,this.parseNodeNameCache=s,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function Tx(e,t,n,r){const s=new Set,a=[];let o=null,i=null;const l=new Set,u=new Set(Object.keys(e).map((e=>Aw(e)[0])));r=r||[];const c=new Set(r.map((e=>Aw(e.name)[0]))),d=[...t];for(;d.length>0;){const e=d.pop();(Rx(e)||Px(e)||Dx(e))&&null==o&&(o=e,i=o.children.map((e=>e.name)).filter((e=>s.has(e)))),s.add(e.name),null==n[e.name]&&(u.has(e.name)||c.has(e.name)||(0!==e.inputs.length?e.inputs.forEach((e=>{l.has(e.name)||(l.add(e.name),d.push(e))})):a.push(e.name)))}return{inputs:e,outputs:t,usedNodes:s,missingInputs:a,dynamicNode:o,syncInputs:i}}function Nx(e,t){const{usedNodes:n,inputs:r}=t,s=Object.keys(r).map((e=>Aw(e)[0])).map((t=>e.nodes[t])),a=e.initNodes||[],o=e=>n.has("string"===typeof e?e:e.name);function i(e){return[...new Map(e.map((e=>[e.name,e]))).values()]}const l=i([...s,...e.weights,...a]).filter(o),u=i([...l,...Object.values(e.nodes)]).filter(o),c=new Map(u.map((e=>[e.name,e]))),d={};for(const m of u){d[m.name]=d[m.name]||0;for(const e of m.children)o(e)||(d[e.name]=Number.POSITIVE_INFINITY),d[e.name]=(d[e.name]||0)+1}const h=Object.entries(d).filter((e=>{let[,t]=e;return 0===t})).map((e=>{let[t]=e;return t})),p=[...h];for(;h.length>0;){const e=h.pop(),t=c.get(e);for(const n of t.children.filter(o))0===--d[n.name]&&(p.push(n.name),h.push(n.name))}const f=function(e,t){const n=new Map(e.map((e=>[e.name,e]))),r=t.map((e=>e.name)),s=new Set(r);for(;r.length>0;){const e=r.pop(),t=n.get(e);for(const a of t.children)n.has(a.name)&&!s.has(a.name)&&(s.add(a.name),r.push(a.name))}const a=e.filter((e=>s.has(e.name)));return a}(p.map((e=>c.get(e))),l);return function(e,t){const n=new Map(e.map(((e,t)=>[e.name,t]))),r=new Set(t.map((e=>e.name))),s=e=>r.has("string"===typeof e?e:e.name),a=new Set(e.map((e=>e.name))),o=e=>a.has("string"===typeof e?e:e.name);for(const i of e){for(const e of i.children.filter(o)){if(!n.has(e.name))throw new _x(`Child ${e.name} of node ${i.name} is unreachable.`);if(n.get(i.name)>n.get(e.name))throw new _x(`Node ${i.name} is scheduled to run after its child ${e.name}.`)}if(!s(i))for(const e of i.inputs){if(!n.has(e.name))throw new _x(`Input ${e.name} of node ${i.name} is unreachable.`);if(n.get(e.name)>n.get(i.name))throw new _x(`Node ${i.name} is scheduled to run before its input ${e.name}.`)}}}(f,l),f}class _x extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}const Cx=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),Ax=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),Ox=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function Rx(e){return Cx.has(e.op)}function Px(e){return Ax.has(e.op)}function Dx(e){return Ox.has(e.op)}class Ix{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new Ix(e.functions[t],this)}))}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),r=t.map((e=>e.name)).sort();return n.join(this.SEPARATOR)+"--"+r.join(this.SEPARATOR)}compile(e,t){const n=Tx(e,t,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:s,syncInputs:a}=n;if(null!=s)throw new Error(`This execution contains the node '${s.name}', which has the dynamic op '${s.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${a}]`);if(r.length>0){const n=t.map((e=>e.name)),s=Object.keys(e);throw new Error(`Cannot compute the outputs [${n}] from the provided inputs [${s}]. Missing the following inputs: [${r}]`)}const o=Nx(this.graph,n),i=function(e){const t=new Map(e.map(((e,t)=>[e.name,t]))),n=Number.MAX_SAFE_INTEGER,r=e.map(((e,t)=>Rx(e)?n:t)),s=e=>{const n=r[t.get(e.name)];return null==n?-1:n},a=e.map(((e,t)=>e.children.map(s).reduce(((e,t)=>Math.max(e,t)),r[t]))),o=new Map;for(let i=0;i<e.length;++i){const t=a[i];if(t===n)continue;const r=e[i],s=e[t];o.has(s.name)||o.set(s.name,[]),o.get(s.name).push(r)}return o}(o);return{orderedNodes:o,nodeLiveUntilMap:i}}cloneAndKeepTensor(e){if(null==e)return null;const t=e.clone();return Ep(t),t}cloneTensorList(e){if(!e)return null;const t=e.map((e=>this.cloneAndKeepTensor(e)));return t}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[t,this.cloneTensorList(n)]})))}execute(e,t){this.disposeIntermediateTensors(),e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const r=n.map((e=>this.graph.nodes[Aw(e)[0]])),s=t.map((e=>Aw(e)[0])),a=new Set(s);let o=s.map((e=>this.graph.nodes[e]));0===o.length&&(o=this._outputs);const i=this.getCompilationKey(r,o);let l=this.compiledMap.get(i);null==l&&(l=this.compile(e,o),this.compiledMap.set(i,l));try{this.keepIntermediateTensors=Jd().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(Qk){this.keepIntermediateTensors=!1,console.warn(Qk.message)}const u={},c={};return Sp((()=>{const n=new Ex(this.weightMap,u,c,this.functionExecutorMap,this.parseNodeNameCache),r=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach((t=>{const[s,a]=Aw(t,n),o=[];o[a]=e[t],r[s]=o,this.keepIntermediateTensors&&(this.clonedTensorsMap[s]=this.cloneTensorList(o))}));const s=this.getFrozenTensorIds(r),{orderedNodes:o,nodeLiveUntilMap:i}=l;for(const e of o){if(r[e.name])continue;const t=kx(e,r,n,this._resourceManager);if(Gd(t))throw new Error(`The execution of the op '${e.op}' returned a promise. Please use model.executeAsync() instead.`);r[e.name]=t,this.keepIntermediateTensors&&(this.clonedTensorsMap[e.name]=this.cloneTensorList(t)),this.checkTensorForDisposalWithNodeLiveUntilInfo(e,r,n,s,a,i.get(e.name))}return null==this.parent&&n.dispose(s),t.map((e=>Tw(e,r,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,r,s,a,o){if(!Rx(t)&&!a.has(e)){for(const r of n[e])null!=r&&(o[r.id]=(o[r.id]||0)+t.children.length);for(const e of t.inputs){if(Rx(e))continue;const t=Nw(e.name,n,r);if(null!=t)for(const e of t){if(!e||e.kept||s.has(e.id))continue;const t=o[e.id];1===t?(e.dispose(),delete o[e.id]):null!=t&&o[e.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,t,n,r,s,a){function o(e){return Rx(e)||s.has(e.name)}if(!Rx(e)&&null!=a)for(const i of a){if(o(i))continue;const e=Nw(i.name,t,n);for(const t of e)!t||t.kept||r.has(t.id)||t.dispose()}}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach((e=>{for(const t of e)t&&!t.isDisposed&&t.dispose()})),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.disposeIntermediateTensors(),n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepIntermediateTensors=Jd().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(Qk){this.keepIntermediateTensors=!1,console.warn(Qk.message)}const a=new Ex(this.weightMap,r,s,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const o=await this.executeWithControlFlow(e,a,t,n),i=t.map((e=>Tw(e,o,a))),l=i.map((e=>e.id)),u=Object.keys(e).map((t=>e[t].id)),c=new Set([...l,...u,...this.weightIds]);return Object.values(o).forEach((e=>{e.forEach((e=>{!e||e.isDisposed||c.has(e.id)||e.dispose()}))})),null==this.parent&&a.dispose(c),i}async executeFunctionAsync(e,t,n){const r=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(r,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,r){const s=Object.keys(e),a=s.map((e=>this.graph.nodes[Aw(e)[0]])),o=n.map((e=>Aw(e)[0])),i=new Set(o);let l=o.map((e=>this.graph.nodes[e]));0===l.length&&(l=this._outputs);const{usedNodes:u,missingInputs:c,dynamicNode:d,syncInputs:h}=Tx(e,l,this.weightMap,this._initNodes),p=[...a,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),f=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,r]=Aw(t),s=[];s[r]=e[t],f[n]=s}));const m={},g=this.getFrozenTensorIds(f),y={};for(;p.length>0;){const e=this.processStack(a,p,t,f,y,g,i,m,u);await Promise.all(e)}null!=d||r||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const v=l.filter((e=>!Rx(e)&&!Tw(e.name,f,t))).map((e=>e.name));if(v.length>0){let e="";throw null!=d&&(e=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${h}]`),new Error(`Cannot compute the outputs [${v}] from the provided inputs [${s}]. Consider providing the following inputs: [${c}]. ${e}`)}return f}processStack(e,t,n,r,s,a,o,i,l){const u=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let c="";if("Enter"===e.node.op&&Ew("isConstant",e.node,r,n)&&([c]=_w(e.node.name,n)),null==r[e.node.name]){const d=kx(e.node,r,n,this._resourceManager);c||([c]=_w(e.node.name,n));const h=n.currentContext;Gd(d)?u.push(d.then((u=>(r[c]=u,this.keepIntermediateTensors&&(this.clonedTensorsMap[c]=this.cloneTensorList(u)),n.currentContext=h,this.checkTensorForDisposal(c,e.node,r,n,a,o,i),this.processChildNodes(e.node,t,n,r,s,l),u)))):(r[c]=d,this.keepIntermediateTensors&&(this.clonedTensorsMap[c]=this.cloneTensorList(d)),this.checkTensorForDisposal(c,e.node,r,n,a,o,i),this.processChildNodes(e.node,t,n,r,s,l))}else this.processChildNodes(e.node,t,n,r,s,l)}return u}processChildNodes(e,t,n,r,s,a){e.children.forEach((e=>{const[o]=_w(e.name,n);!s[o]&&a.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!Tw(e,r,n)))&&(s[o]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!Tw(e,r,n)))&&(s[o]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[r]=Aw(t),s=this.graph.nodes[r];if(s.attrParams.shape&&s.attrParams.shape.value){const e=s.attrParams.shape.value;Ad(e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t)),(()=>`The shape of dict['${s.name}'] provided in model.execute(dict) must be [${e}], but was [${n.shape}]`))}s.attrParams.dtype&&s.attrParams.dtype.value&&Ad(n.dtype===s.attrParams.dtype.value,(()=>`The dtype of dict['${s.name}'] provided in model.execute(dict) must be ${s.attrParams.dtype.value}, but was ${n.dtype}`))}))}mapInputs(e){var t,n;const r={};for(const s in e){const a=null===(n=null===(t=this._signature)||void 0===t?void 0:t.inputs)||void 0===n?void 0:n[s];null!=a?r[a.name]=e[s]:r[s]=e[s]}return r}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=Aw(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${t}] that are not part of graph`)}mapOutputs(e){return e.map((e=>{var t,n;const r=null===(n=null===(t=this._signature)||void 0===t?void 0:t.outputs)||void 0===n?void 0:n[e];return null!=r?r.name:e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=Aw(e);if(!this.graph.nodes[t])throw new Error(`The output '${e}' is not found in the graph`)}))}}class Mx{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const Lx="?tfjs-format=file",Fx="model.json";class jx{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=r,null==n&&(this.loadOptions={}),this.resourceManager=new Mx}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error(`Found more than one (${t.length}) load handlers for URL '${[e]}'`);this.handler=t[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return Gd(e)?e.then((e=>null==e.getWeightStream?this.loadSync(e):this.loadStreaming(e))):this.loadSync(e)}loadSync(e){const t=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,t)}async loadStreaming(e){if(null==e.getWeightStream)throw new Error("Model artifacts missing streamWeights function");const t=await Pp(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,t)}loadWithWeightMap(e,t){this.artifacts=e;const n=this.artifacts.modelTopology;let r=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const e=this.artifacts.userDefinedMetadata;null!=e.signature&&(r=e.signature),null!=e.structuredOutputKeys&&(this.structuredOutputKeys=e.structuredOutputKeys)}if(this.signature=r,this.version=`${n.versions.producer}.${n.versions.minConsumer}`,this.executor=new Ix(Xw.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(t),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=Xw.Instance.transformGraph(e.modelInitializer);this.initializer=new Ix(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,t){if("string"===typeof e){const t=this.io.getSaveHandlers(e);if(0===t.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Error(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const t={};return(e instanceof Vh?[e]:e).forEach(((e,n)=>t[this.structuredOutputKeys[n]]=e)),t}return e}predict(e,t){const n=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(n)}async predictAsync(e,t){const n=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(n)}normalizeInputs(e){var t;if(!(e instanceof Vh)&&!Array.isArray(e)){const n=null===(t=this.signature)||void 0===t?void 0:t.inputs;if(null!=n)for(const t in n){const r=n[t];null!=r.resourceId&&(e[t]=this.resourceIdToCapturedInput[r.resourceId])}return e}e=Array.isArray(e)?e:[e];const n=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+n!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-n} non-resource placeholders, while there are ${e.length} input tensors provided.`);let r=0;return this.inputNodes.reduce(((t,n)=>{var s,a,o;const i=null===(o=null===(a=null===(s=this.signature)||void 0===s?void 0:s.inputs)||void 0===a?void 0:a[n])||void 0===o?void 0:o.resourceId;return t[n]=null!=i?this.resourceIdToCapturedInput[i]:e[r++],t}),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const t=this.initializerSignature.outputs,n=Object.keys(t);for(let r=0;r<n.length;r++){const s=t[n[r]];this.resourceIdToCapturedInput[s.resourceId]=e[r]}}}execute(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&kp(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function $x(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==n&&(n={}),n.fromTFHub&&"string"===typeof e&&(e=function(e){e.endsWith("/")||(e+="/");return`${e}${Fx}${Lx}`}(e));const s=new jx(e,n,r);return await s.load(),s}function Bx(e,t,n,r){return new(n||(n=Promise))((function(s,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function i(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?s(e.value):new n((function(t){t(e.value)})).then(o,i)}l((r=r.apply(e,t||[])).next())}))}function zx(e,t){var n,r,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}function Vx(e,t,n,r){return new(n||(n=Promise))((function(s,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function i(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?s(e.value):new n((function(t){t(e.value)})).then(o,i)}l((r=r.apply(e,t||[])).next())}))}function Ux(e,t){var n,r,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}var Wx=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var s=r[n];t.push(s)}return t},qx=function(){this.parent=null,this.children={},this.end=!1,this.word=[[],0,0]},Hx=function(){function e(){this.root=new qx}return e.prototype.insert=function(e,t,n){for(var r=this.root,s=Wx(e),a=0;a<s.length;a++)r.children[s[a]]||(r.children[s[a]]=new qx,r.children[s[a]].parent=r,r.children[s[a]].word[0]=r.word[0].concat(s[a])),r=r.children[s[a]],a===s.length-1&&(r.end=!0,r.word[1]=t,r.word[2]=n)},e.prototype.commonPrefixSearch=function(e){for(var t=[],n=this.root.children[e[0]],r=0;r<e.length&&n;r++)n.end&&t.push(n.word),n=n.children[e[r+1]];return t.length||t.push([[e[0]],0,0]),t},e}();var Kx=function(){function e(e){this.vocabulary=e,this.trie=new Hx;for(var t=6;t<this.vocabulary.length;t++)this.trie.insert(this.vocabulary[t][0],this.vocabulary[t][1],t)}return e.prototype.encode=function(e){var t=[],n=[],r=[];e=function(e){return"\u2581"+e.normalize("NFKC").replace(/ /g,"\u2581")}(e);for(var s=Wx(e),a=0;a<=s.length;a++)t.push({}),n.push(0),r.push(0);for(a=0;a<s.length;a++)for(var o=this.trie.commonPrefixSearch(s.slice(a)),i=0;i<o.length;i++){var l=o[i],u={key:l[0],score:l[1],index:l[2]};null==t[a+(c=l[0].length)][a]&&(t[a+c][a]=[]),t[a+c][a].push(u)}for(var c=0;c<=s.length;c++)for(var d in t[c]){var h=t[c][d];for(i=0;i<h.length;i++){var p=h[i],f=p.score+r[c-p.key.length];(0===r[c]||f>=r[c])&&(r[c]=f,n[c]=h[i].index)}}for(var m=[],g=n.length-1;g>0;)m.push(n[g]),g-=this.vocabulary[n[g]][0].length;var y=[],v=!1;for(a=0;a<m.length;a++){var b=m[a];v&&0===b||y.push(b),v=0===b}return y.reverse()},e}();function Gx(e){return Vx(this,void 0,void 0,(function(){var t;return Ux(this,(function(n){switch(n.label){case 0:return[4,Yx(e)];case 1:return t=n.sent(),[2,new Kx(t)]}}))}))}function Yx(e){return void 0===e&&(e="https://storage.googleapis.com/tfjs-models/savedmodel/universal_sentence_encoder/vocab.json"),Vx(this,void 0,void 0,(function(){return Ux(this,(function(t){switch(t.label){case 0:return[4,(n=e,Jd().platform.fetch(n,r))];case 1:return[2,t.sent().json()]}var n,r}))}))}var Qx=function(){function e(e,t){void 0===e&&(e=.85),void 0===t&&(t=[]),this.threshold=e,this.toxicityLabels=t}return e.prototype.loadModel=function(){return Bx(this,void 0,void 0,(function(){return zx(this,(function(e){return[2,$x("https://tfhub.dev/tensorflow/tfjs-model/toxicity/1/default/1",{fromTFHub:!0})]}))}))},e.prototype.loadTokenizer=function(){return Bx(this,void 0,void 0,(function(){return zx(this,(function(e){return[2,Gx()]}))}))},e.prototype.load=function(){return Bx(this,void 0,void 0,(function(){var e,t,n,r=this;return zx(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.loadModel(),this.loadTokenizer()])];case 1:return e=s.sent(),t=e[0],n=e[1],this.model=t,this.tokenizer=n,this.labels=t.outputs.map((function(e){return e.name.split("/")[0]})),0===this.toxicityLabels.length?this.toxicityLabels=this.labels:Ad(this.toxicityLabels.every((function(e){return r.labels.indexOf(e)>-1})),(function(){return"toxicityLabels argument must contain only items from the model heads "+r.labels.join(", ")+", got "+r.toxicityLabels.join(", ")})),[2]}}))}))},e.prototype.classify=function(e){return Bx(this,void 0,void 0,(function(){var t,n,r,s,a,o,i,l=this;return zx(this,(function(u){switch(u.label){case 0:for("string"==typeof e&&(e=[e]),t=e.map((function(e){return l.tokenizer.encode(e)})),n=t.map((function(e,t){return e.map((function(e,n){return[t,n]}))})),r=[],s=0;s<n.length;s++)r=r.concat(n[s]);return a=zv(r,[r.length,2],"int32"),o=Bv(Ah(t),"int32"),[4,this.model.executeAsync({Placeholder_1:a,Placeholder:o})];case 1:return i=u.sent(),a.dispose(),o.dispose(),[2,i.map((function(e,t){return{data:e,headIndex:t}})).filter((function(e){return l.toxicityLabels.indexOf(l.labels[e.headIndex])>-1})).map((function(t){for(var n=t.data.dataSync(),r=[],s=0;s<e.length;s++){var a=n.slice(2*s,2*s+2),o=null;Math.max(a[0],a[1])>l.threshold&&(o=a[0]<a[1]),r.push({probabilities:a,match:o})}return{label:l.labels[t.headIndex],results:r}}))]}}))}))},e}();const Xx=async e=>{const t=await function(e,t){return Bx(this,void 0,void 0,(function(){var n;return zx(this,(function(r){switch(r.label){case 0:return[4,(n=new Qx(e,t)).load()];case 1:return r.sent(),[2,n]}}))}))}(.7);return!!(await t.classify([e])).some((e=>e.results[0].match))},Jx={name:"",email:"",photo:null,about:{gender:"",campus:"",standing:"",major:"",skills:[],projects:[],experience:[],hobbies:[],socials:[],bio:"",status:{content:"",duration:"",expirationDate:new Date}}},Zx=()=>{const{user:e}=vd(),[t,n]=(0,T.useState)({...Jx,...e});return(0,ld.jsxs)("div",{className:"grid grid-cols-2 gap-20",children:[(0,ld.jsxs)("div",{className:"flex flex-col gap-12",children:[(0,ld.jsx)(Ed,{children:"Enter your information"}),(0,ld.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"flex flex-col gap-6 col-span-1",children:[(0,ld.jsx)(Nd,{label:"Upload your profile picture",name:"pfp",setPhoto:e=>{n((t=>({...t,photo:e})))}}),(0,ld.jsx)(bd,{label:"your name",name:"name",placeholder:"e.g. forrest gump",value:t.name,setValue:e=>{n((t=>({...t,name:e})))},maxLength:40}),(0,ld.jsx)(xd,{label:"your gender",name:"gender",options:["male","female","other"],value:t.about.gender,setValue:e=>{n((t=>({...t,about:{...t.about,gender:e}})))}}),(0,ld.jsx)(xd,{label:"your asu campus",name:"campus",options:["tempe","downtown phoenix","polytechnic","online"],value:t.about.campus,setValue:e=>{n((t=>({...t,about:{...t.about,campus:e}})))}}),(0,ld.jsx)(xd,{label:"your standing",name:"standing",options:["freshman","sophomore","junior","senior","masters","phd"],value:t.about.standing,setValue:e=>{n((t=>({...t,about:{...t.about,standing:e}})))}}),(0,ld.jsx)(bd,{label:"your major",name:"major",placeholder:"e.g. economics",value:t.about.major,setValue:e=>{n((t=>({...t,about:{...t.about,major:e}})))},maxLength:50}),(0,ld.jsx)(wd,{label:"your skills",name:"skills",placeholder:"e.g. running, business, etc.",items:t.about.skills,setItems:e=>n((t=>({...t,about:{...t.about,skills:e}}))),maxLength:20,maxItems:10}),(0,ld.jsx)(wd,{label:"your hobbies",name:"hobbies",placeholder:"e.g. ping-pong, shrimping, etc.",items:t.about.hobbies,setItems:e=>n((t=>({...t,about:{...t.about,hobbies:e}}))),maxLength:30,maxItems:10}),(0,ld.jsx)(wd,{label:"your socials (must start with http/https)",name:"socials",placeholder:"e.g. linkedin, github, etc.",items:t.about.socials,setItems:e=>n((t=>({...t,about:{...t.about,socials:e.filter((e=>e.startsWith("http")))}}))),maxLength:100,maxItems:5}),(0,ld.jsx)(Sd,{label:"anything else about you",name:"bio",placeholder:"i lived a simple life, experienced so much, and then...",value:t.about.bio,setValue:e=>n({...t,about:{...t.about,bio:e}}),maxLength:500}),(0,ld.jsx)(kd,{onClick:async n=>{n.preventDefault();const r=`\n            ${t.name}\n\n            ${t.about.bio}\n\n            ${t.about.skills.join(" ")}\n\n            ${t.about.hobbies.join(" ")}\n\n            ${t.about.major}\n\n            ${t.about.socials.join(" ")}\n        `;if(await Xx(r))return void alert("Your profile contains inappropriate content. Please remove it before saving.");201===(await Yc.patch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"520788253939-rmb3tskj5fhq36htjdnbvelkdh0f2gj0.apps.googleusercontent.com"}.REACT_APP_SERVER_URL}/user/save`,{user:{...e,...t}})).status&&alert("User saved successfully")}})]})]}),(0,ld.jsx)("div",{className:"col-span-1",children:(0,ld.jsx)(Td,{user:{...e,...t}})})]})},eS=e=>{let{user:t,selectUser:n}=e;return(0,ld.jsxs)("div",{className:"w-52 border border-gray-600",onClick:()=>n(t),children:[(0,ld.jsx)("div",{className:"bg-gradient-to-br from-orange-300/100 to-orange-400/100",children:(0,ld.jsx)("img",{src:t.photo,alt:t.name,className:"w-full h-28 object-cover border border-gray-600 mix-blend-multiply"})}),(0,ld.jsxs)("div",{className:"flex flex-col gap-2 px-3 py-5",children:[(0,ld.jsx)("h2",{className:"text-lg font-semibold",children:t.name}),(0,ld.jsx)("p",{children:t.relevantInfo})]})]})};function tS(e){return ad({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"},child:[]}]})(e)}function nS(e){return ad({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M464 512a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm200 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm-400 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 0 0-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 0 0-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 0 0 112 714v152a46 46 0 0 0 46 46h152.1A449.4 449.4 0 0 0 510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 0 0 142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"},child:[]}]})(e)}function rS(e){return ad({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"},child:[]}]})(e)}function sS(e){return ad({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M824.2 699.9a301.55 301.55 0 0 0-86.4-60.4C783.1 602.8 812 546.8 812 484c0-110.8-92.4-201.7-203.2-200-109.1 1.7-197 90.6-197 200 0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 0 0-86.4 60.4C345 754.6 314 826.8 312 903.8a8 8 0 0 0 8 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5A226.62 226.62 0 0 1 612 684c60.9 0 118.2 23.7 161.3 66.8C814.5 792 838 846.3 840 904.3c.1 4.3 3.7 7.7 8 7.7h56a8 8 0 0 0 8-8.2c-2-77-33-149.2-87.8-203.9zM612 612c-34.2 0-66.4-13.3-90.5-37.5a126.86 126.86 0 0 1-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4 0 34.2-13.3 66.3-37.5 90.5A127.3 127.3 0 0 1 612 612zM361.5 510.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 0 1-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.9-1.7-203.3 89.2-203.3 199.9 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 0 0 8 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.9-1 6.5-4.7 6-8.7z"},child:[]}]})(e)}const aS=e=>{let{selectedUser:t,openChat:n}=e;return(0,ld.jsxs)("div",{className:"w-[500px] border border-gray-600 sticky top-10 right-0",children:[(0,ld.jsx)("div",{className:"bg-gradient-to-br from-orange-300/100 to-orange-400/100",children:(0,ld.jsx)("img",{src:t.photo,alt:t.name,className:"w-full aspect-video object-cover border border-gray-600 mix-blend-multiply"})}),(0,ld.jsxs)("div",{className:"flex flex-col",children:[(0,ld.jsxs)("div",{className:"flex flex-col gap-1 border border-gray-600 px-3 py-4",children:[(0,ld.jsxs)("h2",{className:"text-lg font-semibold flex gap-2 items-center",children:[t.name," ",(0,ld.jsxs)("span",{className:"text-base font-normal text-neutral-400",children:[t.about.gender?t.about.gender+" |":""," ",t.about.campus?t.about.campus+" campus":""]})]}),(0,ld.jsxs)("p",{className:"text-neutral-400",children:["- ",t.about.major?t.about.major+" |":""," ",t.about.standing?t.about.standing+" |":""," ",(0,ld.jsx)("a",{href:`mailto:${t.email}`,className:"underline",children:t.email})]})]}),(0,ld.jsxs)("div",{className:"flex flex-col gap-1 border border-gray-600 px-3 py-4",children:[(0,ld.jsx)("h2",{className:"text-lg font-semibold flex gap-2 items-center",children:"about"}),(0,ld.jsx)("p",{children:t.about.bio})]}),(0,ld.jsxs)("div",{className:"px-3 py-4 flex flex-col gap-2 border border-gray-600",children:[(0,ld.jsx)("h2",{className:"text-lg font-semibold flex gap-2 items-center",children:"skills"}),(0,ld.jsx)("div",{className:"text-neutral-200 flex flex-wrap gap-2",children:t.about.skills.map(((e,t)=>(0,ld.jsx)("span",{className:"text-neutral-300 px-2 py-1 text-sm rounded-md bg-neutral-700",children:e},t)))})]}),(0,ld.jsxs)("div",{className:"px-3 py-4 flex flex-col gap-2 border border-gray-600",children:[(0,ld.jsx)("h2",{className:"text-lg font-semibold flex gap-2 items-center",children:"hobbies"}),(0,ld.jsx)("div",{className:"text-neutral-200 flex flex-wrap gap-2",children:t.about.hobbies.map(((e,t)=>(0,ld.jsx)("span",{className:"text-neutral-300 px-2 py-1 text-sm rounded-md bg-neutral-700",children:e},t)))})]}),(0,ld.jsxs)("div",{className:"px-3 py-4 flex flex-col gap-2 border border-gray-600",children:[(0,ld.jsx)("h2",{className:"text-lg font-semibold flex gap-2 items-center",children:"socials"}),(0,ld.jsx)("div",{className:"text-neutral-200 flex flex-wrap gap-2",children:t.about.socials.map(((e,t)=>(0,ld.jsx)("a",{href:e,className:"text-neutral-300 px-2 py-1 text-sm rounded-md bg-neutral-700",children:e.startsWith("http")?e.split("/")[2].split(".")[0]:e.split(".")[0]},t)))})]}),(0,ld.jsxs)("button",{className:"px-4 py-2 w-fit bg-gradient-to-br from-orange-400 to-orange-600 text-lg text-white mx-3 my-4 flex gap-2 items-center",onClick:()=>n(t._id),children:["Chat ",(0,ld.jsx)(nS,{size:"1rem"})]})]})]})},oS=yd((e=>({query:"",searchResults:[],selectedUser:null,error:null,setQuery:t=>e({query:t}),setSearchResults:t=>e({searchResults:t}),setSelectedUser:t=>e({selectedUser:t}),setError:t=>e({error:t}),searchUser:async(t,n)=>{try{const r=await Yc.post(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"520788253939-rmb3tskj5fhq36htjdnbvelkdh0f2gj0.apps.googleusercontent.com"}.REACT_APP_SERVER_URL}/user/search`,{query:t,user:n});e({searchResults:r.data,error:null})}catch(r){if(Yc.isAxiosError(r)&&r.response)if(429===r.response.status){const t=r.response.data.remainingCooldown;e({searchResults:[],error:`Please wait ${Math.ceil(t/1e3)} seconds before searching again.`}),setTimeout((()=>{e({error:null})}),t)}else console.error("Error fetching users:",r),e({searchResults:[],error:"An error occurred while processing your request."});else console.error("Unexpected error:",r),e({searchResults:[],error:"An unexpected error occurred."})}}}))),iS="object"===typeof performance&&performance&&"function"===typeof performance.now?performance:Date,lS=new Set,uS="object"===typeof process&&process?process:{},cS=(e,t,n,r)=>{"function"===typeof uS.emitWarning?uS.emitWarning(e,t,n,r):console.error(`[${n}] ${t}: ${e}`)};let dS=globalThis.AbortController,hS=globalThis.AbortSignal;if("undefined"===typeof dS){hS=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},dS=class{constructor(){t()}signal=(()=>new hS)();abort(e){if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(const t of this.signal._onabort)t(e);this.signal.onabort?.(e)}}};let e="1"!==uS.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{e&&(e=!1,cS("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const pS=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),fS=e=>pS(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?mS:null:null;class mS extends Array{constructor(e){super(e),this.fill(0)}}class gS{heap;length;static#e=!1;static create(e){const t=fS(e);if(!t)return[];gS.#e=!0;const n=new gS(e,t);return gS.#e=!1,n}constructor(e,t){if(!gS.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class yS{#t;#n;#r;#s;#a;#o;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#l;#u;#c;#d;#h;#p;#f;#m;#g;#y;#v;#b;#w;#x;#S;#k;static unsafeExposeInternals(e){return{starts:e.#b,ttls:e.#w,sizes:e.#v,keyMap:e.#u,keyList:e.#c,valList:e.#d,next:e.#h,prev:e.#p,get head(){return e.#f},get tail(){return e.#m},free:e.#g,isBackgroundFetch:t=>e.#E(t),backgroundFetch:(t,n,r,s)=>e.#T(t,n,r,s),moveToTail:t=>e.#N(t),indexes:t=>e.#_(t),rindexes:t=>e.#C(t),isStale:t=>e.#A(t)}}get max(){return this.#t}get maxSize(){return this.#n}get calculatedSize(){return this.#l}get size(){return this.#i}get fetchMethod(){return this.#a}get memoMethod(){return this.#o}get dispose(){return this.#r}get disposeAfter(){return this.#s}constructor(e){const{max:t=0,ttl:n,ttlResolution:r=1,ttlAutopurge:s,updateAgeOnGet:a,updateAgeOnHas:o,allowStale:i,dispose:l,disposeAfter:u,noDisposeOnSet:c,noUpdateTTL:d,maxSize:h=0,maxEntrySize:p=0,sizeCalculation:f,fetchMethod:m,memoMethod:g,noDeleteOnFetchRejection:y,noDeleteOnStaleGet:v,allowStaleOnFetchRejection:b,allowStaleOnFetchAbort:w,ignoreFetchAbort:x}=e;if(0!==t&&!pS(t))throw new TypeError("max option must be a nonnegative integer");const S=t?fS(t):Array;if(!S)throw new Error("invalid max value: "+t);if(this.#t=t,this.#n=h,this.maxEntrySize=p||this.#n,this.sizeCalculation=f,this.sizeCalculation){if(!this.#n&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!==typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==g&&"function"!==typeof g)throw new TypeError("memoMethod must be a function if defined");if(this.#o=g,void 0!==m&&"function"!==typeof m)throw new TypeError("fetchMethod must be a function if specified");if(this.#a=m,this.#S=!!m,this.#u=new Map,this.#c=new Array(t).fill(void 0),this.#d=new Array(t).fill(void 0),this.#h=new S(t),this.#p=new S(t),this.#f=0,this.#m=0,this.#g=gS.create(t),this.#i=0,this.#l=0,"function"===typeof l&&(this.#r=l),"function"===typeof u?(this.#s=u,this.#y=[]):(this.#s=void 0,this.#y=void 0),this.#x=!!this.#r,this.#k=!!this.#s,this.noDisposeOnSet=!!c,this.noUpdateTTL=!!d,this.noDeleteOnFetchRejection=!!y,this.allowStaleOnFetchRejection=!!b,this.allowStaleOnFetchAbort=!!w,this.ignoreFetchAbort=!!x,0!==this.maxEntrySize){if(0!==this.#n&&!pS(this.#n))throw new TypeError("maxSize must be a positive integer if specified");if(!pS(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#O()}if(this.allowStale=!!i,this.noDeleteOnStaleGet=!!v,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!o,this.ttlResolution=pS(r)||0===r?r:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!pS(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#R()}if(0===this.#t&&0===this.ttl&&0===this.#n)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#n){const e="LRU_CACHE_UNBOUNDED";if((e=>!lS.has(e))(e)){lS.add(e);cS("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,yS)}}}getRemainingTTL(e){return this.#u.has(e)?1/0:0}#R(){var e=this;const t=new mS(this.#t),n=new mS(this.#t);this.#w=t,this.#b=n,this.#P=function(r,s){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:iS.now();if(n[r]=0!==s?a:0,t[r]=s,0!==s&&e.ttlAutopurge){const t=setTimeout((()=>{e.#A(r)&&e.#D(e.#c[r],"expire")}),s+1);t.unref&&t.unref()}},this.#I=e=>{n[e]=0!==t[e]?iS.now():0},this.#M=(e,a)=>{if(t[a]){const o=t[a],i=n[a];if(!o||!i)return;e.ttl=o,e.start=i,e.now=r||s();const l=e.now-i;e.remainingTTL=o-l}};let r=0;const s=()=>{const e=iS.now();if(this.ttlResolution>0){r=e;const t=setTimeout((()=>r=0),this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=e=>{const a=this.#u.get(e);if(void 0===a)return 0;const o=t[a],i=n[a];if(!o||!i)return 1/0;return o-((r||s())-i)},this.#A=e=>{const a=n[e],o=t[e];return!!o&&!!a&&(r||s())-a>o}}#I=()=>{};#M=()=>{};#P=()=>{};#A=()=>!1;#O(){const e=new mS(this.#t);this.#l=0,this.#v=e,this.#L=t=>{this.#l-=e[t],e[t]=0},this.#F=(e,t,n,r)=>{if(this.#E(t))return 0;if(!pS(n)){if(!r)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!==typeof r)throw new TypeError("sizeCalculation must be a function");if(n=r(t,e),!pS(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return n},this.#j=(t,n,r)=>{if(e[t]=n,this.#n){const n=this.#n-e[t];for(;this.#l>n;)this.#$(!0)}this.#l+=e[t],r&&(r.entrySize=n,r.totalCalculatedSize=this.#l)}}#L=e=>{};#j=(e,t,n)=>{};#F=(e,t,n,r)=>{if(n||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};#_(){var e=this;let{allowStale:t=this.allowStale}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){if(e.#i)for(let n=e.#m;e.#B(n)&&(!t&&e.#A(n)||(yield n),n!==e.#f);)n=e.#p[n]}()}#C(){var e=this;let{allowStale:t=this.allowStale}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){if(e.#i)for(let n=e.#f;e.#B(n)&&(!t&&e.#A(n)||(yield n),n!==e.#m);)n=e.#h[n]}()}#B(e){return void 0!==e&&this.#u.get(this.#c[e])===e}*entries(){for(const e of this.#_())void 0===this.#d[e]||void 0===this.#c[e]||this.#E(this.#d[e])||(yield[this.#c[e],this.#d[e]])}*rentries(){for(const e of this.#C())void 0===this.#d[e]||void 0===this.#c[e]||this.#E(this.#d[e])||(yield[this.#c[e],this.#d[e]])}*keys(){for(const e of this.#_()){const t=this.#c[e];void 0===t||this.#E(this.#d[e])||(yield t)}}*rkeys(){for(const e of this.#C()){const t=this.#c[e];void 0===t||this.#E(this.#d[e])||(yield t)}}*values(){for(const e of this.#_()){void 0===this.#d[e]||this.#E(this.#d[e])||(yield this.#d[e])}}*rvalues(){for(const e of this.#C()){void 0===this.#d[e]||this.#E(this.#d[e])||(yield this.#d[e])}}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const n of this.#_()){const r=this.#d[n],s=this.#E(r)?r.__staleWhileFetching:r;if(void 0!==s&&e(s,this.#c[n],this))return this.get(this.#c[n],t)}}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;for(const n of this.#_()){const r=this.#d[n],s=this.#E(r)?r.__staleWhileFetching:r;void 0!==s&&e.call(t,s,this.#c[n],this)}}rforEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;for(const n of this.#C()){const r=this.#d[n],s=this.#E(r)?r.__staleWhileFetching:r;void 0!==s&&e.call(t,s,this.#c[n],this)}}purgeStale(){let e=!1;for(const t of this.#C({allowStale:!0}))this.#A(t)&&(this.#D(this.#c[t],"expire"),e=!0);return e}info(e){const t=this.#u.get(e);if(void 0===t)return;const n=this.#d[t],r=this.#E(n)?n.__staleWhileFetching:n;if(void 0===r)return;const s={value:r};if(this.#w&&this.#b){const e=this.#w[t],n=this.#b[t];if(e&&n){const t=e-(iS.now()-n);s.ttl=t,s.start=Date.now()}}return this.#v&&(s.size=this.#v[t]),s}dump(){const e=[];for(const t of this.#_({allowStale:!0})){const n=this.#c[t],r=this.#d[t],s=this.#E(r)?r.__staleWhileFetching:r;if(void 0===s||void 0===n)continue;const a={value:s};if(this.#w&&this.#b){a.ttl=this.#w[t];const e=iS.now()-this.#b[t];a.start=Math.floor(Date.now()-e)}this.#v&&(a.size=this.#v[t]),e.unshift([n,a])}return e}load(e){this.clear();for(const[t,n]of e){if(n.start){const e=Date.now()-n.start;n.start=iS.now()-e}this.set(t,n.value,n)}}set(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===t)return this.delete(e),this;const{ttl:r=this.ttl,start:s,noDisposeOnSet:a=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:i}=n;let{noUpdateTTL:l=this.noUpdateTTL}=n;const u=this.#F(e,t,n.size||0,o);if(this.maxEntrySize&&u>this.maxEntrySize)return i&&(i.set="miss",i.maxEntrySizeExceeded=!0),this.#D(e,"set"),this;let c=0===this.#i?void 0:this.#u.get(e);if(void 0===c)c=0===this.#i?this.#m:0!==this.#g.length?this.#g.pop():this.#i===this.#t?this.#$(!1):this.#i,this.#c[c]=e,this.#d[c]=t,this.#u.set(e,c),this.#h[this.#m]=c,this.#p[c]=this.#m,this.#m=c,this.#i++,this.#j(c,u,i),i&&(i.set="add"),l=!1;else{this.#N(c);const n=this.#d[c];if(t!==n){if(this.#S&&this.#E(n)){n.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:t}=n;void 0===t||a||(this.#x&&this.#r?.(t,e,"set"),this.#k&&this.#y?.push([t,e,"set"]))}else a||(this.#x&&this.#r?.(n,e,"set"),this.#k&&this.#y?.push([n,e,"set"]));if(this.#L(c),this.#j(c,u,i),this.#d[c]=t,i){i.set="replace";const e=n&&this.#E(n)?n.__staleWhileFetching:n;void 0!==e&&(i.oldValue=e)}}else i&&(i.set="update")}if(0===r||this.#w||this.#R(),this.#w&&(l||this.#P(c,r,s),i&&this.#M(i,c)),!a&&this.#k&&this.#y){const e=this.#y;let t;for(;t=e?.shift();)this.#s?.(...t)}return this}pop(){try{for(;this.#i;){const e=this.#d[this.#f];if(this.#$(!0),this.#E(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(this.#k&&this.#y){const e=this.#y;let t;for(;t=e?.shift();)this.#s?.(...t)}}}#$(e){const t=this.#f,n=this.#c[t],r=this.#d[t];return this.#S&&this.#E(r)?r.__abortController.abort(new Error("evicted")):(this.#x||this.#k)&&(this.#x&&this.#r?.(r,n,"evict"),this.#k&&this.#y?.push([r,n,"evict"])),this.#L(t),e&&(this.#c[t]=void 0,this.#d[t]=void 0,this.#g.push(t)),1===this.#i?(this.#f=this.#m=0,this.#g.length=0):this.#f=this.#h[t],this.#u.delete(n),this.#i--,t}has(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{updateAgeOnHas:n=this.updateAgeOnHas,status:r}=t,s=this.#u.get(e);if(void 0!==s){const e=this.#d[s];if(this.#E(e)&&void 0===e.__staleWhileFetching)return!1;if(!this.#A(s))return n&&this.#I(s),r&&(r.has="hit",this.#M(r,s)),!0;r&&(r.has="stale",this.#M(r,s))}else r&&(r.has="miss");return!1}peek(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:n=this.allowStale}=t,r=this.#u.get(e);if(void 0===r||!n&&this.#A(r))return;const s=this.#d[r];return this.#E(s)?s.__staleWhileFetching:s}#T(e,t,n,r){var s=this;const a=void 0===t?void 0:this.#d[t];if(this.#E(a))return a;const o=new dS,{signal:i}=n;i?.addEventListener("abort",(()=>o.abort(i.reason)),{signal:o.signal});const l={signal:o.signal,options:n,context:r},u=function(r){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{aborted:i}=o.signal,u=n.ignoreFetchAbort&&void 0!==r;if(n.status&&(i&&!a?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,u&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),i&&!u&&!a)return c(o.signal.reason);const h=d;return s.#d[t]===d&&(void 0===r?h.__staleWhileFetching?s.#d[t]=h.__staleWhileFetching:s.#D(e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),s.set(e,r,l.options))),r},c=r=>{const{aborted:s}=o.signal,a=s&&n.allowStaleOnFetchAbort,i=a||n.allowStaleOnFetchRejection,l=i||n.noDeleteOnFetchRejection,u=d;if(this.#d[t]===d){!l||void 0===u.__staleWhileFetching?this.#D(e,"fetch"):a||(this.#d[t]=u.__staleWhileFetching)}if(i)return n.status&&void 0!==u.__staleWhileFetching&&(n.status.returnedStale=!0),u.__staleWhileFetching;if(u.__returned===u)throw r};n.status&&(n.status.fetchDispatched=!0);const d=new Promise(((t,r)=>{const s=this.#a?.(e,a,l);s&&s instanceof Promise&&s.then((e=>t(void 0===e?void 0:e)),r),o.signal.addEventListener("abort",(()=>{n.ignoreFetchAbort&&!n.allowStaleOnFetchAbort||(t(void 0),n.allowStaleOnFetchAbort&&(t=e=>u(e,!0)))}))})).then(u,(e=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=e),c(e)))),h=Object.assign(d,{__abortController:o,__staleWhileFetching:a,__returned:void 0});return void 0===t?(this.set(e,h,{...l.options,status:void 0}),t=this.#u.get(e)):this.#d[t]=h,h}#E(e){if(!this.#S)return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof dS}async fetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:n=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:i=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:h=this.ignoreFetchAbort,allowStaleOnFetchAbort:p=this.allowStaleOnFetchAbort,context:f,forceRefresh:m=!1,status:g,signal:y}=t;if(!this.#S)return g&&(g.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:r,noDeleteOnStaleGet:s,status:g});const v={allowStale:n,updateAgeOnGet:r,noDeleteOnStaleGet:s,ttl:a,noDisposeOnSet:o,size:i,sizeCalculation:l,noUpdateTTL:u,noDeleteOnFetchRejection:c,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:p,ignoreFetchAbort:h,status:g,signal:y};let b=this.#u.get(e);if(void 0===b){g&&(g.fetch="miss");const t=this.#T(e,b,v,f);return t.__returned=t}{const t=this.#d[b];if(this.#E(t)){const e=n&&void 0!==t.__staleWhileFetching;return g&&(g.fetch="inflight",e&&(g.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}const s=this.#A(b);if(!m&&!s)return g&&(g.fetch="hit"),this.#N(b),r&&this.#I(b),g&&this.#M(g,b),t;const a=this.#T(e,b,v,f),o=void 0!==a.__staleWhileFetching&&n;return g&&(g.fetch=s?"stale":"refresh",o&&s&&(g.returnedStale=!0)),o?a.__staleWhileFetching:a.__returned=a}}async forceFetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await this.fetch(e,t);if(void 0===n)throw new Error("fetch() returned undefined");return n}memo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.#o;if(!n)throw new Error("no memoMethod provided to constructor");const{context:r,forceRefresh:s,...a}=t,o=this.get(e,a);if(!s&&void 0!==o)return o;const i=n(e,o,{options:a,context:r});return this.set(e,i,a),i}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:n=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:a}=t,o=this.#u.get(e);if(void 0!==o){const t=this.#d[o],i=this.#E(t);return a&&this.#M(a,o),this.#A(o)?(a&&(a.get="stale"),i?(a&&n&&void 0!==t.__staleWhileFetching&&(a.returnedStale=!0),n?t.__staleWhileFetching:void 0):(s||this.#D(e,"expire"),a&&n&&(a.returnedStale=!0),n?t:void 0)):(a&&(a.get="hit"),i?t.__staleWhileFetching:(this.#N(o),r&&this.#I(o),t))}a&&(a.get="miss")}#z(e,t){this.#p[t]=e,this.#h[e]=t}#N(e){e!==this.#m&&(e===this.#f?this.#f=this.#h[e]:this.#z(this.#p[e],this.#h[e]),this.#z(this.#m,e),this.#m=e)}delete(e){return this.#D(e,"delete")}#D(e,t){let n=!1;if(0!==this.#i){const r=this.#u.get(e);if(void 0!==r)if(n=!0,1===this.#i)this.#V(t);else{this.#L(r);const n=this.#d[r];if(this.#E(n)?n.__abortController.abort(new Error("deleted")):(this.#x||this.#k)&&(this.#x&&this.#r?.(n,e,t),this.#k&&this.#y?.push([n,e,t])),this.#u.delete(e),this.#c[r]=void 0,this.#d[r]=void 0,r===this.#m)this.#m=this.#p[r];else if(r===this.#f)this.#f=this.#h[r];else{const e=this.#p[r];this.#h[e]=this.#h[r];const t=this.#h[r];this.#p[t]=this.#p[r]}this.#i--,this.#g.push(r)}}if(this.#k&&this.#y?.length){const e=this.#y;let t;for(;t=e?.shift();)this.#s?.(...t)}return n}clear(){return this.#V("delete")}#V(e){for(const t of this.#C({allowStale:!0})){const n=this.#d[t];if(this.#E(n))n.__abortController.abort(new Error("deleted"));else{const r=this.#c[t];this.#x&&this.#r?.(n,r,e),this.#k&&this.#y?.push([n,r,e])}}if(this.#u.clear(),this.#d.fill(void 0),this.#c.fill(void 0),this.#w&&this.#b&&(this.#w.fill(0),this.#b.fill(0)),this.#v&&this.#v.fill(0),this.#f=0,this.#m=0,this.#g.length=0,this.#l=0,this.#i=0,this.#k&&this.#y){const e=this.#y;let t;for(;t=e?.shift();)this.#s?.(...t)}}}const vS=yd(((e,t)=>({chats:[],messages:[],currentChatId:"",message:"",setMessage:t=>e({message:t}),setChats:t=>e({chats:t}),setMessages:t=>e({messages:t}),setCurrentChatId:t=>e({currentChatId:t}),getChats:async t=>{try{const n=await Yc.get(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"520788253939-rmb3tskj5fhq36htjdnbvelkdh0f2gj0.apps.googleusercontent.com"}.REACT_APP_SERVER_URL}/chat/getall/${t}`);e({chats:n.data})}catch(n){console.error("Error fetching chats:",n)}},getMessages:async function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;try{const a=t().messageCache.get(n);if(a&&1===r)return void e({messages:a});const o=await Yc.get(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"520788253939-rmb3tskj5fhq36htjdnbvelkdh0f2gj0.apps.googleusercontent.com"}.REACT_APP_SERVER_URL}/chat/get/${n}?page=${r}&limit=${s}`);e((e=>{const t=o.data,s=e.messageCache.get(n)||[],a=1===r?t:[...s,...t];return e.messageCache.set(n,a),e.messages=a,e}))}catch(a){console.error("Error fetching messages:",a)}},saveMessage:async(n,r,s)=>{try{const a=await Yc.post(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"520788253939-rmb3tskj5fhq36htjdnbvelkdh0f2gj0.apps.googleusercontent.com"}.REACT_APP_SERVER_URL}/chat/save/${n}`,{senderId:r,message:s});if(201===a.status){e({message:""});const{chats:s,updateChat:o}=t(),i=s.find((e=>e._id===n));i&&(i.lastMessage={messageId:a.data._id,content:a.data.content,timestamp:a.data.timestamp,senderName:"You",senderId:r},i.unreadMessages=i.users.reduce(((e,t)=>(e[t]=t!==r,e)),{}),o(i))}}catch(o){var a;if(Yc.isAxiosError(o)&&429===(null===(a=o.response)||void 0===a?void 0:a.status)){const e=o.response.data.remainingCooldown;console.error(`Message sending on cooldown. Please wait ${Math.ceil(e/1e3)} seconds.`)}else console.error("Error saving message:",o);throw o}},createChat:async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{const s=await Yc.post(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"520788253939-rmb3tskj5fhq36htjdnbvelkdh0f2gj0.apps.googleusercontent.com"}.REACT_APP_SERVER_URL}/chat/create`,{users:t,name:n,isGroupChat:r});if(201===s.status||200===s.status){const n={...s.data,unreadMessages:t.reduce(((e,t)=>(e[t]=!1,e)),{})};return e((e=>({chats:[n,...e.chats]}))),n._id}}catch(s){console.error("Error creating/getting chat:",s)}return""},messageCache:new yS({max:100,ttl:36e5}),addMessageToCache:(t,n)=>{e((e=>{const r=e.messageCache.get(t)||[];return e.messageCache.set(t,[...r,n]),e}))},updateChat:t=>e((e=>{let n=e.chats;return n=e.chats.find((e=>e._id===t._id))?e.chats.map((e=>e._id===t._id?{...e,...t,lastMessage:t.lastMessage?{...t.lastMessage}:null,otherUserName:e.otherUserName,unreadMessages:t.unreadMessages||e.unreadMessages}:e)):[...e.chats,t],n.sort(((e,t)=>e.lastMessage?t.lastMessage?new Date(t.lastMessage.timestamp).getTime()-new Date(e.lastMessage.timestamp).getTime():-1:1)),{...e,chats:n}}))}))),bS=e=>{var t,n,r,s;let{setCurrentTab:a,setCurrentChatId:o}=e;const{user:i,status:l,setStatus:u,fetchUserStatus:c,updateUserStatus:d}=vd(),{query:h,searchResults:p,selectedUser:f,error:m,setQuery:g,setSelectedUser:y,searchUser:v}=oS(),{createChat:b}=vS(),[w,x]=(0,T.useState)(!1);(0,T.useEffect)((()=>{c(null===i||void 0===i?void 0:i._id)}),[null===i||void 0===i?void 0:i._id,c]);return(0,ld.jsxs)("div",{className:"grid grid-cols-2 gap-20",children:[(0,ld.jsxs)("div",{className:"flex flex-col gap-12",children:[(0,ld.jsx)(Ed,{children:"Search for people!"}),(0,ld.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),x(!0),await v(h,i),x(!1)},className:"flex gap-4",children:[(0,ld.jsx)("input",{type:"text",name:"search",id:"search",value:h,onChange:e=>g(e.target.value),className:"bg-neutral-800 p-3 text-neutral-200 rounded-md w-96",autoComplete:"off",maxLength:80}),(0,ld.jsx)("button",{type:"submit",className:"px-4 py-2 bg-white text-neutral-800 rounded-md "+(w?"opacity-50 cursor-not-allowed":""),disabled:w,children:w?"Searching...":"Search"})]}),m&&(0,ld.jsx)("div",{className:"text-red-500 mt-2",children:m}),(0,ld.jsxs)("form",{className:"flex gap-4 items-center",children:[(0,ld.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ld.jsxs)("div",{className:"w-72",children:[" ",(0,ld.jsx)(bd,{label:"Status",name:"content",placeholder:"What's on your mind?",value:null===l||void 0===l?void 0:l.content,setValue:e=>{u({...l,content:e})},maxLength:100})]}),(0,ld.jsxs)("div",{className:"w-30",children:[" ",(0,ld.jsx)(xd,{label:"Duration",name:"duration",options:["24h","48h","1w"],value:null===l||void 0===l?void 0:l.duration,setValue:e=>{u({...l,duration:e})}})]})]}),(0,ld.jsx)("div",{className:"mt-9",children:(0,ld.jsx)(kd,{onClick:async e=>{e.preventDefault(),l?await Xx(null===l||void 0===l?void 0:l.content)?alert("Your status contains inappropriate content. Please remove it before saving."):await d(null===i||void 0===i?void 0:i._id,null===l||void 0===l?void 0:l.content,l.duration):console.error("Status is null")}})})]}),null!==i&&void 0!==i&&null!==(t=i.about)&&void 0!==t&&null!==(n=t.status)&&void 0!==n&&n.content&&null!==i&&void 0!==i&&null!==(r=i.about)&&void 0!==r&&null!==(s=r.status)&&void 0!==s&&s.expirationDate?(0,ld.jsx)("div",{children:(0,ld.jsxs)("p",{children:["Status expires in ",(e=>{const t=new Date,n=new Date(e).getTime()-t.getTime(),r=Math.floor(n/864e5),s=Math.floor(n%864e5/36e5);return r>0?`${r} day(s)`:s>0?`${s} hour(s)`:"Expired"})(i.about.status.expirationDate)]})}):null,(0,ld.jsx)("ul",{className:"flex gap-4",children:p.map(((e,t)=>(0,ld.jsx)(eS,{user:e,selectUser:y},t)))})]}),(0,ld.jsx)("div",{className:"col-span-1",children:f&&(0,ld.jsx)(aS,{selectedUser:f,openChat:async e=>{const t=await b([i._id,e]);t&&(o(t),a("chat"))}})})]})},wS=Object.create(null);wS.open="0",wS.close="1",wS.ping="2",wS.pong="3",wS.message="4",wS.upgrade="5",wS.noop="6";const xS=Object.create(null);Object.keys(wS).forEach((e=>{xS[wS[e]]=e}));const SS={type:"error",data:"parser error"},kS="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),ES="function"===typeof ArrayBuffer,TS=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,NS=(e,t,n)=>{let{type:r,data:s}=e;return kS&&s instanceof Blob?t?n(s):_S(s,n):ES&&(s instanceof ArrayBuffer||TS(s))?t?n(s):_S(new Blob([s]),n):n(wS[r]+(s||""))},_S=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function CS(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let AS;const OS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",RS="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)RS[OS.charCodeAt(n)]=n;const PS="function"===typeof ArrayBuffer,DS=(e,t)=>{if("string"!==typeof e)return{type:"message",data:MS(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:IS(e.substring(1),t)};return xS[n]?e.length>1?{type:xS[n],data:e.substring(1)}:{type:xS[n]}:SS},IS=(e,t)=>{if(PS){const n=(e=>{let t,n,r,s,a,o=.75*e.length,i=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const u=new ArrayBuffer(o),c=new Uint8Array(u);for(t=0;t<i;t+=4)n=RS[e.charCodeAt(t)],r=RS[e.charCodeAt(t+1)],s=RS[e.charCodeAt(t+2)],a=RS[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|s>>2,c[l++]=(3&s)<<6|63&a;return u})(e);return MS(n,t)}return{base64:!0,data:e}},MS=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,LS=String.fromCharCode(30);function FS(){return new TransformStream({transform(e,t){!function(e,t){kS&&e.data instanceof Blob?e.data.arrayBuffer().then(CS).then(t):ES&&(e.data instanceof ArrayBuffer||TS(e.data))?t(CS(e.data)):NS(e,!1,(e=>{AS||(AS=new TextEncoder),t(AS.encode(e))}))}(e,(n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const e=new DataView(s.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{s=new Uint8Array(9);const e=new DataView(s.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(s[0]|=128),t.enqueue(s),t.enqueue(n)}))}})}let jS;function $S(e){return e.reduce(((e,t)=>e+t.length),0)}function BS(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function zS(e){if(e)return function(e){for(var t in zS.prototype)e[t]=zS.prototype[t];return e}(e)}zS.prototype.on=zS.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},zS.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},zS.prototype.off=zS.prototype.removeListener=zS.prototype.removeAllListeners=zS.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var s=0;s<r.length;s++)if((n=r[s])===t||n.fn===t){r.splice(s,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},zS.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var s=(n=n.slice(0)).length;r<s;++r)n[r].apply(this,t)}return this},zS.prototype.emitReserved=zS.prototype.emit,zS.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},zS.prototype.hasListeners=function(e){return!!this.listeners(e).length};const VS="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),US="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function WS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const qS=US.setTimeout,HS=US.clearTimeout;function KS(e,t){t.useNativeTimers?(e.setTimeoutFn=qS.bind(US),e.clearTimeoutFn=HS.bind(US)):(e.setTimeoutFn=US.setTimeout.bind(US),e.clearTimeoutFn=US.clearTimeout.bind(US))}function GS(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class YS extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class QS extends zS{constructor(e){super(),this.writable=!1,KS(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new YS(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=DS(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class XS extends QS{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(LS),r=[];for(let s=0;s<n.length;s++){const e=DS(n[s],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach(((e,a)=>{NS(e,!1,(e=>{r[a]=e,++s===n&&t(r.join(LS))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=GS()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let JS=!1;try{JS="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Jk){}const ZS=JS;function ek(){}class tk extends XS{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class nk extends zS{constructor(e,t,n){super(),this.createRequest=e,KS(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=WS(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(Qk){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(Qk){}try{n.setRequestHeader("Accept","*/*")}catch(Qk){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof n.status?n.status:0)}),0))},n.send(this._data)}catch(Qk){return void this.setTimeoutFn((()=>{this._onError(Qk)}),0)}"undefined"!==typeof document&&(this._index=nk.requestsCount++,nk.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=ek,e)try{this._xhr.abort()}catch(Qk){}"undefined"!==typeof document&&delete nk.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(nk.requestsCount=0,nk.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",rk);else if("function"===typeof addEventListener){addEventListener("onpagehide"in US?"pagehide":"unload",rk,!1)}function rk(){for(let e in nk.requests)nk.requests.hasOwnProperty(e)&&nk.requests[e].abort()}const sk=function(){const e=ak({xdomain:!1});return e&&null!==e.responseType}();function ak(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||ZS))return new XMLHttpRequest}catch(Qk){}if(!t)try{return new(US[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(Qk){}}const ok="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class ik extends QS{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=ok?{}:WS(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(Jk){return this.emitReserved("error",Jk)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;NS(n,this.supportsBinary,(e=>{try{this.doWrite(n,e)}catch(Qk){}r&&VS((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=GS()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const lk=US.WebSocket||US.MozWebSocket;const uk={websocket:class extends ik{createSocket(e,t,n){return ok?new lk(e,t,n):t?new lk(e,t):new lk(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends QS{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(Jk){return this.emitReserved("error",Jk)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){jS||(jS=new TextDecoder);const n=[];let r=0,s=-1,a=!1;return new TransformStream({transform(o,i){for(n.push(o);;){if(0===r){if($S(n)<1)break;const e=BS(n,1);a=128===(128&e[0]),s=127&e[0],r=s<126?3:126===s?1:2}else if(1===r){if($S(n)<2)break;const e=BS(n,2);s=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if($S(n)<8)break;const e=BS(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),a=t.getUint32(0);if(a>Math.pow(2,21)-1){i.enqueue(SS);break}s=a*Math.pow(2,32)+t.getUint32(4),r=3}else{if($S(n)<s)break;const e=BS(n,s);i.enqueue(DS(a?e:jS.decode(e),t)),r=0}if(0===s||s>e){i.enqueue(SS);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=FS();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const s=()=>{n.read().then((e=>{let{done:t,value:n}=e;t||(this.onPacket(n),s())})).catch((e=>{}))};s();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then((()=>{r&&VS((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends tk{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=sk&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new nk(ak,this.uri(),e)}}},ck=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,dk=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function hk(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=ck.exec(e||""),a={},o=14;for(;o--;)a[dk[o]]=s[o]||"";return-1!=n&&-1!=r&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,a.path),a.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,a.query),a}const pk="function"===typeof addEventListener&&"function"===typeof removeEventListener,fk=[];pk&&addEventListener("offline",(()=>{fk.forEach((e=>e()))}),!1);class mk extends zS{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=hk(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=hk(t.host).host);KS(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),pk&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},fk.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&mk.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",mk.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"===typeof(t=r)?function(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this._maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,VS((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const s={type:e,data:t,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}_onError(e){if(mk.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),pk&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=fk.indexOf(this._offlineEventListener);-1!==e&&fk.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}mk.protocol=4;class gk extends mk{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;mk.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;mk.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function s(){n||(n=!0,u(),t.close(),t=null)}const a=e=>{const n=new Error("probe error: "+e);n.transport=t.name,s(),this.emitReserved("upgradeError",n)};function o(){a("transport closed")}function i(){a("socket closed")}function l(e){t&&e.name!==t.name&&s()}const u=()=>{t.removeListener("open",r),t.removeListener("error",a),t.removeListener("close",o),this.off("close",i),this.off("upgrading",l)};t.once("open",r),t.once("error",a),t.once("close",o),this.once("close",i),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class yk extends gk{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>uk[e])).filter((e=>!!e))),super(e,t)}}const vk="function"===typeof ArrayBuffer,bk=Object.prototype.toString,wk="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===bk.call(Blob),xk="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===bk.call(File);function Sk(e){return vk&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||wk&&e instanceof Blob||xk&&e instanceof File}function kk(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(kk(e[t]))return!0;return!1}if(Sk(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return kk(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&kk(e[n]))return!0;return!1}function Ek(e){const t=[],n=e.data,r=e;return r.data=Tk(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Tk(e,t){if(!e)return e;if(Sk(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Tk(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Tk(e[r],t));return n}return e}function Nk(e,t){return e.data=_k(e.data,t),delete e.attachments,e}function _k(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=_k(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=_k(e[n],t));return e}const Ck=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ak=5;var Ok;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Ok||(Ok={}));class Rk{constructor(e){this.replacer=e}encode(e){return e.type!==Ok.EVENT&&e.type!==Ok.ACK||!kk(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Ok.EVENT?Ok.BINARY_EVENT:Ok.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Ok.BINARY_EVENT&&e.type!==Ok.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Ek(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function Pk(e){return"[object Object]"===Object.prototype.toString.call(e)}class Dk extends zS{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Ok.BINARY_EVENT;n||t.type===Ok.BINARY_ACK?(t.type=n?Ok.EVENT:Ok.ACK,this.reconstructor=new Ik(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Sk(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Ok[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Ok.BINARY_EVENT||n.type===Ok.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const s=e.substring(r,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(s)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!Dk.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(Qk){return!1}}static isPayloadValid(e,t){switch(e){case Ok.CONNECT:return Pk(t);case Ok.DISCONNECT:return void 0===t;case Ok.CONNECT_ERROR:return"string"===typeof t||Pk(t);case Ok.EVENT:case Ok.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===Ck.indexOf(t[0]));case Ok.ACK:case Ok.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ik{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Nk(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Mk(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Lk=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Fk extends zS{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Mk(e,"open",this.onopen.bind(this)),Mk(e,"packet",this.onpacket.bind(this)),Mk(e,"error",this.onerror.bind(this)),Mk(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(Lk.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];if(a.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(a),this;const i={type:Ok.EVENT,data:a,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"===typeof a[a.length-1]){const e=this.ids++,t=a.pop();this._registerAckCallback(e,t),i.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,u=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const s=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===s)return void(this.acks[e]=t);const a=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),s),o=function(){r.io.clearTimeoutFn(a);for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];t.apply(r,n)};o.withError=!0,this.acks[e]=o}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise(((t,r)=>{const s=(e,n)=>e?r(e):t(n);s.withError=!0,n.push(s),this.emit(e,...n)}))}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];n(null,...a)}return r.pending=!1,t._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ok.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ok.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ok.EVENT:case Ok.BINARY_EVENT:this.onevent(e);break;case Ok.ACK:case Ok.BINARY_ACK:this.onack(e);break;case Ok.DISCONNECT:this.ondisconnect();break;case Ok.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];t.packet({type:Ok.ACK,id:e,data:s})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ok.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function jk(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}jk.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},jk.prototype.reset=function(){this.attempts=0},jk.prototype.setMin=function(e){this.ms=e},jk.prototype.setMax=function(e){this.max=e},jk.prototype.setJitter=function(e){this.jitter=e};class $k extends zS{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,KS(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new jk({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||E;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new yk(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Mk(t,"open",(function(){n.onopen(),e&&e()})),s=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},a=Mk(t,"error",s);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),s(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Mk(e,"ping",this.onping.bind(this)),Mk(e,"data",this.ondata.bind(this)),Mk(e,"error",this.onerror.bind(this)),Mk(e,"close",this.onclose.bind(this)),Mk(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(Qk){this.onclose("parse error",Qk)}}ondecoded(e){VS((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Fk(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Bk={};function zk(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=hk(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,s=n.id,a=n.path,o=Bk[s]&&a in Bk[s].nsps;let i;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?i=new $k(r,t):(Bk[s]||(Bk[s]=new $k(r,t)),i=Bk[s]),n.query&&!t.query&&(t.query=n.queryKey),i.socket(n.path,t)}Object.assign(zk,{Manager:$k,Socket:Fk,io:zk,connect:zk});const Vk=yd((e=>({socket:null,connectSocket:t=>{const n=zk(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"520788253939-rmb3tskj5fhq36htjdnbvelkdh0f2gj0.apps.googleusercontent.com"}.REACT_APP_SERVER_URL}`,{query:{userId:t},autoConnect:!1});e({socket:n})},disconnectSocket:()=>{e((e=>{var t;return null===(t=e.socket)||void 0===t||t.disconnect(),{socket:null}}))}}))),Uk=e=>{let{content:t,timestamp:n,isSender:r,senderName:s}=e;return(0,ld.jsx)("div",{className:"flex flex-col "+(r?"items-end":"items-start"),children:(0,ld.jsxs)("div",{className:"max-w-[70%] rounded-lg p-3 "+(r?"bg-orange-500 text-white":"bg-gray-200 text-black"),children:[(0,ld.jsx)("p",{className:"text-sm font-semibold mb-1",children:s}),(0,ld.jsx)("p",{children:t}),(0,ld.jsx)("p",{className:"text-xs mt-1 opacity-70",children:(a=n,new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}))})]})});var a},Wk=()=>{const{user:e}=vd(),{chats:t,messages:n,currentChatId:r,message:s,setMessage:a,setMessages:o,setCurrentChatId:i,getChats:l,getMessages:u,saveMessage:c,updateChat:d,addMessageToCache:h,setChats:p}=vS(),{socket:f}=Vk(),m=(0,T.useRef)(null),[g,y]=(0,T.useState)(1),[v,b]=(0,T.useState)(!1);(0,T.useEffect)((()=>{o([]),a(""),l(e._id),r&&(y(1),u(r,1,50))}),[e,r,l,u,o,a]),(0,T.useEffect)((()=>{(()=>{var e;null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()}),[n]),(0,T.useEffect)((()=>(null===f||void 0===f||f.on("message",(s=>{h(s.chat,s),s.chat===r&&o([...n,s]);const a=t.find((e=>e._id===s.chat));a&&(a.lastMessage={messageId:s._id,content:s.content,timestamp:s.timestamp,senderName:s.sender===e._id?e.name:a.otherUserName,senderId:s.sender},s.sender!==e._id&&s.chat!==r&&(a.unreadMessages={...a.unreadMessages,[e._id]:!0}),d(a))})),()=>{null===f||void 0===f||f.off("message")})),[f,n,o,r,t,d,e._id,e.name,h]),(0,T.useEffect)((()=>{null===f||void 0===f||f.on("chat",(e=>{d(e)}))}),[f,d]);const w=(0,T.useCallback)((e=>{const{scrollTop:t}=e.currentTarget;0!==t||v||(b(!0),u(r,g+1,50).then((()=>{y((e=>e+1)),b(!1)})))}),[r,u,v,g]),x=async n=>{try{await Yc.post(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"520788253939-rmb3tskj5fhq36htjdnbvelkdh0f2gj0.apps.googleusercontent.com"}.REACT_APP_SERVER_URL}/chat/markAsRead/${n}`,{userId:e._id});const r=t.map((t=>t._id===n?{...t,unreadMessages:{...t.unreadMessages,[e._id]:!1}}:t));p(r)}catch(r){console.error("Error marking chat as read:",r)}};return(0,ld.jsxs)("div",{className:"flex h-full",children:[(0,ld.jsxs)("div",{className:"h-full w-64 text-white p-4",style:{backgroundColor:"#262626"},children:[(0,ld.jsx)("h2",{className:"text-lg font-bold mb-4",children:"chats"}),(0,ld.jsx)("ul",{className:"space-y-2",children:t.map(((t,n)=>{var s,a,o,l,u;return(0,ld.jsxs)("li",{onClick:()=>(async t=>{i(t._id),t.unreadMessages&&t.unreadMessages[e._id]&&await x(t._id)})(t),className:"flex flex-col p-2 rounded-md cursor-pointer transition-all "+(t._id===r?"bg-gray-600":"bg-neutral-900"),children:[(0,ld.jsxs)("span",{className:"font-medium flex justify-between items-center",children:[t.isGroupChat?t.groupName:t.otherUserName,t.unreadMessages&&t.unreadMessages[e._id]&&(0,ld.jsx)("span",{className:"w-3 h-3 bg-orange-500 rounded-full"})]}),(0,ld.jsxs)("span",{children:[(null===(s=t.lastMessage)||void 0===s?void 0:s.senderId)===e._id?"You":null===(a=t.lastMessage)||void 0===a?void 0:a.senderName,": ",null===(o=t.lastMessage)||void 0===o?void 0:o.content," - ",(u=null===(l=t.lastMessage)||void 0===l?void 0:l.timestamp,new Date(u).toLocaleDateString("en-US"))]})]},n)}))})]}),(0,ld.jsx)("div",{className:"flex-1 p-6 bg-black",children:(0,ld.jsx)("div",{className:"h-full flex flex-col",children:r?(0,ld.jsxs)("div",{className:"overflow-y-scroll flex flex-col-reverse gap-4 h-full",onScroll:w,children:[(0,ld.jsx)("div",{ref:m}),(0,ld.jsxs)("div",{className:"flex gap-4",children:[(0,ld.jsx)(bd,{name:"message",placeholder:"Hey, I think you're super cool!",value:s,setValue:a}),(0,ld.jsx)(kd,{onClick:async()=>{try{await c(r,e._id,s),a("")}catch(n){var t;Yc.isAxiosError(n)&&429===(null===(t=n.response)||void 0===t?void 0:t.status)&&alert(n.response.data.error)}}})]}),(0,ld.jsx)("div",{className:"mt-auto flex flex-col gap-2",children:n.map(((t,n)=>{const r=t.sender===(null===e||void 0===e?void 0:e._id);return(0,ld.jsx)(Uk,{content:t.content,timestamp:t.timestamp,isSender:r,senderName:t.senderName},n)}))}),v&&(0,ld.jsx)("div",{children:"Loading more messages..."})]}):(0,ld.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,ld.jsx)("p",{className:"text-gray-500",children:"Select a chat to start messaging!"})})})})]})};function qk(e){return ad({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 277.4h189.7l-43.6 44.7L368 352l96-96-96-96-31 29.9 44.7 44.7H192v42.8z"},child:[]},{tag:"path",attr:{d:"M255.7 421.3c-44.1 0-85.5-17.2-116.7-48.4-31.2-31.2-48.3-72.7-48.3-116.9 0-44.1 17.2-85.7 48.3-116.9 31.2-31.2 72.6-48.4 116.7-48.4 44 0 85.3 17.1 116.5 48.2l30.3-30.3c-8.5-8.4-17.8-16.2-27.7-23.2C339.7 61 298.6 48 255.7 48 141.2 48 48 141.3 48 256s93.2 208 207.7 208c42.9 0 84-13 119-37.5 10-7 19.2-14.7 27.7-23.2l-30.2-30.2c-31.1 31.1-72.5 48.2-116.5 48.2zM448.004 256.847l-.849-.848.849-.849.848.849z"},child:[]}]})(e)}const Hk=e=>{let{currentTab:t,setCurrentTab:n,Logout:r}=e;return(0,ld.jsx)("nav",{className:"h-screen w-16 flex flex-col justify-center items-center",style:{backgroundColor:"#262626"},children:(0,ld.jsxs)("ul",{className:"flex flex-col gap-6",children:[(0,ld.jsx)("li",{onClick:()=>n("editProfile"),children:(0,ld.jsx)(Je,{to:"#",className:"flex items-center justify-center w-full h-16",children:(0,ld.jsx)(tS,{size:24,className:"editProfile"===t?"text-orange-500":"text-white"})})}),(0,ld.jsx)("li",{onClick:()=>n("search"),children:(0,ld.jsx)(Je,{to:"#",className:"flex items-center justify-center w-full h-16",children:(0,ld.jsx)(rS,{size:24,className:"search"===t?"text-orange-500":"text-white"})})}),(0,ld.jsx)("li",{onClick:()=>n("chat"),children:(0,ld.jsx)(Je,{to:"#",className:"flex items-center justify-center w-full h-16",children:(0,ld.jsx)(nS,{size:24,className:"chat"===t?"text-orange-500":"text-white"})})}),(0,ld.jsx)("li",{onClick:()=>n("community"),children:(0,ld.jsx)(Je,{to:"#",className:"flex items-center justify-center w-full h-16",children:(0,ld.jsx)(sS,{size:24,className:"community"===t?"text-orange-500":"text-white"})})}),(0,ld.jsx)("li",{onClick:r,className:"justify-self-end",children:(0,ld.jsx)(Je,{to:"#",className:"flex items-center justify-center w-full h-16",children:(0,ld.jsx)(qk,{size:"24",className:"text-red-500"})})})]})})},Kk=()=>{var e,t,n,r,s,a;const{user:o}=vd(),[i,l]=(0,T.useState)({content:(null===o||void 0===o||null===(e=o.about)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.content)||"",duration:""}),[u,c]=(0,T.useState)([]),d=async()=>{try{const e=await Yc.get("http://localhost:5000/user/statuses");c(e.data)}catch(e){console.error("Error fetching statuses:",e)}};(0,T.useEffect)((()=>{d()}),[]);const h=async e=>{e.preventDefault();try{await Yc.patch("http://localhost:5000/user/status",{status:i.content,duration:i.duration,userId:null===o||void 0===o?void 0:o._id}),d()}catch(t){console.error("Error setting status:",t)}};return(0,ld.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,ld.jsx)(Ed,{children:"Community"}),(0,ld.jsxs)("form",{onSubmit:h,className:"flex gap-4 items-center",children:[(0,ld.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ld.jsx)("div",{className:"w-72",children:(0,ld.jsx)(bd,{label:"Status",name:"content",placeholder:"What's on your mind?",value:i.content,setValue:e=>{l((t=>({...t,content:e})))}})}),(0,ld.jsx)("div",{className:"w-30",children:(0,ld.jsx)(xd,{label:"Duration",name:"duration",options:["24h","48h","1w"],value:i.duration,setValue:e=>{l((t=>({...t,duration:e})))}})})]}),(0,ld.jsx)("div",{className:"mt-4",children:(0,ld.jsx)(kd,{onClick:h})})]}),null!==o&&void 0!==o&&null!==(n=o.about)&&void 0!==n&&null!==(r=n.status)&&void 0!==r&&r.content&&null!==o&&void 0!==o&&null!==(s=o.about)&&void 0!==s&&null!==(a=s.status)&&void 0!==a&&a.expirationDate?(0,ld.jsx)("div",{className:"text-neutral-200",children:(0,ld.jsxs)("p",{children:['Your status: "',o.about.status.content,'" expires in'," ",(e=>{const t=new Date,n=new Date(e).getTime()-t.getTime();if(n<=0)return"Expired";const r=Math.floor(n/864e5),s=Math.floor(n%864e5/36e5);return r>0?`${r} day(s)`:s>0?`${s} hour(s)`:"Less than an hour"})(o.about.status.expirationDate)]})}):null,(0,ld.jsx)("div",{className:"flex flex-wrap gap-6 mt-8",children:u.map(((e,t)=>(0,ld.jsxs)("div",{className:"relative",children:[(0,ld.jsxs)("div",{className:"relative",children:[(0,ld.jsx)("img",{src:e.user.photo,alt:`${e.user.name}'s profile`,className:"w-24 h-24 rounded-full"}),e.user.about.status&&(0,ld.jsx)("div",{className:"absolute -top-2 -right-2 bg-purple-600 text-white text-xs rounded-full px-2 py-1",children:e.user.about.status.content})]}),(0,ld.jsx)("p",{className:"text-center text-neutral-200 mt-2",children:e.user.name})]},t)))})]})},Gk=()=>{const e=_e(),{user:t,setUser:n}=vd(),{setCurrentChatId:r}=vS(),[s,a]=(0,T.useState)("search"),{connectSocket:o,disconnectSocket:i}=Vk(),l=(0,T.useCallback)((()=>{n(null),function(){var e,t,n;null===(n=null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.id)||void 0===n||n.disableAutoSelect()}(),document.cookie="token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",e("/signin")}),[e,n]);return(0,T.useEffect)((()=>{(async()=>{const t=pd("token");if(console.log(t),t&&"undefined"!==t)try{const{data:e}=await Yc.post(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENT_ID:"520788253939-rmb3tskj5fhq36htjdnbvelkdh0f2gj0.apps.googleusercontent.com"}.REACT_APP_SERVER_URL}`,{},{withCredentials:!0}),{status:t,user:r}=e;if(t)return n(r),o(r._id),()=>{i()};l()}catch(r){console.error("Error verifying cookie",r),l()}else e("/signin")})()}),[e,l,n,o,i]),(0,ld.jsxs)("section",{className:"flex",children:[(0,ld.jsx)(Hk,{Logout:l,currentTab:s,setCurrentTab:a}),(0,ld.jsx)("div",{className:"container mx-auto flex flex-col gap-16 py-24 w-full",children:t?"editProfile"===s?(0,ld.jsx)(Zx,{}):"search"===s?(0,ld.jsx)(bS,{setCurrentTab:a,setCurrentChatId:r}):"chat"===s?(0,ld.jsx)(Wk,{}):(0,ld.jsx)(Kk,{}):null})]})},Yk=()=>(0,ld.jsxs)(Ue,{children:[(0,ld.jsx)(ze,{path:"/signin",element:(0,ld.jsx)(ud,{})}),(0,ld.jsx)(ze,{path:"/",element:(0,ld.jsx)(Gk,{})})]});_.createRoot(document.getElementById("root")).render((0,ld.jsx)(A,{clientId:"520788253939-rmb3tskj5fhq36htjdnbvelkdh0f2gj0.apps.googleusercontent.com",children:(0,ld.jsx)(Ye,{children:(0,ld.jsx)(Yk,{})})}))})()})();
//# sourceMappingURL=main.c33319ac.js.map